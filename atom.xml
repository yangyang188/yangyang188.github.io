<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>洋洋的小站</title>
  
  <subtitle>洋洋的个人博客</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yangyang188.coding.me/"/>
  <updated>2019-11-04T10:12:36.682Z</updated>
  <id>https://yangyang188.coding.me/</id>
  
  <author>
    <name>洋洋</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>无法重来的一生</title>
    <link href="https://yangyang188.coding.me/archives/e3d22906/"/>
    <id>https://yangyang188.coding.me/archives/e3d22906/</id>
    <published>2019-11-04T10:05:49.000Z</published>
    <updated>2019-11-04T10:12:36.682Z</updated>
    
    <content type="html"><![CDATA[<div class="note default">            <p>最初我们来到这个世界，是因为不得不来；最终我们离开这个世界，是因为不得不走。这中间的过程就随心的活着吧！</p><p>人一辈子过的不易，酸甜苦辣，悲观离合，我们都要好好的活着，在有生之年，过自己想要的生活。</p><p>与其取悦别人，不如快乐自己，能把困苦的生活，活出诗意，把薄情的世界活出深情，这才是本事……</p>          </div><a id="more"></a><h3 id="gt"><a href="#gt" class="headerlink" title="&gt;"></a>&gt;</h3><p>活法不一样，结果也不一样：</p><p>如果你的生活以金钱为中心，你会活得很苦；</p><p>如果你的生活以儿女为中心，你会活得很累；</p><p>如果你的生活以爱情为中心，你会活得很伤；</p><p>如果你的生活以攀比为中心，你会很苦闷；</p><p>如果你的生活以宽容为中心，你会很幸福；</p><p>如果你的生活以知足为中心，你会很快乐；</p><p>如果你的生活以感恩为中心，你会很善良。</p><hr><h3 id="gt-1"><a href="#gt-1" class="headerlink" title="&gt;"></a>&gt;</h3><p>当你真的躺在病床上的时候，你就什么都不怕了，但这个时候谁都怕你了：<br>爹妈怕你治不好，无人替他们养老送终；</p><p>配偶怕你拖累他，大难临头各自飞；</p><p>亲戚朋友怕你借钱，微信无回音电话打不通；</p><p>领导怕你不能回来工作，赶紧找人替你；</p><p>到那时，脾气和傲气全然不见了……</p><p>所以，一定要照顾好自己，什么都不是自己的，唯独身体是自己的，最重要的只有健康，学会照顾自己，爱自己，生活就这么现实，且行且珍惜！</p><hr><h3 id="gt-2"><a href="#gt-2" class="headerlink" title="&gt;"></a>&gt;</h3><p>当你累了，会有很多人对你说，累就别干了……</p><p>可给你钱花的有吗？</p><p>当你生病了，会有很多人对你说，吃点药吧……</p><p>可真正给你买药的人有吗？</p><p>当你说手机不行了，会有很多人对你说不行就换一个吧……</p><p>可真正能给你换的人能有吗？</p><p>当你遇到困难了，会有很多人说没事会过去的……</p><p>可是真正能帮你的人会有几个？</p><p>不要只听说，要看怎么做。这个世界从来不缺看热闹的，努力吧，你不努力谁也给不了你想要的生活。</p><p>有些事想开了，你就会明白：</p><p>在这个世界上，你就是你。你痛，痛你自己；你累，累你自己。</p><p>就算有人同情你，那又怎样，最后收拾残局的，还是要靠你自己。</p><p>记住：有些人你可以期待，但不能依赖。时刻告诫自己、努力、坚强！ </p><p>天上下雨地上滑，自己滑倒自己爬，每个人的路都得自己走，累不累，只有自己知道。</p><hr><h3 id="gt-3"><a href="#gt-3" class="headerlink" title="&gt;"></a>&gt;</h3><p>每个人的泪都得自己擦！任何人也无法代替你自己。</p><p>别缠着往事不肯走，别赖着曾经不放手。</p><p>当一个人忽略你时，不要伤心，每个人都有自己的生活，谁都不可能一直陪你。</p><p>最尴尬的莫过于高估自己在别人心里的位置，其实你明明知道，最卑贱不过感情，最凉不过人心。</p><p>你必须明白，要走的人留不住，装睡的人叫不醒，不喜欢你的人感动不了。</p><p>每个人，都在争取一个完满的人生。然而，世界上没有绝对完满的东西。</p><p>太阳一到中间，马上就会偏西；月圆，马上就会月亏。所以，有缺憾才是恒久，不完满才叫人生。</p><p>其实，最好的境界就是花未开全，月未圆。</p><p>肯低头，就永远不会撞门；肯让步，就永远不会退步；求缺的人，才有满足感；惜福的人，才有幸福感！</p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;
            &lt;p&gt;最初我们来到这个世界，是因为不得不来；最终我们离开这个世界，是因为不得不走。这中间的过程就随心的活着吧！&lt;/p&gt;&lt;p&gt;人一辈子过的不易，酸甜苦辣，悲观离合，我们都要好好的活着，在有生之年，过自己想要的生活。&lt;/p&gt;&lt;p&gt;与其取悦别人，不如快乐自己，能把困苦的生活，活出诗意，把薄情的世界活出深情，这才是本事……&lt;/p&gt;
          &lt;/div&gt;
    
    </summary>
    
    
      <category term="摘抄" scheme="https://yangyang188.coding.me/categories/%E6%91%98%E6%8A%84/"/>
    
    
      <category term="摘抄" scheme="https://yangyang188.coding.me/tags/%E6%91%98%E6%8A%84/"/>
    
  </entry>
  
  <entry>
    <title>hexo内置标签补充</title>
    <link href="https://yangyang188.coding.me/archives/445ba317/"/>
    <id>https://yangyang188.coding.me/archives/445ba317/</id>
    <published>2019-11-01T01:53:46.000Z</published>
    <updated>2019-11-01T04:15:10.861Z</updated>
    
    <content type="html"><![CDATA[<div class="note default">            <p>本文主要介绍hexo内部标签使用</p>          </div><a id="more"></a><h2 id="hexo内置标签"><a href="#hexo内置标签" class="headerlink" title="hexo内置标签"></a>hexo内置标签</h2><h3 id="button-按钮"><a href="#button-按钮" class="headerlink" title="button 按钮"></a>button 按钮</h3><p>通过 button 标签可以快速添加带有主题样式的按钮，语法如下：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% button /<span class="type">path</span>/<span class="keyword">to</span>/url/, <span class="type">text</span>, icon [<span class="keyword">class</span>], title %&#125;</span><br></pre></td></tr></table></figure><p>也可简写为：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% btn /<span class="type">path</span>/<span class="keyword">to</span>/url/, <span class="type">text</span>, icon [<span class="keyword">class</span>], title %&#125;</span><br></pre></td></tr></table></figure><div class="note info no-icon">            <p>其中， 图标 ID 来源于 <a href="https://fontawesome.com/v4.7.0/icons/" target="_blank" rel="external nofollow noopener noreferrer">FontAwesome</a> 。</p>          </div><p>使用示例如下：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #, 文本 %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #, 文本 &amp; 标题,, 标题 %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #, 文本 &amp; 图标, home %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #, 文本 &amp; 大图标 (固定宽度), home fa-fw fa-lg %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><a class="btn" href="#">文本</a><a class="btn" href="#" title="标题">文本 & 标题</a><a class="btn" href="#"><i class="fa fa-home"></i>文本 & 图标</a><a class="btn" href="#"><i class="fa fa-home fa-fw fa-lg"></i>文本 & 大图标 (固定宽度)</a><a class="btn" href="/"><i class="fa fa-home"></i>首页 & 图标</a><h3 id="插入-Swig-代码"><a href="#插入-Swig-代码" class="headerlink" title="插入 Swig 代码"></a>插入 Swig 代码</h3><p>如果需要在页面内插入 Swig 代码，包括原生 HTML 代码，JavaScript 脚本等，可以通过 raw 标签来禁止 Markdown 引擎渲染标签内的内容。语法如下：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> raw </span>%&#125;</span><br><span class="line">content</span><br><span class="line">&#123;% endraw %&#125;</span><br></pre></td></tr></table></figure><p>该标签通常用于在页面内引入三方脚本实现特殊功能，尤其是当该三方脚本尚无相关 hexo 插件支持的时候，可以通过写原生 Web 页面的形式引入脚本并编写实现逻辑。</p><h3 id="网易云音乐"><a href="#网易云音乐" class="headerlink" title="网易云音乐"></a>网易云音乐</h3><p>在网页版云音乐中找到歌曲，点击生成外链播放器</p><p>根据个人喜好选择播放器尺寸和播放模式</p><p>复制代码</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="attribute">frameborder</span>=<span class="string">"no"</span> <span class="attribute">border</span>=<span class="string">"0"</span> <span class="attribute">marginwidth</span>=<span class="string">"0"</span> <span class="attribute">marginheight</span>=<span class="string">"0"</span> <span class="attribute">width</span>=330 <span class="attribute">height</span>=86 <span class="attribute">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=1337926081&amp;auto=0&amp;height=66"</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=1337926081&auto=1&height=66"></iframe><h3 id="b站视频"><a href="#b站视频" class="headerlink" title="b站视频"></a>b站视频</h3><p>在b站找到喜欢的视频，点击分享，生成外链播放器</p><p>根据个人喜好选择播放器尺寸和播放模式</p><p>复制代码</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">iframe</span> src=<span class="string">"//player.bilibili.com/player.html?aid=35314148&amp;cid=61896359&amp;page=1"</span> scrolling=<span class="string">"no"</span> <span class="attribute">border</span>=<span class="string">"0"</span> frameborder=<span class="string">"no"</span> framespacing=<span class="string">"0"</span> allowfullscreen=<span class="string">"true"</span>&gt; &lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><iframe src="//player.bilibili.com/player.html?aid=35314148&cid=61896359&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;
            &lt;p&gt;本文主要介绍hexo内部标签使用&lt;/p&gt;
          &lt;/div&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>HEXO-NexT-V7-Gemini主题优化篇</title>
    <link href="https://yangyang188.coding.me/archives/3575fa23/"/>
    <id>https://yangyang188.coding.me/archives/3575fa23/</id>
    <published>2019-10-31T11:26:57.000Z</published>
    <updated>2019-11-01T01:40:23.650Z</updated>
    
    <content type="html"><![CDATA[<div class="note default">            <p>本文主要介绍了hexo个人博客next主题优化, 启用数据目录的方法,转移自定义 CSS 等配置文件的方法等</p>          </div><a id="more"></a><blockquote><p>本文使用的版本：Node.js: v12.6.0，npm: 6.9.0， hexo: 4.0.0，NexT: v7.4.2</p></blockquote><h3 id="启用数据目录"><a href="#启用数据目录" class="headerlink" title="启用数据目录"></a>启用数据目录</h3><div class="note info no-icon">            <p>参考：<a href="https://www.imczw.com/post/tech/next_data_file.html" target="_blank" rel="external nofollow noopener noreferrer">NexT 7.3 数据目录及自定义 CSS 的启用方式</a></p>          </div><p>在 根目录<code>/source/_data</code> 目录下新建 <code>next.yml</code> 文件，把 <code>Next</code> 的主题配置文件 <code>next/_config.yml</code> 内容全部复制到 <code>next.yml</code>，然后修改以下位置</p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># If false, <span class="keyword">merge</span> configs <span class="keyword">from</span> <span class="symbol">`_data/next.yml`</span> <span class="keyword">into</span> default configuration (rewrite).</span><br><span class="line"># <span class="keyword">If</span> <span class="literal">true</span>, will fully override default configuration <span class="keyword">by</span> options <span class="keyword">from</span> <span class="symbol">`_data/next.yml`</span> (override). Only <span class="keyword">for</span> NexT settings.</span><br><span class="line"># <span class="keyword">And</span> <span class="keyword">if</span> <span class="literal">true</span>, <span class="keyword">all</span> config <span class="keyword">from</span> default NexT <span class="symbol">`_config.yml`</span> must be copied <span class="keyword">into</span> <span class="symbol">`next.yml`</span>. <span class="keyword">Use</span> <span class="keyword">if</span> you know what you are doing.</span><br><span class="line"># Useful <span class="keyword">if</span> you want <span class="keyword">to</span> comment <span class="keyword">some</span> options <span class="keyword">from</span> NexT <span class="symbol">`_config.yml`</span> <span class="keyword">by</span> <span class="symbol">`next.yml`</span> without editing default config.override: <span class="literal">false</span></span><br><span class="line">override: <span class="literal">true</span></span><br></pre></td></tr></table></figure><blockquote><p>定义 CSS 路径</p></blockquote><p>配置 <code>/source/_data/next.yml</code></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">custom_file_path:</span></span><br><span class="line">  ... </span><br><span class="line"><span class="symbol">  style:</span> source/_data/styles.styl</span><br></pre></td></tr></table></figure><p>接着在 <code>/source/_data</code> 目录下新建 <code>styles.styl</code> 文件，把以前 <code>custom.styl</code> 文件的内容复制过来即可</p><h3 id="数据统计"><a href="#数据统计" class="headerlink" title="数据统计"></a>数据统计</h3><div class="note info no-icon">            <p>参考：<a href="http://yearito.cn/posts/hexo-advanced-settings.html" target="_blank" rel="external nofollow noopener noreferrer">Hexo 搭建个人博客系列：进阶设置篇</a></p>          </div><h4 id="站点访问量统计"><a href="#站点访问量统计" class="headerlink" title="站点访问量统计"></a>站点访问量统计</h4><div class="note info no-icon">            <p>该功能由 <a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="external nofollow noopener noreferrer">不蒜子</a> 提供 包括：独立访客数 UV，浏览量 PV</p>          </div><p>效果如下：<br><img src="https://tvax1.sinaimg.cn/large/d818c3ccly1g8hnctz76rj20dx02saa3.jpg" alt></p><p>主题配置文件：<code>/source/_data/next.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_visitors:</span> <span class="literal">true</span>   <span class="comment"># 访客数</span></span><br><span class="line"><span class="attr">  total_visitors_icon:</span> <span class="string">user</span></span><br><span class="line"><span class="attr">  total_views:</span> <span class="literal">true</span>   <span class="comment"># 访问量</span></span><br><span class="line"><span class="attr">  total_views_icon:</span> <span class="string">eye</span></span><br><span class="line"><span class="attr">  post_views:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  post_views_icon:</span> <span class="string">eye</span></span><br></pre></td></tr></table></figure><blockquote><p>高阶用法：通过修改代码来自定义统计文案</p></blockquote><p>编辑<code>themes/next/layout/_partials/analytics/busuanzi-counter.swig</code></p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.busuanzi_count.enable %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"busuanzi-count"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span></span></span><span class="template-variable">&#123;&#123; pjax &#125;&#125;</span><span class="xml"><span class="tag"> <span class="attr">async</span> <span class="attr">src</span>=<span class="string">"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.busuanzi_count.total_visitors %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-uv"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-variable">&#123;&#123; __('footer.total_visitors', '&lt;span class="busuanzi-value" id="busuanzi_value_site_uv"&gt;&lt;/span&gt;') &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.busuanzi_count.total_visitors and theme.busuanzi_count.total_views %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.busuanzi_count.total_views %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"site-pv"</span>&gt;</span></span></span><br><span class="line"><span class="xml">     </span><span class="template-variable">&#123;&#123; __('footer.total_views', '&lt;span class="busuanzi-value" id="busuanzi_value_site_pv"&gt;&lt;/span&gt;') &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><p>在自定义样式文件中添加如下样式：</p><p>编辑：<code>/source/_data/styles.styl</code></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改不蒜子数据颜色</span></span><br><span class="line"><span class="selector-class">.busuanzi-value</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#1890ff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>编辑：<code>themes\next\languages\zh-CN.yml</code></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">footer:</span></span><br><span class="line"><span class="symbol">  total_views:</span> <span class="string">"历经 %s 次回眸才与你相遇"</span></span><br><span class="line"><span class="symbol">  total_visitors:</span> <span class="string">"我的第 %s 位朋友，"</span></span><br></pre></td></tr></table></figure><h4 id="站点运行时间统计"><a href="#站点运行时间统计" class="headerlink" title="站点运行时间统计"></a>站点运行时间统计</h4><p>创建文件<code>source/_data/footer.swig</code>添加以下代码:</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="comment">&#123;# 页脚站点运行时间统计 #&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.footer.ages.enable %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/moment@2.22.2/moment.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.jsdelivr.net/npm/moment-precise-range-plugin@1.3.0/moment-precise-range.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml">    function timer() &#123;</span></span><br><span class="line"><span class="xml">      var ages = moment.preciseDiff(moment(),moment(</span><span class="template-variable">&#123;&#123; theme.footer.ages.birthday &#125;&#125;</span><span class="xml">,"YYYYMMDD"));</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/years?/, "年");</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/months?/, "月");</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/days?/, "天");</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/hours?/, "小时");</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/minutes?/, "分");</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/seconds?/, "秒");</span></span><br><span class="line"><span class="xml">      ages = ages.replace(/\d+/g, '<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color:</span></span></span><span class="template-variable">&#123;&#123; theme.footer.ages.color &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span>$&amp;<span class="tag">&lt;/<span class="name">span</span>&gt;</span>');</span></span><br><span class="line"><span class="xml">      div.innerHTML = `</span><span class="template-variable">&#123;&#123; __('footer.age')&#125;&#125;</span><span class="xml"> $&#123;ages&#125;`;</span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line"><span class="xml">    var div = document.createElement("div");</span></span><br><span class="line"><span class="xml">    //插入到copyright之后</span></span><br><span class="line"><span class="xml">    var copyright = document.querySelector(".copyright");</span></span><br><span class="line"><span class="xml">    document.querySelector(".footer-inner").insertBefore(div, copyright.nextSibling);</span></span><br><span class="line"><span class="xml">    timer();</span></span><br><span class="line"><span class="xml">    setInterval("timer()",1000)</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><p>主题配置文件：<code>/source/_data/next.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="string">...</span> </span><br><span class="line"><span class="attr">  style:</span> <span class="attr">footer:</span> <span class="string">source/_data/footer.swig</span></span><br><span class="line"></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line"><span class="string">+</span> <span class="attr">ages:</span></span><br><span class="line"><span class="string">+</span>     <span class="comment"># site running time</span></span><br><span class="line"><span class="string">+</span>     <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">+</span>     <span class="comment"># birthday of your site</span></span><br><span class="line"><span class="string">+</span>     <span class="attr">birthday:</span> <span class="number">20191031</span></span><br><span class="line"><span class="string">+</span>     <span class="comment"># color of number</span></span><br><span class="line"><span class="string">+</span>     <span class="attr">color:</span> <span class="string">"#1890ff"</span></span><br></pre></td></tr></table></figure><p>然后补全对应文案：</p><p><code>themes\next\languages\zh-CN.yml</code><br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attribute">footer</span>:</span><br><span class="line">    <span class="attribute">powered</span>: <span class="string">"由 %s 强力驱动"</span></span><br><span class="line">    <span class="attribute">theme</span>: 主题</span><br><span class="line">+   <span class="attribute">age</span>: 我已在此等候你</span><br><span class="line">    <span class="attribute">total_views</span>: <span class="string">"历经 %s 次回眸才与你相遇"</span></span><br><span class="line">    <span class="attribute">total_visitors</span>: <span class="string">"我的第 %s 位朋友，"</span></span><br></pre></td></tr></table></figure><br>刷新浏览器即可生效。</p><h4 id="文章访问量统计"><a href="#文章访问量统计" class="headerlink" title="文章访问量统计"></a>文章访问量统计</h4><div class="note info no-icon">            <p>该功能基于 <a href="https://leancloud.cn/" target="_blank" rel="external nofollow noopener noreferrer">LeanCloud</a> 提供后端数据服务</p>          </div><p>效果如下：<br><img src="https://tva2.sinaimg.cn/large/d818c3ccly1g8ho8u0ywxj20ts032dfz.jpg" alt="文章访问量"></p><p>在 LeanCloud 上注册账号并创建应用，新建一个名为 Counter 的 Class，ACL 权限设置为 无限制：</p><div class="note warning">            <p>在 LeanCloud 中的 Class 可以理解为数据库中的数据表。Counter 用于存储记录文章访问量，记录是以 url 作为唯一依据的，所以根据默认的 permalink 组成结构，如果你更改了文章的发布日期和标题中的任意一个，都会造成文章阅读数值的清零重计。</p>          </div><p>在控制台的 设置 -&gt; 应用 Key 中获取 App ID 和 App Key 填入到主题配置文件中：</p><p><code>/source/_data/next.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">leancloud_visitors:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  app_id:</span> <span class="string">***&lt;app_id***</span></span><br><span class="line"><span class="attr">  app_key:</span> <span class="string">***&lt;app_key&gt;***</span></span><br><span class="line"><span class="attr">  security:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  betterPerformance:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>刷新浏览器即可生效。</p><div class="note warning">            <p>如果遇到如下报错，可能是你配置了 security: true 但又没有做好安全策略配置。</p><p>阅读次数： Counter not initialized! See more at console err msg.</p>          </div><h4 id="站点及文章字数统计"><a href="#站点及文章字数统计" class="headerlink" title="站点及文章字数统计"></a>站点及文章字数统计</h4><div class="note info no-icon">            <p>该功能由 <a href="https://github.com/theme-next/hexo-symbols-count-time" target="_blank" rel="external nofollow noopener noreferrer">hexo-symbols-count-time</a> 提供</p>          </div><p>在根目录下执行如下命令安装相关依赖<br><code>npm install hexo-symbols-count-time --save</code></p><p>将如下配置项添加到站点配置文件中，这些配置项主要用于控制每项统计信息是否显示。</p><p><code>_config.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  symbols:</span> <span class="literal">true</span>   <span class="comment"># 统计单篇文章字数</span></span><br><span class="line"><span class="attr">  time:</span> <span class="literal">false</span>   <span class="comment"># 取消估算单篇文章阅读时间</span></span><br><span class="line"><span class="attr">  total_symbols:</span> <span class="literal">true</span>  <span class="comment"># 统计站点总字数</span></span><br><span class="line"><span class="attr">  total_time:</span> <span class="literal">false</span>  <span class="comment"># 取消估算站点总阅读时间</span></span><br></pre></td></tr></table></figure><p>在主题配置文件中做如下修改，这些配置项主要用于控制统计信息的显示样式。</p><p><code>/source/_data/next.yml</code><br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line"><span class="attr">  separated_meta:</span> <span class="literal">false</span>  <span class="comment"># 统计信息不换行显示</span></span><br><span class="line"><span class="attr">  item_text_post:</span> <span class="literal">true</span>  <span class="comment"># 文章统计信息中是否显示“本文字数/阅读时长”等描述文字</span></span><br><span class="line"><span class="attr">  item_text_total:</span> <span class="literal">true</span>   <span class="comment"># 站点统计信息中是否显示“本文字数/阅读时长”等描述文字</span></span><br><span class="line"><span class="attr">  awl:</span> <span class="number">4</span>  <span class="comment"># Average Word Length：平均字符长度</span></span><br><span class="line"><span class="attr">  wpm:</span> <span class="number">275</span>  <span class="comment"># Words Per Minute：阅读速度</span></span><br></pre></td></tr></table></figure></p><h3 id="站点个性化设置"><a href="#站点个性化设置" class="headerlink" title="站点个性化设置"></a>站点个性化设置</h3><h4 id="热门文章排行榜"><a href="#热门文章排行榜" class="headerlink" title="热门文章排行榜"></a>热门文章排行榜</h4><p>效果如下：<br><img src="//tvax1.sinaimg.cn/large/d818c3ccly1g8i8hbqs2nj20ry0hdq3m.jpg" alt></p><div class="note info no-icon">            <p>该功能同样是基于 LeanCloud 提供的后端服务支持。具体实现方案如下：</p>          </div><p>在站点目录下执行以下命令新建页面<br><code>hexo new page top</code></p><p><code>/source/_data/next.yml</code><br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">    home:</span> / || home</span><br><span class="line">+   top: <span class="meta-keyword">/top/</span> || signal</span><br><span class="line"><span class="symbol">    tags:</span> <span class="meta-keyword">/tags/</span> || tags</span><br><span class="line"><span class="symbol">    categories:</span> <span class="meta-keyword">/categories/</span> || th</span><br><span class="line"><span class="symbol">    archives:</span> <span class="meta-keyword">/archives/</span> || archive</span><br><span class="line"><span class="symbol">    about:</span> <span class="meta-keyword">/about/</span> || user</span><br></pre></td></tr></table></figure></p><p>在语言包中新增菜单中文：</p><p><code>themes\next\languages\zh-CN.yml</code><br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attribute">menu</span>:</span><br><span class="line">    <span class="attribute">home</span>: 首页</span><br><span class="line">    <span class="attribute">archives</span>: 归档</span><br><span class="line">    <span class="attribute">categories</span>: 分类</span><br><span class="line">    <span class="attribute">tags</span>: 标签</span><br><span class="line">    <span class="attribute">about</span>: 关于</span><br><span class="line">+   <span class="attribute">top</span>: 排行榜</span><br></pre></td></tr></table></figure></p><p>然后在新增的排行榜页面内添加以下内容：</p><p><code>source\top\index.md</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章阅读量排行榜</span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">keywords: top,文章阅读量排行榜</span><br><span class="line">description: 博客文章阅读量排行榜</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">&lt;style&gt;.post-description &#123; <span class="attr">display</span>: none; &#125;&lt;<span class="regexp">/style&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;div id="top"&gt;&lt;/</span>div&gt;</span><br><span class="line">&lt;script src=<span class="string">"https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"</span>&gt;<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;script&gt;AV.initialize(<span class="string">"[APP_ID]"</span>, <span class="string">"[APP_KEY]"</span>);<span class="xml"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span> <span class="comment">//输入个人LeanCloud账号AppID 输入个人LeanCloud账号AppKey</span></span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> time=<span class="number">0</span></span><br><span class="line">  <span class="keyword">var</span> title=<span class="string">""</span></span><br><span class="line">  <span class="keyword">var</span> url=<span class="string">""</span></span><br><span class="line">  <span class="keyword">var</span> query = <span class="keyword">new</span> AV.Query(<span class="string">'Counter'</span>);</span><br><span class="line">  query.notEqualTo(<span class="string">'id'</span>,<span class="number">0</span>);</span><br><span class="line">  query.descending(<span class="string">'time'</span>); <span class="comment">//结果按阅读次数降序排序</span></span><br><span class="line">  query.limit(<span class="number">10</span>); <span class="comment">//最终只返回10条结果</span></span><br><span class="line">  query.find().then(<span class="function"><span class="keyword">function</span> (<span class="params">todo</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>;i&lt;<span class="number">1000</span>;i++)&#123;</span><br><span class="line">      <span class="keyword">var</span> result=todo[i].attributes;</span><br><span class="line">      time=result.time;</span><br><span class="line">      title=result.title;</span><br><span class="line">      url=result.url;</span><br><span class="line">      <span class="keyword">var</span> content=<span class="string">"&lt;a href='"</span>+<span class="string">"https://zhihuya188.github.io"</span>+url+<span class="string">"'&gt;"</span>+title+<span class="string">"&lt;/a&gt;"</span>+<span class="string">"&lt;br /&gt;"</span>+<span class="string">"&lt;font color='#555'&gt;"</span>+<span class="string">"阅读次数："</span>+time+<span class="string">"&lt;/font&gt;"</span>+<span class="string">"&lt;br /&gt;&lt;br /&gt;"</span>;</span><br><span class="line">      <span class="built_in">document</span>.getElementById(<span class="string">"top"</span>).innerHTML+=content</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"error"</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><h4 id="站内搜索"><a href="#站内搜索" class="headerlink" title="站内搜索"></a>站内搜索</h4><div class="note info no-icon">            <p>该功能由 <a href="https://github.com/theme-next/hexo-generator-searchdb" target="_blank" rel="external nofollow noopener noreferrer">hexo-generator-searchdb</a> 提供</p>          </div><p>在根目录下执行以下命令安装相关依赖：<br><code>npm install hexo-generator-searchdb --save</code></p><p>主题配置文件<code>/source/_data/next.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  trigger:</span> <span class="string">auto</span>  <span class="comment"># 每次输入改变都执行搜索</span></span><br><span class="line"><span class="attr">  top_n_per_article:</span> <span class="number">3</span>  <span class="comment"># 每篇文章显示的搜索结果数量</span></span><br><span class="line"><span class="attr">  unescape:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>在站点配置文件中添加以下字段：</p><p><code>_config.yml</code><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">search:</span><br><span class="line">  path: search.xml</span><br><span class="line">  field: post  # 指定搜索范围，可选 post |<span class="built_in"> page </span>| all</span><br><span class="line">  format: html  # 指定页面内容形式，可选 html |<span class="built_in"> raw </span>(Markdown) | excerpt | more</span><br><span class="line">  limit: 10000</span><br></pre></td></tr></table></figure></p><h4 id="文末版权声明"><a href="#文末版权声明" class="headerlink" title="文末版权声明"></a>文末版权声明</h4><p>主题配置文件<code>/source/_data/next.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 添加文章版权信息</span></span><br><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">by-nc-sa</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  post:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure><h4 id="添加打赏功能"><a href="#添加打赏功能" class="headerlink" title="添加打赏功能"></a>添加打赏功能</h4><p>启用主题配置文件中的打赏相关字段，并将个人收款码图片置于 themes\next\source\images\ 目录下，注意保持图片命名与配置文件中一致：</p><p>主题配置文件<code>/source/_data/next.yml</code></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置微信，支付宝打赏</span></span><br><span class="line"><span class="comment"># Reward (Donate)</span></span><br><span class="line"><span class="attr">reward_settings:</span></span><br><span class="line">  <span class="comment"># If true, reward would be displayed in every article by default.</span></span><br><span class="line">  <span class="comment"># You can show or hide reward in a specific article throuth `reward: true | false` in Front-matter.</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  animation:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  comment:</span> <span class="string">谢谢您请我吃糖果</span> <span class="comment">#打赏描述</span></span><br><span class="line"></span><br><span class="line"><span class="attr">reward:</span></span><br><span class="line"><span class="attr">  wechatpay:</span> <span class="string">/images/alipay.jpg</span> <span class="comment">#微信支付的二维码图片地址</span></span><br><span class="line">  <span class="comment">#alipay: /images/alipay.png</span></span><br><span class="line">  <span class="comment">#bitcoin: /images/bitcoin.png</span></span><br></pre></td></tr></table></figure><h4 id="添加图片灯箱"><a href="#添加图片灯箱" class="headerlink" title="添加图片灯箱"></a>添加图片灯箱</h4><div class="note info no-icon">            <p>添加灯箱功能，实现点击图片后放大聚焦图片，并支持幻灯片播放、全屏播放、缩略图、快速分享到社交媒体等，该功能由 <a href="https://github.com/fancyapps/fancybox" target="_blank" rel="external nofollow noopener noreferrer">fancyBox</a> 提供</p>          </div><p>在根目录下执行以下命令安装相关依赖：</p><p><code>git clone https://github.com/theme-next/theme-next-fancybox3 themes/next/source/lib/fancybox</code></p><p>在主题配置文件中设置 <code>fancybox: true</code>：</p><p><code>/source/_data/next.yml</code><br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">fancybox:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p><p>刷新浏览器即可生效。</p><h4 id="相关文章推荐"><a href="#相关文章推荐" class="headerlink" title="相关文章推荐"></a>相关文章推荐</h4><div class="note info no-icon">            <p>该功能由 <a href="https://github.com/tea3/hexo-related-popular-posts" target="_blank" rel="external nofollow noopener noreferrer">hexo-related-popular-posts</a> 插件提供</p>          </div><p>在站点根目录中执行以下命令安装依赖：</p><p><code>npm install hexo-related-popular-posts --save</code></p><p>在主题配置文件中开启相关文章推荐功能：</p><p><code>/source/_data/next.yml</code><br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">related_posts:</span><br><span class="line">  enable: <span class="literal">true</span></span><br><span class="line">  title:  # custom header, leave empty <span class="keyword">to</span> use the<span class="built_in"> default </span>one</span><br><span class="line">  display_in_home: <span class="literal">false</span></span><br><span class="line">  params:</span><br><span class="line">    maxCount: 5</span><br></pre></td></tr></table></figure></p><p>此时会在每篇文章结尾根据标签相关性和内容相关性来推荐相关文章。</p><h4 id="点击侧边栏头像回到博客首页"><a href="#点击侧边栏头像回到博客首页" class="headerlink" title="点击侧边栏头像回到博客首页"></a>点击侧边栏头像回到博客首页</h4><p>编辑<code>themes/next/layout/_partials/sidebar/site-overview.swig</code></p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">+    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/"</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"site-author-image"</span> <span class="attr">itemprop</span>=<span class="string">"image"</span> <span class="attr">alt</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; author &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span></span></span></span><br><span class="line"><span class="xml">        src="</span><span class="template-variable">&#123;&#123; url_for(theme.avatar.url or theme.images + '/avatar.gif') &#125;&#125;</span><span class="xml">"&gt;</span></span><br><span class="line"><span class="xml">+    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="设置-hexo-永久链接"><a href="#设置-hexo-永久链接" class="headerlink" title="设置 hexo 永久链接"></a>设置 hexo 永久链接</h4><p>在根目录下执行以下命令安装相关插件：</p><p><code>npm install hexo-abbrlink --save</code></p><p>在站点配置文件<code>_config.yml</code>中修改<code>permalink</code>为如下：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">permalink:</span> archives/:abbrlink/</span><br><span class="line"><span class="symbol">abbrlink:</span></span><br><span class="line"><span class="symbol">  alg:</span> crc32  <span class="meta"># 算法：crc16(default) and crc32</span></span><br><span class="line"><span class="symbol">  rep:</span> hex    <span class="meta"># 进制：dec(default) and hex</span></span><br><span class="line"><span class="symbol">permalink_defaults:</span></span><br></pre></td></tr></table></figure><h4 id="nofollow-标签的使用"><a href="#nofollow-标签的使用" class="headerlink" title="nofollow 标签的使用"></a>nofollow 标签的使用</h4><p>减少出站链接能够有效防止权重分散，hexo 有很方便的自动为出站链接添加 nofollow 的插件。</p><p>在根目录下执行以下命令安装相关插件：<br><code>npm install hexo-autonofollow --save</code></p><p>在站点配置文件<code>_config.yml</code>中修改<code>nofollow</code>为如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 外部链接优化</span></span><br><span class="line"><span class="attr">nofollow:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    exclude:</span>     <span class="comment"># 例外的链接，可将友情链接放置此处</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">'yousite'</span></span><br></pre></td></tr></table></figure><h4 id="自定义友链页面"><a href="#自定义友链页面" class="headerlink" title="自定义友链页面"></a>自定义友链页面</h4><div class="note info no-icon">            <p>参考：<a href="https://www.jianshu.com/p/ef110f36650b" target="_blank" rel="external nofollow noopener noreferrer">Hexo NexT主题自定义友链页面</a></p>          </div><p>效果如下：<br><img src="//tva4.sinaimg.cn/large/d818c3ccly1g8i9uefm8aj20tt09ijrt.jpg" alt></p><blockquote><p>新增links页面</p></blockquote><p>在根目录下执行<br><code>hexo new page links</code></p><blockquote><p>配置menu</p></blockquote><p>主题配置文件<code>next.yml</code>中<code>menu:</code>下添加：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">links:</span> <span class="meta-keyword">/links/</span> || link</span><br></pre></td></tr></table></figure><p><code>/themes/next/languages/zh-Hans.yml</code>文件中<code>menu:</code>下增加中文描述：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">links:</span> 友链</span><br></pre></td></tr></table></figure><blockquote><p>新增<code>links.swig</code>页</p></blockquote><p>在<code>/themes/next/layout/</code>新建<code>links.swig</code>，内容如下：</p><details><summary>点击显/隐内容</summary><p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> content %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="comment">&#123;######################&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="comment">&#123;### LINKS BLOCK ###&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="comment">&#123;######################&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"links"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">            #links&#123;</span></span><br><span class="line"><span class="xml">               margin-top: 5rem;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">            .links-content&#123;</span></span><br><span class="line"><span class="xml">                margin-top:1rem;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">            .link-navigation::after &#123;</span></span><br><span class="line"><span class="xml">                content: " ";</span></span><br><span class="line"><span class="xml">                display: block;</span></span><br><span class="line"><span class="xml">                clear: both;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">            .card &#123;</span></span><br><span class="line"><span class="xml">                width: 300px;</span></span><br><span class="line"><span class="xml">                font-size: 1rem;</span></span><br><span class="line"><span class="xml">                padding: 10px 20px;</span></span><br><span class="line"><span class="xml">                border-radius: 4px;</span></span><br><span class="line"><span class="xml">                transition-duration: 0.15s;</span></span><br><span class="line"><span class="xml">                margin-bottom: 1rem;</span></span><br><span class="line"><span class="xml">                display:flex;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card:nth-child(odd) &#123;</span></span><br><span class="line"><span class="xml">                float: left;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card:nth-child(even) &#123;</span></span><br><span class="line"><span class="xml">                float: right;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card:hover &#123;</span></span><br><span class="line"><span class="xml">                transform: scale(1.1);</span></span><br><span class="line"><span class="xml">                box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.12), 0 0 6px 0 rgba(0, 0, 0, 0.04);</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card a &#123;</span></span><br><span class="line"><span class="xml">                border:none;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card .ava &#123;</span></span><br><span class="line"><span class="xml">                width: 3rem!important;</span></span><br><span class="line"><span class="xml">                height: 3rem!important;</span></span><br><span class="line"><span class="xml">                margin:0!important;</span></span><br><span class="line"><span class="xml">                margin-right: 1em!important;</span></span><br><span class="line"><span class="xml">                border-radius:4px;</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card .card-header &#123;</span></span><br><span class="line"><span class="xml">                font-style: italic;</span></span><br><span class="line"><span class="xml">                overflow: hidden;</span></span><br><span class="line"><span class="xml">                width: 236px;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card .card-header a &#123;</span></span><br><span class="line"><span class="xml">                font-style: normal;</span></span><br><span class="line"><span class="xml">                color: #2bbc8a;</span></span><br><span class="line"><span class="xml">                font-weight: bold;</span></span><br><span class="line"><span class="xml">                text-decoration: none;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card .card-header a:hover &#123;</span></span><br><span class="line"><span class="xml">                color: #d480aa;</span></span><br><span class="line"><span class="xml">                text-decoration: none;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">            .card .card-header .info &#123;</span></span><br><span class="line"><span class="xml">                font-style:normal;</span></span><br><span class="line"><span class="xml">                color:#a3a3a3;</span></span><br><span class="line"><span class="xml">                font-size:14px;</span></span><br><span class="line"><span class="xml">                min-width: 0;</span></span><br><span class="line"><span class="xml">                text-overflow: ellipsis;</span></span><br><span class="line"><span class="xml">                overflow: hidden;</span></span><br><span class="line"><span class="xml">                white-space: nowrap;</span></span><br><span class="line"><span class="xml">            &#125;</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-content"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"link-navigation"</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">                </span><span class="template-tag">&#123;% <span class="name"><span class="name">for</span></span> link <span class="keyword">in</span> theme.mylinks %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"ava"</span> <span class="attr">src</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; link.avatar &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"card-header"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; link.site &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>@ </span><span class="template-variable">&#123;&#123; link.nickname &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"info"</span>&gt;</span></span><span class="template-variable">&#123;&#123; link.info &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">                </span><span class="template-tag">&#123;% <span class="name"><span class="name">endfor</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            </span><span class="template-variable">&#123;&#123; page.content &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="comment">&#123;##########################&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="comment">&#123;### END LINKS BLOCK ###&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="comment">&#123;##########################&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p></details><p><br></p><blockquote><p>修改<code>page.swig</code></p></blockquote><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;%- <span class="name">set</span> page_title_suffix = ' | ' + title %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> page.type === 'categories' and not page.title %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-variable">&#123;&#123;- __('title.category') + page_title_suffix &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">elif</span></span> page.type === 'tags' and not page.title %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-variable">&#123;&#123;- __('title.tag') + page_title_suffix &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- 友情链接--&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">elif</span></span> page.type === 'links' and not page.title %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-variable">&#123;&#123; __('title.links') + page_title_suffix &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="comment">&lt;!-- 友情链接结束--&gt;</span></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">elif</span></span> page.type === 'schedule' and not page.title %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-variable">&#123;&#123;- __('title.schedule') + page_title_suffix &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">else</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-variable">&#123;&#123;- page.title + page_title_suffix &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><blockquote><p>引入links.swig</p></blockquote><p>接着在<code>/themes/next/layout/page.swig</code>中，引入刚才新建的<code>links.swig</code>:</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">elif</span></span> page.type === 'categories' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"category-all-page"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"category-all-title"</span>&gt;</span></span></span><br><span class="line"><span class="xml">              </span><span class="template-variable">&#123;&#123; _p('counter.categories', site.categories.length) &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"category-all"</span>&gt;</span></span></span><br><span class="line"><span class="xml">              </span><span class="template-variable">&#123;&#123; list_categories() &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 友情链接--&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">elif</span></span> page.type === 'links' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">          </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'links.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 友情链接--&gt;</span></span></span><br></pre></td></tr></table></figure><blockquote><p>配置友链</p></blockquote><p>在主题配置文件中配置友链末尾处新增mylinks,如下：</p><p><code>/source/_data/next.yml</code><br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mylinks:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">- nickname:</span> <span class="string">Wales</span> <span class="string">Mei</span>  <span class="comment">#友链名称</span></span><br><span class="line"><span class="attr">  avatar:</span> <span class="attr">https://walesexcitedmei.github.io/images/avatar.jpg</span>  <span class="comment">#友链头像</span></span><br><span class="line"><span class="attr">  site:</span> <span class="attr">https://walesexcitedmei.github.io</span>  <span class="comment">#友链地址</span></span><br><span class="line"><span class="attr">  info:</span> <span class="string">一个正在奋斗的</span> <span class="string">OIer</span>  <span class="comment">#友链说明</span></span><br></pre></td></tr></table></figure></p><h4 id="文章置顶"><a href="#文章置顶" class="headerlink" title="文章置顶"></a>文章置顶</h4><blockquote><p>在站点目录下安装为如下插件：</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">uninstall</span> hexo-generator-<span class="keyword">index</span> <span class="comment">--save</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">index</span>-pin-top <span class="comment">--save</span></span><br></pre></td></tr></table></figure><blockquote><p>修改文章模板</p></blockquote><p>修改站点目录下<code>scaffolds/post.md</code></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">top :</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>这样以来以后生成的 <code>post</code> 文件都自己带有 <code>top</code> 属性。需要置顶的文章把 <code>false</code> 改为 <code>true</code> 就行了.</p><blockquote><p>设置置顶标志</p></blockquote><p>打开：主目录<code>/themes/next/layout/_macro</code> 目录下面的 <code>post.swig</code> 文件，定位到 <code>&lt;div class=&quot;post-meta&quot;&gt;</code> 插入以下代码：</p><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"post-meta"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> post.top %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-thumb-tack"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">7D26CD</span>&gt;</span>置顶<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">          </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><hr>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;
            &lt;p&gt;本文主要介绍了hexo个人博客next主题优化, 启用数据目录的方法,转移自定义 CSS 等配置文件的方法等&lt;/p&gt;
          &lt;/div&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="blog" scheme="https://yangyang188.coding.me/tags/blog/"/>
    
      <category term="next" scheme="https://yangyang188.coding.me/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>HEXO-NexT-V7-Gemini基础建站篇</title>
    <link href="https://yangyang188.coding.me/archives/9ecd29f3/"/>
    <id>https://yangyang188.coding.me/archives/9ecd29f3/</id>
    <published>2019-10-30T14:19:07.000Z</published>
    <updated>2019-10-31T11:29:46.309Z</updated>
    
    <content type="html"><![CDATA[<div class="note default no-icon">            <p><blockquote class="blockquote-center"><p>本文主要介绍了如何利用hexo创建个人博客，选择主题，基本配置。内容包括：安装环境，git配置，配置站点信息，修改主题，博客自定义图标、显示分类/标签/归档页的内容量，头像效果等 </p></blockquote></p><p>本文使用的版本：Node.js: v12.6.0，npm: 6.9.0， hexo: 4.0.0，NexT: v7.4.2</p>          </div><a id="more"></a><div class="note primary no-icon">            <p>next文档:<a href="https://theme-next.iissnan.com/" target="_blank" rel="external nofollow noopener noreferrer">https://theme-next.iissnan.com/</a><br>Hexo官网文档：<a href="https://hexo.io/docs/" target="_blank" rel="external nofollow noopener noreferrer">https://hexo.io/docs/</a><br>Node.js官方下载地址：<a href="https://nodejs.org/" target="_blank" rel="external nofollow noopener noreferrer">https://nodejs.org/</a><br>git官方下载地址：<a href="http://git-scm.com/download/" target="_blank" rel="external nofollow noopener noreferrer">http://git-scm.com/download/</a></p>          </div><h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><ul><li>安装 git</li><li>安装 Node.js</li><li>安装 Hexo</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装hexo</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建项目</span></span><br><span class="line">hexo init mysite</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清除缓存</span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="comment"># 生成静态文件</span></span><br><span class="line">hexo g</span><br><span class="line"><span class="comment"># 本地测试</span></span><br><span class="line">hexo server</span><br><span class="line"><span class="comment"># 部署</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h3 id="git配置"><a href="#git配置" class="headerlink" title="git配置"></a>git配置</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置用户</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"you@example.com"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"Your Name"</span></span><br><span class="line"><span class="comment"># 生成密钥</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># id_rsa.pub复制到github</span></span><br><span class="line"><span class="comment"># 测试是否连接成功</span></span><br><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h3 id="配置站点信息"><a href="#配置站点信息" class="headerlink" title="配置站点信息"></a>配置站点信息</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># /_config.yml</span></span><br><span class="line"><span class="meta"># Site</span></span><br><span class="line"><span class="symbol">title:</span> 洋洋的小站</span><br><span class="line"><span class="symbol">subtitle:</span> 洋洋个人博客</span><br><span class="line"><span class="symbol">description:</span> 人生苦短我用python。</span><br><span class="line"><span class="symbol">keywords:</span> <span class="string">"Python, 爬虫, django"</span></span><br><span class="line"><span class="symbol">author:</span> 洋洋</span><br><span class="line"><span class="symbol">language:</span> zh-CN</span><br><span class="line"></span><br><span class="line"><span class="meta"># 主题</span></span><br><span class="line"><span class="symbol">theme:</span> next</span><br><span class="line"></span><br><span class="line"><span class="meta"># Deployment</span></span><br><span class="line"><span class="meta">## Docs: https:<span class="comment">//hexo.io/docs/deployment.html</span></span></span><br><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> git@github.com:zhihuya188/zhihuya188.github.io.git</span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure><h3 id="必要插件"><a href="#必要插件" class="headerlink" title="必要插件"></a>必要插件</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br><span class="line"><span class="comment"># rss</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-feed <span class="comment">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mathjax</span></span><br><span class="line">npm un hexo-renderer-marked <span class="comment">--save</span></span><br><span class="line">npm i hexo-renderer-kramed <span class="comment">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure><h3 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h3><p>下载主题<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/theme-<span class="keyword">next</span>/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure></p><p>修改<code>/_config.yml</code><br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># /_config.yml</span></span><br><span class="line">theme: <span class="keyword">next</span></span><br></pre></td></tr></table></figure></p><h3 id="主题配置"><a href="#主题配置" class="headerlink" title="主题配置"></a>主题配置</h3><blockquote><p>样式</p></blockquote><p>修改<code>themes/next/_config.yml</code><br><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># themes/next/_config.yml</span></span><br><span class="line"><span class="meta"># 样式</span></span><br><span class="line">scheme: Gemini</span><br></pre></td></tr></table></figure></p><blockquote><p>avatar(个人头像)</p></blockquote><p>将其放置到 themes/next/source/images/avatar.png 路径，然后在主题 <code>_config.yml</code> 文件下编辑 <code>avatar</code> 的配置，修改为正确的路径即可。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># themes/next/source/images/avatar.png 个人头像</span></span><br><span class="line"><span class="comment"># 配置 themes/next/_config.yml</span></span><br><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="string">/images/avatar.png</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line">  <span class="comment"># 选项是是否显示圆形</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line">  <span class="comment"># 是否带有旋转效果</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><blockquote><p>code</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line">  <span class="comment"># See: https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="attr">  highlight_theme:</span> <span class="string">night</span> <span class="string">bright</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line"><span class="attr">  copy_button:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result.</span></span><br><span class="line"><span class="attr">    show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line"><span class="attr">    style:</span> <span class="string">mac</span></span><br></pre></td></tr></table></figure><blockquote><p>top(返回到网站的上端)</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="comment"># 阅读百分比</span></span><br><span class="line"><span class="attr">  scrollpercent:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># reading_process</span></span><br><span class="line"><span class="comment"># 阅读进度</span></span><br><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available values: top | bottom</span></span><br><span class="line"><span class="attr">  position:</span> <span class="string">top</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">"#222"</span></span><br><span class="line"><span class="attr">  height:</span> <span class="number">2</span><span class="string">px</span></span><br></pre></td></tr></table></figure><blockquote><p>github_banner</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># github_banner</span></span><br><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  permalink:</span> <span class="attr">https://github.com/zhihuya188/zhihuya188.github.io</span></span><br><span class="line"><span class="attr">  title:</span> <span class="string">zhihuya188</span></span><br></pre></td></tr></table></figure><blockquote><p>gitalk(评论)</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># gitalk</span></span><br><span class="line"><span class="comment"># Multiple Comment System Support</span></span><br><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Available values: tabs | buttons</span></span><br><span class="line"><span class="attr">  style:</span> <span class="string">tabs</span></span><br><span class="line">  <span class="comment"># Choose a comment system to be displayed by default.</span></span><br><span class="line">  <span class="comment"># Available values: changyan | disqus | disqusjs | facebook_comments_plugin | gitalk | livere | valine | vkontakte</span></span><br><span class="line"><span class="attr">  active:</span> <span class="string">gitalk</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置</span></span><br><span class="line"><span class="comment"># Gitalk</span></span><br><span class="line"><span class="comment"># Demo: https://gitalk.github.io</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/gitalk/gitalk</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  github_id:</span> <span class="string">&#123;your_id&#125;</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">nightteam.github.io</span> <span class="comment"># Repository name to store issues</span></span><br><span class="line"><span class="attr">  client_id:</span> <span class="string">&#123;your</span> <span class="string">client</span> <span class="string">id&#125;</span> <span class="comment"># GitHub Application Client ID</span></span><br><span class="line"><span class="attr">  client_secret:</span> <span class="string">&#123;your</span> <span class="string">client</span> <span class="string">secret&#125;</span> <span class="comment"># GitHub Application Client Secret</span></span><br><span class="line"><span class="attr">  admin_user:</span> <span class="string">&#123;your_id&#125;</span> <span class="comment"># GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span></span><br><span class="line"><span class="attr">  distraction_free_mode:</span> <span class="literal">true</span> <span class="comment"># Facebook-like distraction free mode</span></span><br><span class="line">  <span class="comment"># Gitalk's display language depends on user's browser or system environment</span></span><br><span class="line">  <span class="comment"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span></span><br><span class="line">  <span class="comment"># Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span></span><br><span class="line"><span class="attr">  language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure><blockquote><p>pangu(中文和英文间距问题)</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 中文和英文间距</span></span><br><span class="line"><span class="attr">pangu:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><blockquote><p>math</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 公式</span></span><br><span class="line"><span class="attr">math:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Default (true) will load mathjax / katex script on demand.</span></span><br><span class="line">  <span class="comment"># That is it only render those page which has `mathjax: true` in Front-matter.</span></span><br><span class="line">  <span class="comment"># If you set it to false, it will load mathjax / katex srcipt EVERY PAGE.</span></span><br><span class="line"><span class="attr">  per_page:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># hexo-renderer-pandoc (or hexo-renderer-kramed) required for full MathJax support.</span></span><br><span class="line"><span class="attr">  mathjax:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># See: https://mhchem.github.io/MathJax-mhchem/</span></span><br><span class="line"><span class="attr">    mhchem:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><blockquote><p>pjax</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 类似于ajax 根据情况开</span></span><br><span class="line"><span class="attr">pjax:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 依赖的库</span></span><br><span class="line">$ cd themes/<span class="keyword">next</span></span><br><span class="line">$ git clone <span class="symbol">https:</span>/<span class="regexp">/github.com/theme</span>-<span class="keyword">next</span>/theme-<span class="keyword">next</span>-pjax source/<span class="class"><span class="keyword">lib</span>/<span class="title">pjax</span></span></span><br></pre></td></tr></table></figure><h3 id="标签页-分类页"><a href="#标签页-分类页" class="headerlink" title="标签页 分类页"></a>标签页 分类页</h3><blockquote><p>创建</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根目录执行</span></span><br><span class="line"><span class="comment"># 标签页</span></span><br><span class="line">hexo new<span class="built_in"> page </span>tags</span><br><span class="line"><span class="comment"># 分类页</span></span><br><span class="line">hexo new<span class="built_in"> page </span>categories</span><br></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"tags"</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-10</span><span class="bullet">-25</span> <span class="number">12</span><span class="string">:05:47</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"categories"</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-10</span><span class="bullet">-25</span> <span class="number">12</span><span class="string">:10:44</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="搜索页"><a href="#搜索页" class="headerlink" title="搜索页"></a>搜索页</h3><blockquote><p>安装插件</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># /_config.yml</span></span><br><span class="line"><span class="symbol">search:</span></span><br><span class="line"><span class="symbol">  path:</span> search.xml</span><br><span class="line"><span class="symbol">  field:</span> post</span><br><span class="line"><span class="symbol">  format:</span> html</span><br><span class="line"><span class="symbol">  limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><h3 id="404-页面"><a href="#404-页面" class="headerlink" title="404 页面"></a>404 页面</h3><blockquote><p>创建</p></blockquote><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new<span class="built_in"> page </span>404</span><br></pre></td></tr></table></figure><blockquote><p>配置</p></blockquote><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /source/404/404.html</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="number">404</span> <span class="string">Not</span> <span class="string">Found：该页无法显示</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-09</span><span class="bullet">-22</span> <span class="number">10</span><span class="string">:41:27</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/404</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">&lt;!DOCTYPE</span> <span class="string">html&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line">    <span class="string">&lt;head&gt;</span></span><br><span class="line">         <span class="string">&lt;meta</span> <span class="string">charset="UTF-8"</span> <span class="string">/&gt;</span></span><br><span class="line">         <span class="string">&lt;title&gt;404&lt;/title&gt;</span>                                                                                                                                        </span><br><span class="line">    <span class="string">&lt;/head&gt;</span></span><br><span class="line">    <span class="string">&lt;body&gt;</span></span><br><span class="line">         <span class="string">&lt;script</span> <span class="string">type="text/javascript"</span> <span class="string">src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js"</span> <span class="string">homePageName="返回首页"</span> <span class="string">homePageUrl="https://zhihuya188.github.io"&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>修改 menu</p></blockquote><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 主菜单</span></span><br><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> / || home</span><br><span class="line">  <span class="meta">#about: /about/ || user</span></span><br><span class="line"><span class="symbol">  tags:</span> <span class="meta-keyword">/tags/</span> || tags</span><br><span class="line"><span class="symbol">  categories:</span> <span class="meta-keyword">/categories/</span> || th</span><br><span class="line"><span class="symbol">  archives:</span> <span class="meta-keyword">/archives/</span> || archive</span><br><span class="line">  <span class="meta">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="meta">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="meta">#commonweal: /404/ || heartbeat</span></span><br></pre></td></tr></table></figure><h3 id="部署脚本"><a href="#部署脚本" class="headerlink" title="部署脚本"></a>部署脚本</h3><blockquote><p>创建文件</p></blockquote><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># /</span></span><br><span class="line">touch <span class="keyword">deploy</span>.sh</span><br></pre></td></tr></table></figure><blockquote><p>编辑</p></blockquote><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo <span class="keyword">generate</span></span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><blockquote><p>部署执行</p></blockquote><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">sh</span> deploy.<span class="keyword">sh</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default no-icon&quot;&gt;
            &lt;p&gt;&lt;blockquote class=&quot;blockquote-center&quot;&gt;&lt;p&gt;本文主要介绍了如何利用hexo创建个人博客，选择主题，基本配置。内容包括：安装环境，git配置，配置站点信息，修改主题，博客自定义图标、显示分类/标签/归档页的内容量，头像效果等 &lt;/p&gt;&lt;/blockquote&gt;&lt;/p&gt;&lt;p&gt;本文使用的版本：Node.js: v12.6.0，npm: 6.9.0， hexo: 4.0.0，NexT: v7.4.2&lt;/p&gt;
          &lt;/div&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="blog" scheme="https://yangyang188.coding.me/tags/blog/"/>
    
      <category term="next" scheme="https://yangyang188.coding.me/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>HEXO-NexT-V7-Gemini写作技巧篇</title>
    <link href="https://yangyang188.coding.me/archives/e198fb5/"/>
    <id>https://yangyang188.coding.me/archives/e198fb5/</id>
    <published>2019-10-28T02:54:26.000Z</published>
    <updated>2019-10-31T11:24:52.709Z</updated>
    
    <content type="html"><![CDATA[<p><img src="https://tvax1.sinaimg.cn/large/d818c3ccly1g8ghdak6tfj20k80a4wei.jpg" alt="hexo-themes-NexT"><br><div class="note default">            <p>NexT 主题优化<br>本文使用的版本：Node.js: v12.6.0，npm: 6.9.0， hexo: 4.0.0，NexT: v7.4.2</p>          </div></p><a id="more"></a><div class="note default">            <p>参考：<br><a href="http://theme-next.iissnan.com/" target="_blank" rel="external nofollow noopener noreferrer">NexT 官方使用文档</a><br><a href="http://walesexcitedmei.github.io/2018/08/30/HEXO-NexT-主题提高博客颜值/" target="_blank" rel="external nofollow noopener noreferrer">HEXO-NexT-主题提高博客颜值</a></p>          </div><h2 id="文章的模板文件"><a href="#文章的模板文件" class="headerlink" title="文章的模板文件"></a>文章的模板文件</h2><p>文章的模板文件修改<code>blog/scaffolds/post.md</code></p><details><summary>点击显/隐内容</summary><p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">&#123;&#123;</span> <span class="string">title</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">date:</span> <span class="string">&#123;&#123;</span> <span class="string">date</span> <span class="string">&#125;&#125;</span></span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="attr">mathjax:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">copyright:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">comment:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#123;%</span> <span class="string">note</span> <span class="string">default</span> <span class="string">%&#125;</span></span><br><span class="line"><span class="string">&#123;%</span> <span class="string">endnote</span> <span class="string">%&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">more</span> <span class="bullet">--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p></details><p><br><br><div class="note default">            <p>请参阅 <a href="https://hexo.io/zh-cn/docs/front-matter.html#%E5%88%86%E7%B1%BB%E5%92%8C%E6%A0%87%E7%AD%BE" target="_blank" rel="external nofollow noopener noreferrer">Hexo 的分类与标签文档</a>，了解如何为文章添加标签或者分类。</p>          </div></p><div class="tabs" id="选项卡"><ul class="nav-tabs"><li class="tab active"><a href="#选项卡-1">新建页面</a></li><li class="tab"><a href="#选项卡-2">设置页面类型</a></li><li class="tab"><a href="#选项卡-3">修改菜单</a></li></ul><div class="tab-content"><div class="tab-pane active" id="选项卡-1"><p>在终端窗口下，定位到 Hexo 站点目录下。使用 hexo new page 新建一个页面，命名为 categories ：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd your-hexo-site</span><br><span class="line">$ hexo new<span class="built_in"> page </span>categories</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="选项卡-2"><p>编辑刚新建的页面，将页面的 type 设置为 categories ，主题将自动为这个页面显示分类。页面内容如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">分类</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2014</span><span class="bullet">-12</span><span class="bullet">-22</span> <span class="number">12</span><span class="string">:39:04</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"categories"</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="选项卡-3"><p>在菜单中添加链接。编辑 主题配置文件 ， 添加 categories 到 menu 中，如下:</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> /</span><br><span class="line"><span class="symbol">  archives:</span> /archives</span><br><span class="line"><span class="symbol">  categories:</span> /categories</span><br></pre></td></tr></table></figure></div></div></div><h2 id="Markdown-技巧与内置样式"><a href="#Markdown-技巧与内置样式" class="headerlink" title="Markdown 技巧与内置样式"></a>Markdown 技巧与内置样式</h2><h3 id="分隔线和空行"><a href="#分隔线和空行" class="headerlink" title="分隔线和空行"></a>分隔线和空行</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">这是文字</span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span> /&gt;</span></span><br><span class="line">上面是分隔线</span><br><span class="line"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span><br><span class="line">上面是空行</span><br></pre></td></tr></table></figure><h3 id="居中和右对齐"><a href="#居中和右对齐" class="headerlink" title="居中和右对齐"></a>居中和右对齐</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 居中 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">center</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">center</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 右对齐 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:right"</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="字体大小和颜色"><a href="#字体大小和颜色" class="headerlink" title="字体大小和颜色"></a>字体大小和颜色</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">"#187892"</span> <span class="attr">size</span>=<span class="string">"number"</span>&gt;</span>内容<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 详细请查看 http://www.w3school.com.cn/tags/tag_font.asp --&gt;</span></span><br></pre></td></tr></table></figure><h3 id="文本居中的引用"><a href="#文本居中的引用" class="headerlink" title="文本居中的引用"></a>文本居中的引用</h3><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- HTML方式: 直接在 Markdown 文件中编写 HTML 来调用 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 其中 class="blockquote-center" 是必须的 --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">blockquote</span> <span class="attr">class</span>=<span class="string">"blockquote-center"</span>&gt;</span>blah blah blah<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 标签 方式，要求版本在0.4.5或以上 --&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">centerquote</span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">blah blah blah</span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">endcenterquote</span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- 标签别名 --&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">cq</span> %&#125;</span><span class="xml"> blah blah blah </span><span class="template-tag">&#123;% <span class="name">endcq</span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><p>示例：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!-- 标签别名 --&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">cq</span> %&#125;</span><span class="xml"> hexo博客 </span><span class="template-tag">&#123;% <span class="name">endcq</span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">note</span> default %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">br</span> /&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">cq</span> %&#125;</span><span class="xml"> hexo博客 <span class="tag">&lt;<span class="name">p</span>&gt;</span>积跬步以致千里，积怠情以致深渊<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">br</span> /&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">endcq</span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">p</span>&gt;</span>只比你努力一点的人、其实已经甩你很远。<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p><p>效果如下：</p><details><summary>点击显/隐内容</summary><p><!-- 标签别名 --><blockquote class="blockquote-center"><p>hexo博客 </p></blockquote><div class="note default">            <p><br></p><blockquote class="blockquote-center"><p> hexo博客 </p><p>积跬步以致千里，积怠情以致深渊</p></blockquote><p>只比你努力一点的人、其实已经甩你很远。</p>          </div></p></details><h3 id="Todo-list"><a href="#Todo-list" class="headerlink" title="Todo list"></a>Todo list</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Note-嵌套-Todo-list"><a href="#Note-嵌套-Todo-list" class="headerlink" title="Note 嵌套 Todo list"></a>Note 嵌套 Todo list</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 一共有两种写法，效果看下面 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成<span class="tag">&lt;<span class="name">br</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"note primary"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-check-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 已完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成</span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-square"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> 未完成</span><br><span class="line">  <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果如下：</p><div class="note primary"><br>      <i class="fa fa-check-square"></i> 已完成<br>      <i class="fa fa-check-square"></i> 已完成<br>      <i class="fa fa-check-square"></i> 已完成<br>      <i class="fa fa-check-square"></i> 已完成<br>      <i class="fa fa-check-square"></i> 已完成<br>      <i class="fa fa-square"></i> 未完成<br>      <i class="fa fa-square"></i> 未完成<br>      <i class="fa fa-square"></i> 未完成<br></div><h3 id="Note-标签"><a href="#Note-标签" class="headerlink" title="Note 标签"></a>Note 标签</h3><p>在主题配置文件_config.yml里有一个关于这个的配置:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Note tag (bs-callout).</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># 风格</span></span><br><span class="line"><span class="attr">  style:</span> <span class="string">flat</span></span><br><span class="line">  <span class="comment"># 要不要图标</span></span><br><span class="line"><span class="attr">  icons:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 圆角矩形</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br><span class="line"><span class="attr">  light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure><p>用 HTML 写就是这个样子</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note default"</span>&gt;&lt;p&gt;<span class="keyword">default</span>&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note primary"</span>&gt;&lt;p&gt;primary&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note success"</span>&gt;&lt;p&gt;success&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note info"</span>&gt;&lt;p&gt;info&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note warning"</span>&gt;&lt;p&gt;warning&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note danger"</span>&gt;&lt;p&gt;danger&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="keyword">class</span>=<span class="string">"note danger no-icon"</span>&gt;&lt;p&gt;danger no-icon&lt;<span class="regexp">/p&gt;&lt;/</span><span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure><p>用 swig 语法写就是这样</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span>[class] %&#125;</span><br><span class="line">Any content (support inline tags too).</span><br><span class="line">&#123;% endnote %&#125;</span><br><span class="line">[class] :<span class="built_in"> default </span>| primary | success | <span class="builtin-name">info</span> | <span class="builtin-name">warning</span> | danger.</span><br><span class="line">          May be <span class="keyword">not</span> defined.</span><br></pre></td></tr></table></figure><p>里面的三种风格长啥样？开启图标长啥样？可以查看<a href="https://github.com/iissnan/hexo-theme-next/pull/1697" target="_blank" rel="external nofollow noopener noreferrer">这个页面</a>，更多的介绍也在这个页面，请自行查看</p><p>最后的几种效果：<br><div class="tabs" id="选项卡b"><ul class="nav-tabs"><li class="tab active"><a href="#选项卡b-1">default</a></li><li class="tab"><a href="#选项卡b-2">primary</a></li><li class="tab"><a href="#选项卡b-3">success</a></li><li class="tab"><a href="#选项卡b-4">info</a></li><li class="tab"><a href="#选项卡b-5">warning</a></li><li class="tab"><a href="#选项卡b-6">danger</a></li><li class="tab"><a href="#选项卡b-7">danger-no-icon</a></li></ul><div class="tab-content"><div class="tab-pane active" id="选项卡b-1"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note default </span>%&#125;</span><br><span class="line">default</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note default"><p>default</p></div></div><div class="tab-pane" id="选项卡b-2"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span>primary %&#125;</span><br><span class="line">primary</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note primary"><p>primary</p></div></div><div class="tab-pane" id="选项卡b-3"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span>success %&#125;</span><br><span class="line">success</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note success"><p>success</p></div></div><div class="tab-pane" id="选项卡b-4"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span><span class="builtin-name">info</span> %&#125;</span><br><span class="line">info</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note info"><p>info</p></div></div><div class="tab-pane" id="选项卡b-5"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span><span class="builtin-name">warning</span> %&#125;</span><br><span class="line">warning</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note warning"><p>warning</p></div></div><div class="tab-pane" id="选项卡b-6"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span>danger %&#125;</span><br><span class="line">danger</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note danger"><p>danger</p></div></div><div class="tab-pane" id="选项卡b-7"><p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;%<span class="built_in"> note </span>danger no-icon %&#125;</span><br><span class="line">danger no-icon</span><br><span class="line">&#123;% endnote %&#125;</span><br></pre></td></tr></table></figure></p><div class="note danger no-icon"><p>danger no-icon</p></div></div></div></div></p><h3 id="Label-标签"><a href="#Label-标签" class="headerlink" title="Label 标签"></a>Label 标签</h3><p><code>label</code> 标签不建议加在段首, 首先可以在主题配置文件中有配置：<br><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Label tag.</span></span><br><span class="line"><span class="keyword">label</span><span class="bash">: <span class="literal">true</span></span></span><br></pre></td></tr></table></figure></p><p>然后效果如下（@前面的是label的名字，后面的是要显示的文字）<br><div class="tabs" id="选项卡c"><ul class="nav-tabs"><li class="tab active"><a href="#选项卡c-1">default</a></li><li class="tab"><a href="#选项卡c-2">primary</a></li><li class="tab"><a href="#选项卡c-3">success</a></li><li class="tab"><a href="#选项卡c-4">info</a></li><li class="tab"><a href="#选项卡c-5">warning</a></li><li class="tab"><a href="#选项卡c-6">danger</a></li></ul><div class="tab-content"><div class="tab-pane active" id="选项卡c-1"><p><span class="label default">default</span></p></div><div class="tab-pane" id="选项卡c-2"><p><span class="label primary">primary</span></p></div><div class="tab-pane" id="选项卡c-3"><p><span class="label success">success</span></p></div><div class="tab-pane" id="选项卡c-4"><p><span class="label info">info</span></p></div><div class="tab-pane" id="选项卡c-5"><p><span class="label warning">warning</span></p></div><div class="tab-pane" id="选项卡c-6"><p><span class="label danger">danger</span></p></div></div></div></p><h3 id="Tab-选项卡"><a href="#Tab-选项卡" class="headerlink" title="Tab 选项卡"></a>Tab 选项卡</h3><p>当然也是要先配置一下：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Tabs tag.</span></span><br><span class="line"><span class="attr">tabs:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  transition:</span></span><br><span class="line"><span class="attr">    tabs:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">    labels:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  border_radius:</span> <span class="number">3</span></span><br></pre></td></tr></table></figure></p><p>代码如下：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">tabs</span> 选项卡, 2 %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="xml">**这是选项卡 1** 呵呵哈哈哈哈哈哈</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="xml">**这是选项卡 2** 额。。。</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab --&gt;</span></span></span><br><span class="line"><span class="xml">**这是选项卡 3** 哇，你找到我了！</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">endtabs</span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">tabs</span> 选项卡 %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab [name1]--&gt;</span></span></span><br><span class="line"><span class="xml">**这是选项卡 1** 呵呵哈哈哈哈哈哈</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab [name2]--&gt;</span></span></span><br><span class="line"><span class="xml">**这是选项卡 2** 额。。。</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- tab [name3]--&gt;</span></span></span><br><span class="line"><span class="xml">**这是选项卡 3** 哇，你找到我了！</span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name">endtabs</span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p><p>效果如下：<br><div class="tabs" id="选项卡a"><ul class="nav-tabs"><li class="tab active"><a href="#选项卡a-1">name1</a></li><li class="tab"><a href="#选项卡a-2">name2</a></li><li class="tab"><a href="#选项卡a-3">name3</a></li></ul><div class="tab-content"><div class="tab-pane active" id="选项卡a-1"><p><strong>这是选项卡 1</strong> 呵呵哈哈哈哈哈哈</p></div><div class="tab-pane" id="选项卡a-2"><p><strong>这是选项卡 2</strong> 额。。。</p></div><div class="tab-pane" id="选项卡a-3"><p><strong>这是选项卡 3</strong> 哇，你找到我了！</p></div></div></div></p><h3 id="增加代码块折叠功能"><a href="#增加代码块折叠功能" class="headerlink" title="增加代码块折叠功能"></a>增加代码块折叠功能</h3><p>markdown 本身便支持显示/隐藏代码块功能，语法如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">details</span>&gt;</span><span class="tag">&lt;<span class="name">summary</span>&gt;</span>点击显/隐内容<span class="tag">&lt;/<span class="name">summary</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">此处为要显示/隐的内容，亦可在此添加代码块，注意上下各空一行，</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">details</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果如下：</p><details><summary>点击显/隐内容</summary><p>此处为要显示/隐的内容，亦可在此添加代码块，注意上下各空一行，</p></details><p><hr><br><div class="note default">            <p>参考文章: <a href="http://seyvoue.com/manual/ea65db2f.html" target="_blank" rel="external nofollow noopener noreferrer">@手把手教你如何搭建个人博客（四）</a></p>          </div></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;https://tvax1.sinaimg.cn/large/d818c3ccly1g8ghdak6tfj20k80a4wei.jpg&quot; alt=&quot;hexo-themes-NexT&quot;&gt;&lt;br&gt;&lt;div class=&quot;note default&quot;&gt;
            &lt;p&gt;NexT 主题优化&lt;br&gt;本文使用的版本：Node.js: v12.6.0，npm: 6.9.0， hexo: 4.0.0，NexT: v7.4.2&lt;/p&gt;
          &lt;/div&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="blog" scheme="https://yangyang188.coding.me/tags/blog/"/>
    
      <category term="next" scheme="https://yangyang188.coding.me/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>hexo-next-blog测试篇</title>
    <link href="https://yangyang188.coding.me/archives/8ad88694/"/>
    <id>https://yangyang188.coding.me/archives/8ad88694/</id>
    <published>2019-10-27T11:21:00.000Z</published>
    <updated>2019-10-29T07:52:16.470Z</updated>
    
    <content type="html"><![CDATA[<div class="note default">            <p>hexo-next-blog美化</p>          </div><a id="more"></a><h3 id="添加网站访问量Bug"><a href="#添加网站访问量Bug" class="headerlink" title="添加网站访问量Bug"></a>添加网站访问量Bug</h3><p>参考</p><p><a href="https://xian6ge.cn/posts/2da0ce2e/" target="_blank" rel="external nofollow noopener noreferrer">https://xian6ge.cn/posts/2da0ce2e/</a><br><a href="https://chrischen0405.github.io/2018/09/11/post20180911/" target="_blank" rel="external nofollow noopener noreferrer">https://chrischen0405.github.io/2018/09/11/post20180911/</a><br><a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="external nofollow noopener noreferrer">http://ibruce.info/2015/04/04/busuanzi/</a></p><h3 id="设置-hexo-永久链接"><a href="#设置-hexo-永久链接" class="headerlink" title="设置 hexo 永久链接"></a>设置 hexo 永久链接</h3><p>安装插件</p><p><code>npm install hexo-abbrlink --save</code></p><p>修改站点配置文件</p><figure class="highlight vbscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># permalink: :<span class="built_in">year</span>/:<span class="built_in">month</span>/:<span class="built_in">day</span>/:title/</span><br><span class="line"># permalink_defaults:</span><br><span class="line">permalink: posts/:abbrlink.html</span><br><span class="line">abbrlink:</span><br><span class="line">  alg: crc32  # 算法：crc16(<span class="keyword">default</span>) <span class="keyword">and</span> crc32</span><br><span class="line">  rep: <span class="built_in">hex</span>    # 进制：dec(<span class="keyword">default</span>) <span class="keyword">and</span> <span class="built_in">hex</span></span><br></pre></td></tr></table></figure><h3 id="seo"><a href="#seo" class="headerlink" title="seo"></a>seo</h3><p>参考</p><p><a href="http://www.admintony.com/Hexo做SEO优化遇到的坑.html" target="_blank" rel="external nofollow noopener noreferrer">http://www.admintony.com/Hexo做SEO优化遇到的坑.html</a></p><h3 id="高颜值"><a href="#高颜值" class="headerlink" title="高颜值"></a>高颜值</h3><p><a href="http://walesexcitedmei.github.io/2018/08/30/HEXO-NexT-主题提高博客颜值/" target="_blank" rel="external nofollow noopener noreferrer">http://walesexcitedmei.github.io/2018/08/30/HEXO-NexT-主题提高博客颜值/</a></p><h3 id="hexo-next-怎么添加文章点击图片放大功能"><a href="#hexo-next-怎么添加文章点击图片放大功能" class="headerlink" title="hexo next 怎么添加文章点击图片放大功能"></a>hexo next 怎么添加文章点击图片放大功能</h3><p>参考<br><a href="https://www.jianshu.com/p/2d72da2e2f04" target="_blank" rel="external nofollow noopener noreferrer">https://www.jianshu.com/p/2d72da2e2f04</a><br><img src="https://tianma-bucket.oss-cn-shanghai.aliyuncs.com/images/Rem_03.jpg@!w300" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;div class=&quot;note default&quot;&gt;
            &lt;p&gt;hexo-next-blog美化&lt;/p&gt;
          &lt;/div&gt;
    
    </summary>
    
    
      <category term="blog" scheme="https://yangyang188.coding.me/categories/blog/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="next" scheme="https://yangyang188.coding.me/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>hexo-next-blog</title>
    <link href="https://yangyang188.coding.me/archives/bdb4dc99/"/>
    <id>https://yangyang188.coding.me/archives/bdb4dc99/</id>
    <published>2019-10-25T15:03:00.000Z</published>
    <updated>2019-10-30T16:28:31.250Z</updated>
    
    <content type="html"><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>记录个人博客hexo-next配置过程<br><a id="more"></a></p><blockquote><p>next文档:<a href="https://theme-next.iissnan.com/" target="_blank" rel="external nofollow noopener noreferrer">https://theme-next.iissnan.com/</a></p><p>Hexo官网文档：<a href="https://hexo.io/docs/" target="_blank" rel="external nofollow noopener noreferrer">https://hexo.io/docs/</a></p><p>Node.js官方下载地址：<a href="https://nodejs.org/" target="_blank" rel="external nofollow noopener noreferrer">https://nodejs.org/</a></p><p>git官方下载地址：<a href="http://git-scm.com/download/" target="_blank" rel="external nofollow noopener noreferrer">http://git-scm.com/download/</a></p></blockquote><h3 id="安装环境"><a href="#安装环境" class="headerlink" title="安装环境"></a>安装环境</h3><ul><li>安装 Node.js</li><li>安装 Hexo</li></ul><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装hexo</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建项目</span></span><br><span class="line">hexo init hexo_next_blog</span><br><span class="line"></span><br><span class="line"><span class="comment"># 清除缓存</span></span><br><span class="line">hexo clean</span><br><span class="line"><span class="comment"># 生成静态文件</span></span><br><span class="line">hexo g</span><br><span class="line"><span class="comment"># 本地测试</span></span><br><span class="line">hexo server</span><br><span class="line"><span class="comment"># 部署</span></span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><h3 id="git配置"><a href="#git配置" class="headerlink" title="git配置"></a>git配置</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 配置用户</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"you@example.com"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"Your Name"</span></span><br><span class="line"><span class="comment"># 生成密钥</span></span><br><span class="line">ssh-keygen -t rsa -C <span class="string">"youremail"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># id_rsa.pub复制到github</span></span><br><span class="line"><span class="comment"># 测试是否连接成功</span></span><br><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><h3 id="项目根配置文件"><a href="#项目根配置文件" class="headerlink" title="项目根配置文件"></a>项目根配置文件</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Site</span></span><br><span class="line"><span class="symbol">title:</span> 洋洋的小站</span><br><span class="line"><span class="symbol">subtitle:</span> 洋洋个人博客</span><br><span class="line"><span class="symbol">description:</span> 人生苦短我用python。</span><br><span class="line"><span class="symbol">keywords:</span> <span class="string">"Python, 爬虫, django"</span></span><br><span class="line"><span class="symbol">author:</span> 洋洋</span><br><span class="line"><span class="symbol">language:</span> zh-CN</span><br><span class="line"></span><br><span class="line"><span class="meta"># 主题</span></span><br><span class="line"><span class="symbol">theme:</span> next</span><br><span class="line"></span><br><span class="line"><span class="meta"># Deployment</span></span><br><span class="line"><span class="meta">## Docs: https:<span class="comment">//hexo.io/docs/deployment.html</span></span></span><br><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repo:</span> git@github.com:zhihuya188/zhihuya188.github.io.git</span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure><h3 id="必要插件"><a href="#必要插件" class="headerlink" title="必要插件"></a>必要插件</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># git</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br><span class="line"><span class="comment"># rss</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-feed <span class="comment">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mathjax</span></span><br><span class="line">npm un hexo-renderer-marked <span class="comment">--save</span></span><br><span class="line">npm i hexo-renderer-kramed <span class="comment">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure><h3 id="修改主题"><a href="#修改主题" class="headerlink" title="修改主题"></a>修改主题</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">git</span> <span class="string">clone</span> <span class="attr">https://github.com/theme-next/hexo-theme-next</span> <span class="string">themes/next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 根配置</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">next</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 主题配置文件</span></span><br><span class="line"><span class="comment"># 样式</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Pisces</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 图标</span></span><br><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># In theme directory (source/images): /images/avatar.gif</span></span><br><span class="line">  <span class="comment"># In site directory (source/uploads): /uploads/avatar.gif</span></span><br><span class="line">  <span class="comment"># You can also use other linking images.</span></span><br><span class="line"><span class="attr">  url:</span> <span class="string">/images/avatar.png</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be dispalyed in circle.</span></span><br><span class="line">  <span class="comment"># 选项是是否显示圆形</span></span><br><span class="line"><span class="attr">  rounded:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If true, the avatar would be rotated with the cursor.</span></span><br><span class="line">  <span class="comment"># 是否带有旋转效果</span></span><br><span class="line"><span class="attr">  rotated:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># code</span></span><br><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line">  <span class="comment"># See: https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line"><span class="attr">  highlight_theme:</span> <span class="string">night</span> <span class="string">bright</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line"><span class="attr">  copy_button:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result.</span></span><br><span class="line"><span class="attr">    show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line"><span class="attr">    style:</span> <span class="string">mac</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># top</span></span><br><span class="line"><span class="attr">back2top:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Back to top in sidebar.</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line">  <span class="comment"># 阅读百分比</span></span><br><span class="line"><span class="attr">  scrollpercent:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># reading_process</span></span><br><span class="line"><span class="comment"># 阅读进度</span></span><br><span class="line"><span class="attr">reading_progress:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Available values: top | bottom</span></span><br><span class="line"><span class="attr">  position:</span> <span class="string">top</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">"#222"</span></span><br><span class="line"><span class="attr">  height:</span> <span class="number">2</span><span class="string">px</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bookmark</span></span><br><span class="line"><span class="attr">bookmark:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Customize the color of the bookmark.</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">"#222"</span></span><br><span class="line">  <span class="comment"># If auto, save the reading progress when closing the page or clicking the bookmark-icon.</span></span><br><span class="line">  <span class="comment"># If manual, only save it by clicking the bookmark-icon.</span></span><br><span class="line"><span class="attr">  save:</span> <span class="string">auto</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># github_banner</span></span><br><span class="line"><span class="comment"># `Follow me on GitHub` banner in the top-right corner.</span></span><br><span class="line"><span class="attr">github_banner:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  permalink:</span> <span class="attr">https://github.com/NightTeam/nightteam.github.io</span></span><br><span class="line"><span class="attr">  title:</span> <span class="string">NightTeam</span> <span class="string">GitHub</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># gitalk</span></span><br><span class="line"><span class="comment"># Multiple Comment System Support</span></span><br><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="comment"># Available values: tabs | buttons</span></span><br><span class="line"><span class="attr">  style:</span> <span class="string">tabs</span></span><br><span class="line">  <span class="comment"># Choose a comment system to be displayed by default.</span></span><br><span class="line">  <span class="comment"># Available values: changyan | disqus | disqusjs | facebook_comments_plugin | gitalk | livere | valine | vkontakte</span></span><br><span class="line"><span class="attr">  active:</span> <span class="string">gitalk</span></span><br><span class="line"></span><br><span class="line"><span class="string">配置</span></span><br><span class="line"><span class="comment"># Gitalk</span></span><br><span class="line"><span class="comment"># Demo: https://gitalk.github.io</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/gitalk/gitalk</span></span><br><span class="line"><span class="attr">gitalk:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  github_id:</span> <span class="string">NightTeam</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">nightteam.github.io</span> <span class="comment"># Repository name to store issues</span></span><br><span class="line"><span class="attr">  client_id:</span> <span class="string">&#123;your</span> <span class="string">client</span> <span class="string">id&#125;</span> <span class="comment"># GitHub Application Client ID</span></span><br><span class="line"><span class="attr">  client_secret:</span> <span class="string">&#123;your</span> <span class="string">client</span> <span class="string">secret&#125;</span> <span class="comment"># GitHub Application Client Secret</span></span><br><span class="line"><span class="attr">  admin_user:</span> <span class="string">germey</span> <span class="comment"># GitHub repo owner and collaborators, only these guys can initialize gitHub issues</span></span><br><span class="line"><span class="attr">  distraction_free_mode:</span> <span class="literal">true</span> <span class="comment"># Facebook-like distraction free mode</span></span><br><span class="line">  <span class="comment"># Gitalk's display language depends on user's browser or system environment</span></span><br><span class="line">  <span class="comment"># If you want everyone visiting your site to see a uniform language, you can set a force language value</span></span><br><span class="line">  <span class="comment"># Available values: en | es-ES | fr | ru | zh-CN | zh-TW</span></span><br><span class="line"><span class="attr">  language:</span> <span class="string">zh-CN</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pangu</span></span><br><span class="line"><span class="comment"># 中文和英文间距</span></span><br><span class="line"><span class="attr">pangu:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># math</span></span><br><span class="line"><span class="comment"># 公式</span></span><br><span class="line"><span class="attr">math:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Default (true) will load mathjax / katex script on demand.</span></span><br><span class="line">  <span class="comment"># That is it only render those page which has `mathjax: true` in Front-matter.</span></span><br><span class="line">  <span class="comment"># If you set it to false, it will load mathjax / katex srcipt EVERY PAGE.</span></span><br><span class="line"><span class="attr">  per_page:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># hexo-renderer-pandoc (or hexo-renderer-kramed) required for full MathJax support.</span></span><br><span class="line"><span class="attr">  mathjax:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># See: https://mhchem.github.io/MathJax-mhchem/</span></span><br><span class="line"><span class="attr">    mhchem:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># pjax</span></span><br><span class="line"><span class="comment"># 类似于ajax</span></span><br><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 依赖的库</span></span><br><span class="line"><span class="string">$</span> <span class="string">cd</span> <span class="string">themes/next</span></span><br><span class="line"><span class="string">$</span> <span class="string">git</span> <span class="string">clone</span> <span class="attr">https://github.com/theme-next/theme-next-pjax</span> <span class="string">source/lib/pjax</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 根目录执行</span></span><br><span class="line"><span class="comment"># 标签页</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">tags</span></span><br><span class="line"><span class="comment"># 分类页</span></span><br><span class="line"><span class="string">hexo</span> <span class="string">new</span> <span class="string">page</span> <span class="string">categories</span></span><br><span class="line"></span><br><span class="line"><span class="string">配置</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"tags"</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-10</span><span class="bullet">-25</span> <span class="number">12</span><span class="string">:05:47</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"categories"</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-10</span><span class="bullet">-25</span> <span class="number">12</span><span class="string">:10:44</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 主菜单</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">home</span></span><br><span class="line">  <span class="comment">#about: /about/ || user</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">th</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 搜索</span></span><br><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-searchdb</span> <span class="bullet">--save</span></span><br><span class="line"><span class="comment"># 项目目录配置</span></span><br><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">  field:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">  format:</span> <span class="string">html</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">10000</span></span><br><span class="line"><span class="comment"># 主题配置</span></span><br><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/wzpan/hexo-generator-search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># If auto, trigger search by changing input.</span></span><br><span class="line">  <span class="comment"># If manual, trigger search by pressing enter key or search button.</span></span><br><span class="line"><span class="attr">  trigger:</span> <span class="string">auto</span></span><br><span class="line">  <span class="comment"># Show top n results per article, show all results by setting to -1</span></span><br><span class="line"><span class="attr">  top_n_per_article:</span> <span class="number">5</span></span><br><span class="line">  <span class="comment"># Unescape html strings to the readable one.</span></span><br><span class="line"><span class="attr">  unescape:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Preload the search data when the page loads.</span></span><br><span class="line"><span class="attr">  preload:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="404"><a href="#404" class="headerlink" title="404"></a>404</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="number">404</span> <span class="string">Not</span> <span class="string">Found：该页无法显示</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-07</span><span class="bullet">-28</span> <span class="number">12</span><span class="string">:47:20</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/404</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">&lt;!DOCTYPE</span> <span class="string">html&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line">    <span class="string">&lt;head&gt;</span></span><br><span class="line">         <span class="string">&lt;meta</span> <span class="string">charset="UTF-8"</span> <span class="string">/&gt;</span></span><br><span class="line">         <span class="string">&lt;title&gt;404&lt;/title&gt;</span>                                                                                                                                        </span><br><span class="line">    <span class="string">&lt;/head&gt;</span></span><br><span class="line">    <span class="string">&lt;body&gt;</span></span><br><span class="line">         <span class="string">&lt;script</span> <span class="string">type="text/javascript"</span> <span class="string">src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js"</span> <span class="string">homePageName="返回首页"</span> <span class="string">homePageUrl="https://zhihuya188.github.io"&gt;&lt;/script&gt;</span></span><br><span class="line">    <span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><h3 id="部署脚本"><a href="#部署脚本" class="headerlink" title="部署脚本"></a>部署脚本</h3><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">touch</span> <span class="string">deploy.sh</span></span><br><span class="line"><span class="attr">vim</span> <span class="string">deploy.sh</span></span><br><span class="line"></span><br><span class="line"><span class="attr">hexo</span> <span class="string">clean</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">generate</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="meta">sh</span> <span class="string">deploy.sh</span></span><br></pre></td></tr></table></figure><hr><h3 id="文章阴影设置未解决"><a href="#文章阴影设置未解决" class="headerlink" title="文章阴影设置未解决"></a>文章阴影设置未解决</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># ~\themes\next-reloaded\source\css\main.styl</span></span><br><span class="line"><span class="comment">//My Layer</span></span><br><span class="line"><span class="comment">//--------------------------------------------------</span></span><br><span class="line">@import <span class="string">"_custom/custom.styl"</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta"># _custom/custom.styl</span></span><br></pre></td></tr></table></figure><h3 id="评论补充"><a href="#评论补充" class="headerlink" title="评论补充"></a>评论补充</h3><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Register Application</span><br><span class="line">在GitHub上注册新应用，链接：<span class="keyword">https</span>://github.com/settings/applications/<span class="built_in">new</span></span><br><span class="line">参数说明：</span><br><span class="line">Application name： <span class="comment"># 应用名称，随意</span></span><br><span class="line">Homepage <span class="built_in">URL</span>： <span class="comment"># 网站URL，如https://asdfv1929.github.io</span></span><br><span class="line">Application description <span class="comment"># 描述，随意</span></span><br><span class="line">Authorization callback <span class="built_in">URL</span>：<span class="comment"># 网站URL，https://asdfv1929.github.io</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h2&gt;&lt;p&gt;记录个人博客hexo-next配置过程&lt;br&gt;
    
    </summary>
    
    
      <category term="blog" scheme="https://yangyang188.coding.me/categories/blog/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="next" scheme="https://yangyang188.coding.me/tags/next/"/>
    
  </entry>
  
  <entry>
    <title>linux命令笔记</title>
    <link href="https://yangyang188.coding.me/archives/d6fb59cf/"/>
    <id>https://yangyang188.coding.me/archives/d6fb59cf/</id>
    <published>2019-08-14T13:41:48.000Z</published>
    <updated>2019-10-27T13:50:38.956Z</updated>
    
    <content type="html"><![CDATA[<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p>linux命令笔记，记录学习过程</p><a id="more"></a><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><ul><li>熟练使用 Linux常用的命令</li><li>ls</li><li>clear</li><li>cd</li><li>pwd</li><li>mkdir</li><li>touch</li><li>rm</li><li>cp</li><li>mv</li><li>tree</li><li>chmod</li><li>find</li><li>grep</li><li>重定向</li><li>软连接、硬链接</li><li>压缩</li><li>shutdown</li><li>reboot</li><li>who</li><li>exit</li><li>passwd</li><li>sudo</li></ul><h3 id="gt-查看文件信息：ls"><a href="#gt-查看文件信息：ls" class="headerlink" title="&gt; 查看文件信息：ls"></a>&gt; 查看文件信息：ls</h3><p>ls常用参数：</p><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示指定目录下所有子目录与文件，包括隐藏文件</td></tr><tr><td>-l</td><td>以列表方式显示文件的详细信息</td></tr><tr><td>-h</td><td>配合 -l 以人性化的方式显示文件大小</td></tr></tbody></table></div><blockquote><p>与DOS下的文件操作类似，在Unix/Linux系统中，也同样允许使用特殊字符来同时引用多个文件名，这些特殊字符被称为通配符。</p></blockquote><p>常用选项说明：</p><div class="table-container"><table><thead><tr><th>通配符</th><th>含义</th></tr></thead><tbody><tr><td>*</td><td>文件代表文件名中所有字符</td></tr><tr><td>ls te*</td><td>查找以te开头的文件</td></tr><tr><td>ls *html</td><td>查找结尾为html的文件</td></tr><tr><td>？</td><td>代表文件名中任意一个字符</td></tr><tr><td>ls ?.c</td><td>只找第一个字符任意，后缀为.c的文件</td></tr><tr><td>ls a.?</td><td>只找只有3个字符，前2字符为a.，最后一个字符任意的文件</td></tr><tr><td>[]</td><td>[”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围。</td></tr><tr><td>[abc]</td><td>匹配a、b、c中的任意一个</td></tr><tr><td>[a-f]</td><td>匹配从a到f范围内的的任意一个字符</td></tr><tr><td>ls [a-f]*</td><td>找到从a到f范围内的的任意一个字符开头的文件</td></tr><tr><td>ls a-f</td><td>查找文件名为a-f的文件,当“-”处于方括号之外失去通配符的作用</td></tr><tr><td>\</td><td>如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。</td></tr><tr><td>ls \*a</td><td>查找文件名为*a的文件</td></tr></tbody></table></div><h3 id="gt-删除文件：rm"><a href="#gt-删除文件：rm" class="headerlink" title="&gt; 删除文件：rm"></a>&gt; 删除文件：rm</h3><p>常用选项说明：</p><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-i</td><td>以进行交互式方式执行</td></tr><tr><td>-f</td><td>强制删除，忽略不存在的文件，无需提示</td></tr><tr><td>-r</td><td>递归地删除目录下的内容，删除文件夹时必须加此参数</td></tr></tbody></table></div><h3 id="gt-拷贝：cp"><a href="#gt-拷贝：cp" class="headerlink" title="&gt; 拷贝：cp"></a>&gt; 拷贝：cp</h3><p>常用选项说明：</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>该选项通常在复制目录时使用，它保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。</td></tr><tr><td>-f</td><td>已经存在的目标文件而不提示</td></tr><tr><td>-i</td><td>交互式复制，在覆盖目标文件之前将给出提示要求用户确认</td></tr><tr><td>-r</td><td>若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。</td></tr><tr><td>-v</td><td>显示拷贝进度</td></tr></tbody></table></div><h3 id="gt-mv：移动、重命名"><a href="#gt-mv：移动、重命名" class="headerlink" title="&gt; mv：移动、重命名"></a>&gt; mv：移动、重命名</h3><p>常用选项说明：</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-f</td><td>禁止交互式操作，如有覆盖也不会给出提示</td></tr><tr><td>-i</td><td>确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件</td></tr><tr><td>-v</td><td>显示移动进度</td></tr></tbody></table></div><h3 id="gt-输出重定向命令：-gt"><a href="#gt-输出重定向命令：-gt" class="headerlink" title="&gt; 输出重定向命令：&gt;"></a>&gt; 输出重定向命令：&gt;</h3><p>Linux允许将命令执行结果重定向到一个文件，本应显示在终端上的内容保存到指定文件中。</p><p>如：ls &gt; test.txt ( test.txt 如果不存在，则创建，存在则覆盖其内容 )</p><blockquote><p>注意： &gt;输出重定向会覆盖原来的内容，&gt;&gt;输出重定向则会追加到文件的尾部。</p></blockquote><h3 id="gt-分屏显示：more"><a href="#gt-分屏显示：more" class="headerlink" title="&gt; 分屏显示：more"></a>&gt; 分屏显示：more</h3><p>查看内容时，在信息过长无法在一屏上显示时，会出现快速滚屏，使得用户无法看清文件的内容，此时可以使用<code>more</code>命令，每次只显示一页，按下空格键可以显示下一页，按下q键退出显示，按下h键可以获取帮助。</p><h3 id="gt-管道："><a href="#gt-管道：" class="headerlink" title="&gt; 管道：|"></a>&gt; 管道：|</h3><p>管道：一个命令的输出可以通过管道做为另一个命令的输入。</p><p>管道我们可以理解现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里“ | ”的左右分为两端，左端塞东西(写)，右端取东西(读)。</p><h3 id="gt-建立链接文件：ln"><a href="#gt-建立链接文件：ln" class="headerlink" title="&gt; 建立链接文件：ln"></a>&gt; 建立链接文件：ln</h3><p>Linux链接文件类似于Windows下的快捷方式。</p><p>链接文件分为软链接和硬链接。</p><p>软链接：软链接不占用磁盘空间，源文件删除则软链接失效。</p><p>硬链接：硬链接只能链接普通文件，不能链接目录。</p><p>使用格式：</p><ul><li>ln 源文件 链接文件</li><li>ln -s 源文件 链接文件</li></ul><blockquote><p>如果没有-s选项代表建立一个硬链接文件，两个文件占用相同大小的硬盘空间，即使删除了源文件，链接文件还是存在，所以-s选项是更常见的形式。</p><p>注意：如果软链接文件和源文件不在同一个目录，源文件要使用绝对路径，不能使用相对路径。</p></blockquote><h3 id="gt-查看或者合并文件内容：cat"><a href="#gt-查看或者合并文件内容：cat" class="headerlink" title="&gt; 查看或者合并文件内容：cat"></a>&gt; 查看或者合并文件内容：cat</h3><h3 id="gt-文本搜索：grep"><a href="#gt-文本搜索：grep" class="headerlink" title="&gt; 文本搜索：grep"></a>&gt; 文本搜索：grep</h3><p>Linux系统中grep命令是一种强大的文本搜索工具，grep允许对文本文件进行模式查找。如果找到匹配模式， grep打印包含模式的所有行。</p><p>grep一般格式为：</p><p><code>grep [-选项] ‘搜索内容串’文件名</code></p><p>在grep命令中输入字符串参数时，最好引号或双引号括起来。</p><p>例如：</p><p><code>grep &#39;a&#39; 1.txt</code></p><p>常用选项说明：</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-f</td><td>禁止交互式操作，如有覆盖也不会给出提示</td></tr><tr><td>-i</td><td>确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件</td></tr><tr><td>-v</td><td>显示移动进度</td></tr></tbody></table></div><p>grep搜索内容串可以是正则表达式。</p><p>正则表达式是对字符串操作的一种逻辑公式，就是用事先定义好的一些特定字符、及这些特定字符的组合，组成一个“规则字符串”，这个“规则字符串”用来表达对字符串的一种过滤逻辑。</p><p>grep常用正则表达式：</p><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>^a</td><td>行首,搜寻以 m 开头的行；grep -n ‘^a’ 1.txt</td></tr><tr><td>ke$</td><td>行尾,搜寻以 ke 结束的行；grep -n ‘ke$’ 1.txt</td></tr><tr><td>[Ss]igna[Ll]</td><td>匹配 [] 里中一系列字符中的一个；搜寻匹配单词signal、signaL、Signal、SignaL的行；grep -n ‘[Ss]igna[Ll]‘ 1.txt</td></tr><tr><td>.</td><td>(点)匹配一个非换行符的字符；匹配 e 和 e 之间有任意一个字符，可以匹配 eee，eae，eve，但是不匹配 ee，eaae；grep -n ‘e.e’ 1.txt</td></tr></tbody></table></div><h3 id="gt-查找文件：find"><a href="#gt-查找文件：find" class="headerlink" title="&gt; 查找文件：find"></a>&gt; 查找文件：find</h3><p>find命令功能非常强大，通常用来在特定的目录下搜索符合条件的文件，也可以用来搜索特定用户属主的文件。</p><p>常用用法：</p><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>find ./ -name test.sh</td><td>查找当前目录下所有名为test.sh的文件</td></tr><tr><td>find ./ -name ‘*.sh’</td><td>查找当前目录下所有后缀为.sh的文件</td></tr><tr><td>find ./ -name “[A-Z]*“</td><td>查找当前目录下所有以大写字母开头的文件</td></tr><tr><td>find  /tmp  -size   2M</td><td>查找在/tmp 目录下等于2M的文件</td></tr><tr><td>find  /tmp  -size  +2M</td><td>查找在/tmp 目录下大于2M的文件</td></tr><tr><td>find  /tmp  -size  -2M</td><td>查找在/tmp 目录下小于2M的文件</td></tr><tr><td>find ./ -size +4k -size -5M</td><td>查找当前目录下大于4k，小于5M的文件</td></tr><tr><td>find ./ -perm 777</td><td>查找当前目录下权限为 777 的文件或目录</td></tr></tbody></table></div><h3 id="gt-归档管理：tar"><a href="#gt-归档管理：tar" class="headerlink" title="&gt; 归档管理：tar"></a>&gt; 归档管理：tar</h3><p>计算机中的数据经常需要备份，tar是Unix/Linux中最常用的备份工具，此命令可以把一系列文件归档到一个大文件中，也可以把档案文件解开以恢复数据。</p><p>tar使用格式 tar [参数] 打包文件名 文件</p><p>tar命令很特殊，其参数前面可以使用“-”，也可以不使用。</p><p>常用参数：</p><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-c</td><td>生成档案文件，创建打包文件</td></tr><tr><td>-v</td><td>列出归档解档的详细过程，显示进度</td></tr><tr><td>-f</td><td>指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后</td></tr><tr><td>-t</td><td>列出档案中包含的文件</td></tr><tr><td>-x</td><td>解开档案文件</td></tr></tbody></table></div><blockquote><p>注意：除了f需要放在参数的最后，其它参数的顺序任意。</p></blockquote><h3 id="gt-文件压缩解压：gzip"><a href="#gt-文件压缩解压：gzip" class="headerlink" title="&gt; 文件压缩解压：gzip"></a>&gt; 文件压缩解压：gzip</h3><p>tar与gzip命令结合使用实现文件打包、压缩。 tar只负责打包文件，但不压缩，用gzip压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz。</p><p>gzip使用格式如下：</p><p>gzip  [选项]  被压缩文件</p><p>常用选项：</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-d</td><td>解压</td></tr><tr><td>-r</td><td>压缩所有子目录</td></tr></tbody></table></div><p>tar这个命令并没有压缩的功能，它只是一个打包的命令，但是在tar命令中增加一个选项(-z)可以调用gzip实现了一个压缩的功能，实行一个先打包后压缩的过程。</p><p>压缩用法：tar cvzf 压缩包包名 文件1 文件2 …</p><pre><code>-z ：指定压缩包的格式为：file.tar.gz</code></pre><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 当前路径下所有的文件以及文件夹打包并压缩到<span class="selector-tag">test</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span>文件中</span><br><span class="line"><span class="selector-tag">tar</span> <span class="selector-tag">-zcvf</span> <span class="selector-tag">test</span><span class="selector-class">.tar</span><span class="selector-class">.gz</span> *</span><br></pre></td></tr></table></figure><p>解压用法： tar zxvf 压缩包包名</p><pre><code>-z:指定压缩包的格式为：file.tar.gztar -zxvf test.tar.gz</code></pre><p>解压到指定目录：-C （大写字母“C”）</p><h3 id="gt-查看命令位置：which"><a href="#gt-查看命令位置：which" class="headerlink" title="&gt; 查看命令位置：which"></a>&gt; 查看命令位置：which</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果找到显示这个命令的路径</span></span><br><span class="line">abcpythontab<span class="variable">@Ubuntu</span><span class="symbol">:~/Desktop/test</span><span class="variable">$ </span>which ls</span><br><span class="line">/bin/ls</span><br></pre></td></tr></table></figure><h3 id="gt-修改文件权限：chmod"><a href="#gt-修改文件权限：chmod" class="headerlink" title="&gt; 修改文件权限：chmod"></a>&gt; 修改文件权限：chmod</h3><p>chmod 修改文件权限有两种使用格式：字母法与数字法。</p><p>字母法：chmod u/g/o/a +/-/= rwx 文件</p><div class="table-container"><table><thead><tr><th>[ u/g/o/a ]</th><th>含义</th></tr></thead><tbody><tr><td>u</td><td>user 表示该文件的所有者</td></tr><tr><td>g</td><td>group 表示与该文件的所有者属于同一组( group )者，即用户组</td></tr><tr><td>o</td><td>other 表示其他以外的人</td></tr><tr><td>a</td><td>all 表示这三者皆是</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>[ +-= ]</th><th>含义</th></tr></thead><tbody><tr><td>+</td><td>增加权限</td></tr><tr><td>-</td><td>撤销权限</td></tr><tr><td>=</td><td>设定权限</td></tr></tbody></table></div><div class="table-container"><table><thead><tr><th>rwx</th><th>含义</th></tr></thead><tbody><tr><td>r</td><td>read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。</td></tr><tr><td>w</td><td>write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。</td></tr><tr><td>x</td><td>excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。</td></tr></tbody></table></div><p>数字法：“rwx” 这些权限也可以用数字来代替</p><div class="table-container"><table><thead><tr><th>字母</th><th>说明</th></tr></thead><tbody><tr><td>r</td><td>读取权限，数字代号为 “4”</td></tr><tr><td>w</td><td>写入权限，数字代号为 “2”</td></tr><tr><td>x</td><td>执行权限，数字代号为 “1”</td></tr><tr><td>-</td><td>不具任何权限，数字代号为 “0”</td></tr></tbody></table></div><p>如执行：chmod u=rwx,g=rx,o=r filename 就等同于：chmod u=7,g=5,o=4 filename</p><p>chmod 751 file：</p><ul><li>文件所有者：读、写、执行权限</li><li>同组用户：读、执行的权限</li><li>其它用户：执行的权限</li></ul><blockquote><p>注意：如果想递归所有目录加上相同权限，需要加上参数“ -R ”。 如：chmod 777 test/ -R 递归 test 目录下所有文件加 777 权限</p></blockquote><h3 id="gt-切换到管理员账号"><a href="#gt-切换到管理员账号" class="headerlink" title="&gt; 切换到管理员账号"></a>&gt; 切换到管理员账号</h3><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看当前用户</span></span><br><span class="line">abcpythontab<span class="variable">@Ubuntu</span><span class="symbol">:~/Desktop/test</span><span class="variable">$ </span>whoami</span><br><span class="line">abcpythontab</span><br><span class="line"><span class="comment"># 切换root用户</span></span><br><span class="line">abcpythontab<span class="variable">@Ubuntu</span><span class="symbol">:~/Desktop/test</span><span class="variable">$ </span>sudo -s</span><br><span class="line">[sudo] password <span class="keyword">for</span> <span class="symbol">abcpythontab:</span> </span><br><span class="line">root<span class="variable">@Ubuntu</span><span class="symbol">:~/Desktop/test</span><span class="comment"># whoami</span></span><br><span class="line">root</span><br><span class="line">root<span class="variable">@Ubuntu</span><span class="symbol">:~/Desktop/test</span><span class="comment">#</span></span><br></pre></td></tr></table></figure><h3 id="gt-创建用户"><a href="#gt-创建用户" class="headerlink" title="&gt; 创建用户"></a>&gt; 创建用户</h3><p>创建用户有两条命令：adduer和useradd，对应着两条删除用户的命令：deluser和userdel。<br>这两种命令之间的区别：<br>adduser：会自动为创建的用户指定主目录、系统shell版本，会在创建时输入用户密码。<br>useradd：需要使用参数选项指定上述基本设置，如果不使用任何参数，则创建的用户无密码、无主目录、没有指定shell版本。</p><hr><p>版权声明：本文为CSDN博主「taolusi」的原创文章，遵循CC 4.0 by-sa版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a href="https://blog.csdn.net/taolusi/article/details/81304057" target="_blank" rel="external nofollow noopener noreferrer">https://blog.csdn.net/taolusi/article/details/81304057</a></p><h4 id="adduser"><a href="#adduser" class="headerlink" title="adduser"></a>adduser</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">abcpythontab@Ubuntu:~$ sudo adduser python</span><br><span class="line">Adding user `python' ...</span><br><span class="line">Adding new group `python' (1002) ...</span><br><span class="line">Adding new user `python' (1001) <span class="keyword">with</span> <span class="keyword">group</span> <span class="string">`python' ...</span></span><br><span class="line"><span class="string">Creating home directory `</span>/home/python<span class="string">' ...</span></span><br><span class="line"><span class="string">Copying files from `/etc/skel'</span> ...</span><br><span class="line">Enter <span class="keyword">new</span> UNIX <span class="keyword">password</span>: </span><br><span class="line">Retype <span class="keyword">new</span> UNIX <span class="keyword">password</span>: </span><br><span class="line">passwd: <span class="keyword">password</span> <span class="keyword">updated</span> successfully</span><br><span class="line">Changing the <span class="keyword">user</span> information <span class="keyword">for</span> python</span><br><span class="line">Enter the <span class="keyword">new</span> <span class="keyword">value</span>, <span class="keyword">or</span> press ENTER <span class="keyword">for</span> the <span class="keyword">default</span></span><br><span class="line"><span class="keyword">Full</span> <span class="keyword">Name</span> []: python</span><br><span class="line">Room <span class="built_in">Number</span> []: </span><br><span class="line"><span class="keyword">Work</span> Phone []: </span><br><span class="line">Home Phone []: </span><br><span class="line">Other []: </span><br><span class="line"><span class="keyword">Is</span> the information correct? [Y/n] y</span><br></pre></td></tr></table></figure><blockquote><p>这样在创建用户名时，就创建了用户的主目录以及密码</p></blockquote><h4 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h4><blockquote><p>注意： 在使用useradd命令创建新用户时，不会为用户创建主目录，不会为用户指定shell版本，不会为用户创建密码。</p></blockquote><p>不使用任何参数选项创建用户：<code>sudo useradd tt</code></p><p>为用户指定登录密码：<code>sudo passwd tt</code></p><p>为用户指定命令解释程序(通常为/bin/bash)：<code>sudo usermod -s /bin/bash tt</code></p><p>为用户指定用户主目录：<code>sudo usermod -d /home/tt tt</code></p><p>为用户指定参数的useradd命令：</p><p>常用命令行选项：</p><p>-d： 指定用户的主目录</p><p>-m： 如果存在不再创建，但是此目录并不属于新创建用户；如果主目录不存在，则强制创建； -m和-d一块使用。</p><p>-s： 指定用户登录时的shell版本</p><p>-M： 不创建主目录</p><p>例如：<code>sudo useradd -d &quot;/home/tt&quot; -m -s &quot;/bin/bash&quot; tt</code></p><p>解释：</p><p><code>-d &#39;/home/tt&#39;</code> ：就是指定/home/tt为主目录 </p><p>-m 就是如果<code>/home/tt</code>不存在就强制创建</p><p>-s 就是指定shell版本</p><p>修改用户密码：<code>sudo passwd tt</code> </p><h3 id="gt-删除用户"><a href="#gt-删除用户" class="headerlink" title="&gt; 删除用户"></a>&gt; 删除用户</h3><ol><li>deluser<br>只删除用户：sudo deluser tt<br>输出显示：<figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">正在删除用户 <span class="string">'tt'</span><span class="params">...</span></span><br><span class="line">警告：组<span class="string">"tt"</span>没有其他成员了。</span><br><span class="line">完成。</span><br></pre></td></tr></table></figure>连同用户的主目录和邮箱一起删除：<code>sudo deluser --remove-home tt</code> </li></ol><p>输出显示：<br><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">正在寻找要备份或删除的文件<span class="params">...</span></span><br><span class="line">正在删除文件<span class="params">...</span></span><br><span class="line">正在删除用户 <span class="string">'tt'</span><span class="params">...</span></span><br><span class="line">警告：组<span class="string">"tt"</span>没有其他成员了。</span><br><span class="line">完成。</span><br></pre></td></tr></table></figure><br>连同用户拥有的所有文件删除：<code>sudo deluser --remove-all-files tt</code></p><ol><li>userdel</li></ol><p>只删除用户：sudo userdel tt</p><p>连同用户主目录一起删除：<code>sudo derlser -r tt</code> </p><p>如果创建时主目录已经存在，即主目录不属于当前要删除的用户，则无法删除主目录。</p><ol><li>相关文件</li></ol><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/etc/passwd - 使 用 者 帐 号 资 讯，可以查看用户信息</span><br><span class="line">/etc/shadow - 使 用 者 帐 号 资 讯 加 密</span><br><span class="line">/etc<span class="built_in">/group </span>- 群 组 资 讯</span><br><span class="line">/etc/default/useradd - 定 义 资 讯</span><br><span class="line">/etc/login.defs - 系 统 广 义 设 定</span><br><span class="line">/etc/skel - 内 含 定 义 档 的 目 录</span><br></pre></td></tr></table></figure><p>可以这样打开来查看：<code>cat /etc/passwd</code></p><h3 id="gt-查看登录用户：who"><a href="#gt-查看登录用户：who" class="headerlink" title="&gt; 查看登录用户：who"></a>&gt; 查看登录用户：who</h3><p>who命令用于查看当前所有登录系统的用户信息。</p><p>常用选项：</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-q或--count</td><td>只显示用户的登录账号和登录用户的数量</td></tr><tr><td>-u或--heading</td><td>显示列标题</td></tr></tbody></table></div><h3 id="gt-关机重启：reboot-shutdown-init"><a href="#gt-关机重启：reboot-shutdown-init" class="headerlink" title="&gt; 关机重启：reboot | shutdown | init"></a>&gt; 关机重启：reboot | shutdown | init</h3><div class="table-container"><table><thead><tr><th>命令</th><th>含义</th></tr></thead><tbody><tr><td>reboot</td><td>重新启动操作系统</td></tr><tr><td>shutdown –r now</td><td>重新启动操作系统，shutdown会给别的用户提示</td></tr><tr><td>shutdown -h now</td><td>立刻关机，其中now相当于时间为0的状态</td></tr><tr><td>shutdown -h 20:25</td><td>系统在今天的20:25 会关机</td></tr><tr><td>shutdown -h +10</td><td>系统再过十分钟后自动关机</td></tr></tbody></table></div>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h2&gt;&lt;p&gt;linux命令笔记，记录学习过程&lt;/p&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="linux" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/linux/"/>
    
    
      <category term="linux" scheme="https://yangyang188.coding.me/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Scrapy爬虫案例-“图片下载”实例</title>
    <link href="https://yangyang188.coding.me/archives/9a596e53/"/>
    <id>https://yangyang188.coding.me/archives/9a596e53/</id>
    <published>2019-08-11T07:50:23.000Z</published>
    <updated>2019-10-27T13:50:08.774Z</updated>
    
    <content type="html"><![CDATA[<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>Scrapy爬虫案例-Scrapy爬虫案例-“图片下载”实例<br><a id="more"></a></p><blockquote><p>参考：静觅博客 \<br>作者：崔庆才 \<br>网站：<a href="https://cuiqingcai.com/" target="_blank" rel="external nofollow noopener noreferrer">https://cuiqingcai.com/</a> \<br>博客：<a href="https://cuiqingcai.com/4421.html" target="_blank" rel="external nofollow noopener noreferrer">https://cuiqingcai.com/4421.html</a></p></blockquote><h2 id="“图片下载”实例"><a href="#“图片下载”实例" class="headerlink" title="“图片下载”实例"></a>“图片下载”实例</h2><h3 id="功能描述"><a href="#功能描述" class="headerlink" title="功能描述"></a>功能描述</h3><p>目标：获取页面的图片信息，提取其中的图片名称和链接</p><p>技术路线：Scrapy-CrawlSpider-xpath-re</p><p>目标网站：<a href="https://www.mm131.net/" target="_blank" rel="external nofollow noopener noreferrer">https://www.mm131.net/</a></p><h3 id="定向爬虫的可行性"><a href="#定向爬虫的可行性" class="headerlink" title="定向爬虫的可行性"></a>定向爬虫的可行性</h3><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># https:<span class="comment">//www.mm131.net/robots.txt</span></span></span><br><span class="line">User-agent: * </span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/plus/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/data/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/img/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/images/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/include/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/templets/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/search/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/index/</span></span><br><span class="line"><span class="symbol">Disallow:</span> /<span class="number">404.</span>html</span><br><span class="line"><span class="symbol">Disallow:</span> /<span class="number">500.</span>html</span><br><span class="line"><span class="symbol">Disallow:</span> /index2.html</span><br><span class="line"><span class="symbol">Disallow:</span> /index3.html</span><br><span class="line"><span class="symbol">Sitemap:</span>https:<span class="comment">//www.mm131.net/sitemap.xml</span></span><br></pre></td></tr></table></figure><blockquote><p>请注意：这个例子仅探讨技术实现，请不要不加限制的爬取该网站</p></blockquote><h3 id="程序的结构设计"><a href="#程序的结构设计" class="headerlink" title="程序的结构设计"></a>程序的结构设计</h3><p>步骤1：寻找网址规则编写匹配规则，循环获取页面</p><p>步骤2：对于每个页面，提取图片名称和图片地址</p><p>步骤3：下载图片</p><h3 id="实例编写"><a href="#实例编写" class="headerlink" title="实例编写"></a>实例编写</h3><h4 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 创建项目mm131scrapy</span><br><span class="line">scrapy startproject mm131scrapy</span><br><span class="line"># cd mm131scrapy 创建爬虫spider</span><br><span class="line">scrapy genspider spider mm131.net</span><br></pre></td></tr></table></figure><h4 id="创建启动程序run-py"><a href="#创建启动程序run-py" class="headerlink" title="创建启动程序run.py"></a>创建启动程序<code>run.py</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># run.py</span><br><span class="line">from scrapy.cmdline import execute</span><br><span class="line">execute([&apos;scrapy&apos;, &apos;crawl&apos;, &apos;mm131&apos;])</span><br></pre></td></tr></table></figure><h4 id="安装三方库-随机headers-："><a href="#安装三方库-随机headers-：" class="headerlink" title="安装三方库(随机headers)："></a>安装三方库(随机headers)：</h4><p><code>scrapy-fake-useragent</code></p><p>官方网址: <a href="https://pypi.org/project/scrapy-fake-useragent/" target="_blank" rel="external nofollow noopener noreferrer">https://pypi.org/project/scrapy-fake-useragent/</a></p><p>安装 <code>pip install scrapy-fake-useragent</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 在setting.py开启</span><br><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line">    &apos;scrapy_fake_useragent.middleware.RandomUserAgentMiddleware&apos;: 400, # 开启</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 目录结构</span><br><span class="line">.</span><br><span class="line">└── <span class="selector-tag">mm131scrapy</span></span><br><span class="line">    ├── <span class="selector-tag">mm131scrapy</span></span><br><span class="line">    │   ├── __<span class="selector-tag">init__</span><span class="selector-class">.py</span></span><br><span class="line">    │   ├── <span class="selector-tag">items</span><span class="selector-class">.py</span></span><br><span class="line">    │   ├── <span class="selector-tag">middlewares</span><span class="selector-class">.py</span></span><br><span class="line">    │   ├── <span class="selector-tag">pipelines</span><span class="selector-class">.py</span></span><br><span class="line">    │   ├── __<span class="selector-tag">pycache__</span></span><br><span class="line">    │   │   ├── __<span class="selector-tag">init__</span><span class="selector-class">.cpython-36</span><span class="selector-class">.pyc</span></span><br><span class="line">    │   │   └── <span class="selector-tag">settings</span><span class="selector-class">.cpython-36</span><span class="selector-class">.pyc</span></span><br><span class="line">    │   ├── <span class="selector-tag">settings</span><span class="selector-class">.py</span></span><br><span class="line">    │   └── <span class="selector-tag">spiders</span></span><br><span class="line">    │       ├── __<span class="selector-tag">init__</span><span class="selector-class">.py</span></span><br><span class="line">    │       ├── __<span class="selector-tag">pycache__</span></span><br><span class="line">    │       │   └── __<span class="selector-tag">init__</span><span class="selector-class">.cpython-36</span><span class="selector-class">.pyc</span></span><br><span class="line">    │       └── <span class="selector-tag">spider</span><span class="selector-class">.py</span></span><br><span class="line">    ├── <span class="selector-tag">run</span><span class="selector-class">.py</span></span><br><span class="line">    └── <span class="selector-tag">scrapy</span><span class="selector-class">.cfg</span></span><br></pre></td></tr></table></figure><h4 id="编写itesms-py"><a href="#编写itesms-py" class="headerlink" title="编写itesms.py"></a>编写<code>itesms.py</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--# 编写itesms.py增加三个字段--&gt;</span><br><span class="line"></span><br><span class="line">import scrapy</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class MzituScrapyItem(scrapy.Item):</span><br><span class="line">    # define the fields for your item here like:</span><br><span class="line">    # name = scrapy.Field()</span><br><span class="line">    name = scrapy.Field()</span><br><span class="line">    image_urls = scrapy.Field()</span><br><span class="line">    url = scrapy.Field()</span><br><span class="line">    pass</span><br></pre></td></tr></table></figure><h4 id="编写-spider-py"><a href="#编写-spider-py" class="headerlink" title="编写:spider.py"></a>编写:<code>spider.py</code></h4><h2 id><a href="#" class="headerlink" title></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--#编写:spider.py--&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">项目描述：爬取mm131.net上的图片并下载</span><br><span class="line">运行环境：win7 64 + python3.7 +scrapy1.7.3</span><br><span class="line">运行方式：进入mm131目录（scrapy.cfg所在目录)输入：</span><br><span class="line"></span><br><span class="line">python run.py</span><br><span class="line"></span><br><span class="line">代码详解：https://yangyang188.coding.me/</span><br><span class="line">文件: spider.py</span><br><span class="line">创建时间：2019/8/11 8:56</span><br><span class="line">创建者：yangyang</span><br><span class="line">Blog: yangyang188.coding.me</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">from scrapy.linkextractors import LinkExtractor</span><br><span class="line">from scrapy.spiders import CrawlSpider, Rule</span><br><span class="line">from ..items import Mm131ScrapyItem</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class SpiderSpider(CrawlSpider):</span><br><span class="line">    name = &apos;mm131&apos;</span><br><span class="line">    allowed_domains = [&apos;mm131.net&apos;]</span><br><span class="line">    start_urls = [&apos;http://mm131.net/&apos;]</span><br><span class="line"></span><br><span class="line">    rules = (</span><br><span class="line">        Rule(</span><br><span class="line">            LinkExtractor(</span><br><span class="line">                allow=r&apos;(http|https)://www.mm131.net/qingchun/\d+.html&apos;),</span><br><span class="line">            callback=&apos;parse_item&apos;,</span><br><span class="line">            follow=True),</span><br><span class="line">        Rule(</span><br><span class="line">            LinkExtractor(</span><br><span class="line">                allow=r&apos;(http|https)://www.mm131.net/qingchun/\d+_\d+.html&apos;),</span><br><span class="line">            callback=&apos;parse_item&apos;,</span><br><span class="line">            follow=True),</span><br><span class="line">    )</span><br><span class="line"></span><br><span class="line">    def parse_item(self, response):</span><br><span class="line"></span><br><span class="line">        item = Mm131ScrapyItem()</span><br><span class="line">        item[&apos;name&apos;] = response.xpath(</span><br><span class="line">            &quot;//div[@class=&apos;content&apos;]/h5/text()&quot;).extract_first()</span><br><span class="line">        item[&apos;url&apos;] = response.url</span><br><span class="line">        item[&apos;image_urls&apos;] = response.xpath(</span><br><span class="line">            &quot;//div[@class=&apos;content-pic&apos;]/a/img/@src&quot;).extract()</span><br><span class="line"></span><br><span class="line">        yield item</span><br><span class="line"></span><br><span class="line">&lt;!--编写结束--&gt;</span><br></pre></td></tr></table></figure></h2><h4 id="编写pipelines-py"><a href="#编写pipelines-py" class="headerlink" title="编写pipelines.py"></a>编写<code>pipelines.py</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--编写pipelines.py--&gt;</span><br><span class="line">&lt;!--重写一下ImagesPipeline中的file_path方法！--&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line"></span><br><span class="line"># Define your item pipelines here</span><br><span class="line">#</span><br><span class="line"># Don&apos;t forget to add your pipeline to the ITEM_PIPELINES setting</span><br><span class="line"># See: https://docs.scrapy.org/en/latest/topics/item-pipeline.html</span><br><span class="line">from scrapy import Request</span><br><span class="line">from scrapy.pipelines.images import ImagesPipeline</span><br><span class="line">from scrapy.exceptions import DropItem</span><br><span class="line">import re</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Mm131ScrapyPipeline(ImagesPipeline):</span><br><span class="line"></span><br><span class="line">    def file_path(self, request, response=None, info=None):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        :param request: 每一个图片下载管道请求</span><br><span class="line">        :param response:</span><br><span class="line">        :param info:</span><br><span class="line">        :param strip :清洗Windows系统的文件夹非法字符，避免无法创建目录</span><br><span class="line">        :return: 每套图的分类目录</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        item = request.meta[&apos;item&apos;]</span><br><span class="line">        folder = item[&apos;name&apos;]</span><br><span class="line">        folder_strip = strip(folder)</span><br><span class="line">        image_guid = request.url.split(&apos;/&apos;)[-1]</span><br><span class="line">        filename = u&apos;full/&#123;0&#125;/&#123;1&#125;&apos;.format(folder_strip, image_guid)</span><br><span class="line">        return filename</span><br><span class="line"></span><br><span class="line">    def get_media_requests(self, item, info):</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        :param item: spider.py中返回的item</span><br><span class="line">        :param info:</span><br><span class="line">        :return:</span><br><span class="line">        &quot;&quot;&quot;</span><br><span class="line">        for img_url in item[&apos;image_urls&apos;]:</span><br><span class="line">            referer = item[&apos;url&apos;]</span><br><span class="line">            yield Request(img_url, meta=&#123;&apos;item&apos;: item,</span><br><span class="line">                                         &apos;referer&apos;: referer&#125;)</span><br><span class="line"></span><br><span class="line">    def item_completed(self, results, item, info):</span><br><span class="line">        image_paths = [x[&apos;path&apos;] for ok, x in results if ok]</span><br><span class="line">        if not image_paths:</span><br><span class="line">            raise DropItem(&quot;Item contains no images&quot;)</span><br><span class="line">        return item</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def strip(path):</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    :param path: 需要清洗的文件夹名字</span><br><span class="line">    :return: 清洗掉Windows系统非法文件夹名字的字符串</span><br><span class="line">    &quot;&quot;&quot;</span><br><span class="line">    path = re.sub(r&apos;[？\\*|“&lt;&gt;:/|\(\d&#123;1,2&#125;\)]&apos;, &apos;&apos;, str(path))</span><br><span class="line">    return path</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    a = r&apos;我是一个？\*|“&lt;&gt;:/(10)错误的字符串&apos;</span><br><span class="line">    print(strip(a))</span><br><span class="line"></span><br><span class="line">&lt;!--重写结束--&gt;</span><br><span class="line">!--编写pipelines.py结束--&gt;</span><br></pre></td></tr></table></figure><h4 id="编写：middlewares-py"><a href="#编写：middlewares-py" class="headerlink" title="编写：middlewares.py"></a>编写：<code>middlewares.py</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--编写：middlewares.py--&gt;</span><br><span class="line">&lt;!--写一个中间件来处理图片下载的防盗链：--&gt;</span><br><span class="line"></span><br><span class="line">class Mm131Images(object):</span><br><span class="line"> </span><br><span class="line">    def process_request(self, request, spider):</span><br><span class="line">        &apos;&apos;&apos;设置headers和切换请求头</span><br><span class="line">        :param request: 请求体</span><br><span class="line">        :param spider: spider对象</span><br><span class="line">        :return: None</span><br><span class="line">        &apos;&apos;&apos;</span><br><span class="line">        referer = request.meta.get(&apos;referer&apos;, None)</span><br><span class="line">        if referer:</span><br><span class="line">            request.headers[&apos;referer&apos;] = referer</span><br></pre></td></tr></table></figure><h4 id="编写settings-py"><a href="#编写settings-py" class="headerlink" title="编写settings.py"></a>编写<code>settings.py</code></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--编写settings.py--&gt;</span><br><span class="line">&lt;!--最后一步设置ImagesPipeline的存储目录！--&gt;</span><br><span class="line"></span><br><span class="line">IMAGES_STORE = &apos;F:\mm131scrapy\\&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!--启用：ITEM_PIPELINES--&gt;</span><br><span class="line"></span><br><span class="line">ITEM_PIPELINES = &#123;</span><br><span class="line">    &apos;mm131scrapy.pipelines.Mm131ScrapyPipeline&apos;: 300,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;!--启用：DOWNLOADER_MIDDLEWARES--&gt;</span><br><span class="line"></span><br><span class="line">DOWNLOADER_MIDDLEWARES = &#123;</span><br><span class="line">    # &apos;mm131scrapy.middlewares.Mm131ScrapyDownloaderMiddleware&apos;: 543,</span><br><span class="line">    &apos;mm131scrapy.middlewares.Mm131Images&apos;: 544,</span><br><span class="line">    &apos;scrapy_fake_useragent.middleware.RandomUserAgentMiddleware&apos;: 400,  # 随机头</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 设置图片实效性：</span><br><span class="line"></span><br><span class="line"># 图像管道避免下载最近已经下载的图片。使用 FILES_EXPIRES (或 IMAGES_EXPIRES) 设# # 置可以调整失效期限，可以用天数来指定:</span><br><span class="line"></span><br><span class="line">在settings.py中写入以下配置。</span><br><span class="line"># 30 days of delay for images expiration</span><br><span class="line">IMAGES_EXPIRES = 30</span><br></pre></td></tr></table></figure><h4 id="看效果"><a href="#看效果" class="headerlink" title="看效果"></a>看效果</h4><p><img src="http://wx2.sinaimg.cn/mw690/d818c3ccly1g5vs87j6wej21bx0h1ar6.jpg" alt="效果"></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h1&gt;&lt;p&gt;Scrapy爬虫案例-Scrapy爬虫案例-“图片下载”实例&lt;br&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="python" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/"/>
    
      <category term="scrapy" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/scrapy/"/>
    
    
      <category term="scrapy" scheme="https://yangyang188.coding.me/tags/scrapy/"/>
    
      <category term="spider" scheme="https://yangyang188.coding.me/tags/spider/"/>
    
  </entry>
  
  <entry>
    <title>Scrapy爬虫案例-淘宝比价定向爬虫</title>
    <link href="https://yangyang188.coding.me/archives/aca0cfdd/"/>
    <id>https://yangyang188.coding.me/archives/aca0cfdd/</id>
    <published>2019-08-11T01:13:23.000Z</published>
    <updated>2019-10-27T13:50:10.802Z</updated>
    
    <content type="html"><![CDATA[<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>Scrapy爬虫案例-淘宝比价定向爬虫学习笔记<br><a id="more"></a></p><blockquote><p>学习教程：Python网络爬虫与信息提取 \<br>授课老师：嵩天 \<br>官方网站：<a href="https://python123.io" target="_blank" rel="external nofollow noopener noreferrer">https://python123.io</a> \<br>教程链接：<a href="https://python123.io/index/courses/804" target="_blank" rel="external nofollow noopener noreferrer">https://python123.io/index/courses/804</a></p></blockquote><h2 id="“淘宝比价定向爬虫”实例"><a href="#“淘宝比价定向爬虫”实例" class="headerlink" title="“淘宝比价定向爬虫”实例"></a>“淘宝比价定向爬虫”实例</h2><h3 id="功能描述"><a href="#功能描述" class="headerlink" title="功能描述"></a>功能描述</h3><p>目标：获取淘宝搜索页面的信息，提取其中的商品名称和价格</p><p>理解：</p><ul><li>淘宝的搜索接口</li><li>翻页的处理</li><li>技术路线：requests‐bs4‐re</li></ul><p>关键词：”蕾丝裙”</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://s.taobao.com/search?q=<span class="name">%E8</span>%95<span class="name">%BE</span><span class="name">%E4</span><span class="name">%B8</span>%9D<span class="name">%E8</span><span class="name">%A3</span>%99<span class="variable">&amp;js</span>=1<span class="variable">&amp;stats_click</span>=search_radio_all%3A1<span class="variable">&amp;initiative_id</span>=staobaoz_20170105<span class="variable">&amp;ie</span>=utf8<span class="variable">&amp;bcoffset</span>=0<span class="variable">&amp;ntoffset</span>=6<span class="variable">&amp;p4ppushleft</span>=1%2C48<span class="variable">&amp;s</span>=1</span><br><span class="line">https://s.taobao.com/search?q=<span class="name">%E8</span>%95<span class="name">%BE</span><span class="name">%E4</span><span class="name">%B8</span>%9D<span class="name">%E8</span><span class="name">%A3</span>%99<span class="variable">&amp;js</span>=1<span class="variable">&amp;stats_click</span>=search_radio_all%3A1<span class="variable">&amp;initiative_id</span>=staobaoz_20170105<span class="variable">&amp;ie</span>=utf8<span class="variable">&amp;bcoffset</span>=0<span class="variable">&amp;ntoffset</span>=6<span class="variable">&amp;p4ppushleft</span>=1%2C48<span class="variable">&amp;s</span>=44</span><br><span class="line">https://s.taobao.com/search?q=<span class="name">%E8</span>%95<span class="name">%BE</span><span class="name">%E4</span><span class="name">%B8</span>%9D<span class="name">%E8</span><span class="name">%A3</span>%99<span class="variable">&amp;js</span>=1<span class="variable">&amp;stats_click</span>=search_radio_all%3A1<span class="variable">&amp;initiative_id</span>=staobaoz_20170105<span class="variable">&amp;ie</span>=utf8<span class="variable">&amp;bcoffset</span>=0<span class="variable">&amp;ntoffset</span>=6<span class="variable">&amp;p4ppushleft</span>=1%2C48<span class="variable">&amp;s</span>=88</span><br></pre></td></tr></table></figure><p>每页44个商品 </p><p>搜索接口和翻页的URL对应属性</p><h3 id="定向爬虫的可行性"><a href="#定向爬虫的可行性" class="headerlink" title="定向爬虫的可行性"></a>定向爬虫的可行性</h3><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">https:</span><span class="comment">//s.taobao.com/robots.txt</span></span><br><span class="line">User‐<span class="string">agent:</span> *</span><br><span class="line"><span class="string">Disallow:</span> /</span><br></pre></td></tr></table></figure><blockquote><p>请注意：这个例子仅探讨技术实现，请不要不加限制的爬取该网站</p></blockquote><h3 id="程序的结构设计"><a href="#程序的结构设计" class="headerlink" title="程序的结构设计"></a>程序的结构设计</h3><p>步骤1：提交商品搜索请求，循环获取页面</p><p>步骤2：对于每个页面，提取商品名称和价格信息</p><p>步骤3：将信息保存到txt</p><h3 id="实例编写"><a href="#实例编写" class="headerlink" title="实例编写"></a>实例编写</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">项目描述：获取淘宝搜索页面的信息，提取其中的商品名称和价格</span></span><br><span class="line"><span class="string">运行环境：win7 64 + python3.7 </span></span><br><span class="line"><span class="string">三方库：fake_useragent</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">代码详解：https://yangyang188.coding.me/</span></span><br><span class="line"><span class="string">文件: TaobaoSpider.py</span></span><br><span class="line"><span class="string">创建时间：2019/8/11 9:21</span></span><br><span class="line"><span class="string">创建者：yangyang</span></span><br><span class="line"><span class="string">博客: yangyang188.coding.me</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"><span class="comment"># 设置随机ua</span></span><br><span class="line">ua = UserAgent()</span><br><span class="line">headers = &#123;<span class="string">'User-Agent'</span>: ua.random,</span><br><span class="line">           <span class="string">'cookie'</span>: <span class="string">'***'</span></span><br><span class="line"></span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span><span class="params">(url)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url, timeout=<span class="number">30</span>, headers=headers)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        <span class="keyword">return</span> r.text</span><br><span class="line">    <span class="keyword">except</span> BaseException:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parsePage</span><span class="params">(ilt, html)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        plt = re.findall(<span class="string">r'\"view_price\"\:\"[\d\.]*\"'</span>, html)</span><br><span class="line">        tlt = re.findall(<span class="string">r'\"raw_title\"\:\".*?\"'</span>, html)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(plt)):</span><br><span class="line">            <span class="comment"># eval去除最外层的""</span></span><br><span class="line">            price = eval(plt[i].split(<span class="string">':'</span>)[<span class="number">1</span>])</span><br><span class="line">            title = eval(tlt[i].split(<span class="string">':'</span>)[<span class="number">1</span>])</span><br><span class="line">            ilt.append([price, title])</span><br><span class="line">    <span class="keyword">except</span> BaseException:</span><br><span class="line">        print(<span class="string">"异常"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printGoodsList</span><span class="params">(ilt)</span>:</span></span><br><span class="line">    <span class="keyword">with</span> open(<span class="string">'淘宝.txt'</span>, <span class="string">'w'</span>, encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        tplt = <span class="string">"&#123;:4&#125;\t&#123;:8&#125;\t&#123;:16&#125;\n"</span></span><br><span class="line">        f.write(tplt.format(<span class="string">"序号"</span>, <span class="string">"价格"</span>, <span class="string">"商品名称"</span>))</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> g <span class="keyword">in</span> ilt:</span><br><span class="line">            count = count + <span class="number">1</span></span><br><span class="line">            f.write(tplt.format(count, g[<span class="number">0</span>], g[<span class="number">1</span>]))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># tplt = "&#123;:4&#125;\t&#123;:8&#125;\t&#123;:16&#125;"</span></span><br><span class="line">    <span class="comment"># print(tplt.format("序号", "价格", "商品名称"))</span></span><br><span class="line">    <span class="comment"># count = 0</span></span><br><span class="line">    <span class="comment"># for g in ilt:</span></span><br><span class="line">    <span class="comment">#     count = count + 1</span></span><br><span class="line">    <span class="comment">#     print(tplt.format(count, g[0], g[1]))</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    goods = <span class="string">'蕾丝裙'</span></span><br><span class="line">    depth = <span class="number">2</span></span><br><span class="line">    start_url = <span class="string">'https://s.taobao.com/search?q='</span> + goods</span><br><span class="line">    infoList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(depth):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            url = start_url + <span class="string">'&amp;s='</span> + str(<span class="number">44</span> * i)</span><br><span class="line">            html = getHTMLText(url)</span><br><span class="line">            parsePage(infoList, html)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span> BaseException:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">    printGoodsList(infoList)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>结果</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line">序号  价格      商品名称            </span><br><span class="line">   <span class="number">1</span><span class="number">99.00</span>   中长款黑色蕾丝裙鱼尾包臀裙半身裙女秋季</span><br><span class="line">   <span class="number">2</span><span class="number">128.00</span>  裙子女夏季<span class="number">2019</span>新款水溶蕾丝半身裙a字裙鱼尾裙中长款高腰包臀裙</span><br><span class="line">   <span class="number">3</span><span class="number">94.00</span>   凯莉欧原创<span class="number">2019</span>夏季新款绣花网纱拼接蕾丝木耳花边连衣裙女</span><br><span class="line">   <span class="number">4</span><span class="number">299.50</span>  ONLY2019秋季新款chic气质蕾丝修身收腰百褶连衣裙女|<span class="number">119107650</span></span><br><span class="line">   <span class="number">5</span><span class="number">349.50</span>  ONLY2019秋季新款名媛气质蕾丝中长款连衣裙收腰显瘦女|<span class="number">119207582</span></span><br><span class="line">   <span class="number">6</span><span class="number">199.00</span>  茵曼旗舰店小清新裙子夏连衣裙女裙<span class="number">2019</span>新款女装蕾丝复古收腰长裙</span><br><span class="line">   <span class="number">7</span><span class="number">382.70</span>  罗衣短袖连衣裙女<span class="number">2019</span>夏装新款优雅蕾丝修身包臀雾蓝色裙子<span class="number">00079</span></span><br><span class="line">   <span class="number">8</span><span class="number">385.70</span>  罗衣原创蕾丝连衣裙<span class="number">2019</span>春夏新款气质雾蓝色修身淑女中长裙子<span class="number">7108</span></span><br><span class="line">   <span class="number">9</span><span class="number">259.00</span>  茵曼旗舰店长裙女连衣裙长款<span class="number">2019</span>夏装新款纯棉复古蕾丝很仙的裙子</span><br><span class="line">  <span class="number">10</span><span class="number">399.00</span>  Vero Moda2019春季新款ins风蕾丝七分袖印花连衣裙|<span class="number">31917</span>C549</span><br><span class="line">  <span class="number">11</span><span class="number">499.00</span>  智熏裙法式桔梗裙<span class="number">2019</span>新款夏装新款很仙的蕾丝网纱法国小众连衣裙</span><br><span class="line">  <span class="number">12</span><span class="number">188.00</span>  <span class="number">2019</span>流行裙子新款夏女韩版显瘦遮肚蕾丝连衣裙仙女超仙甜美小黑裙</span><br><span class="line">  <span class="number">13</span><span class="number">388.00</span>  蕾丝连衣裙女<span class="number">2019</span>夏新款法国小众气质显瘦中长款无袖打底背心裙子</span><br><span class="line">  <span class="number">14</span><span class="number">185.00</span>  法国小众很仙的小个子蕾丝连衣裙<span class="number">2019</span>新款夏甜美裙子仙女超仙森系</span><br><span class="line">  <span class="number">15</span><span class="number">388.00</span>  <span class="number">2019</span>夏装新款流行裙子夏很仙的法国小众蕾丝连衣裙女中长款仙女裙</span><br><span class="line">  <span class="number">16</span><span class="number">799.00</span>  Vero Moda2019秋季新款蕾丝面料五分袖V领连衣裙|<span class="number">31936</span>Z513</span><br><span class="line">  <span class="number">17</span><span class="number">389.00</span>  网纱蕾丝裙子<span class="number">2019</span>气质宽松小个子娃娃款刺绣超仙女白色连衣裙</span><br><span class="line">  <span class="number">18</span><span class="number">399.00</span>  ZARA  <span class="number">2019</span>新款 女装 珠宝纽扣饰蕾丝连衣裙<span class="number">04786061251</span></span><br><span class="line">  <span class="number">19</span><span class="number">398.00</span>  SitiV领智熏法式蕾丝连衣裙七分袖修身小众A字中长气质高端复古夏</span><br><span class="line">  <span class="number">20</span><span class="number">339.00</span>  伊芙丽鱼尾裙女裙子<span class="number">2019</span>秋装新款A字裙中长款蕾丝裙黑色半身裙女</span><br><span class="line">  <span class="number">21</span><span class="number">398.00</span>  秋水伊人法式蕾丝连衣裙<span class="number">2019</span>新款夏装女eggsshop丧系裙子森系超仙</span><br><span class="line">  <span class="number">22</span><span class="number">757.00</span>  JUZUI/玖姿官方旗舰店<span class="number">2019</span>夏季新款气质蕾丝拼接时尚中长连衣裙女</span><br><span class="line">  <span class="number">23</span><span class="number">1893.00</span> sandro2019春夏新款女装蕾丝镂空凸花中长连衣裙R20656E</span><br><span class="line">  <span class="number">24</span><span class="number">1430.00</span> sandro2019春夏新款女装浪漫蕾丝连衣裙R20680E</span><br><span class="line">  <span class="number">25</span><span class="number">148.00</span>  纯棉连衣裙女流行夏装<span class="number">2019</span>新款妈妈纯棉蕾丝短袖休闲气质显瘦裙子</span><br><span class="line">  <span class="number">26</span><span class="number">782.00</span>  JUZUI/玖姿官方旗舰店女装<span class="number">2019</span>夏季新款短袖蕾丝印花中长连衣裙女</span><br><span class="line">  <span class="number">27</span><span class="number">988.00</span>  DAZZLE地素 <span class="number">2019</span>夏装新款纯色镂空装饰水溶蕾丝半身裙女<span class="number">2</span>G2S2347B</span><br><span class="line">  <span class="number">28</span><span class="number">169.00</span>  黑色半身裙女<span class="number">2019</span>夏新款a字裙子中长款高腰网纱百褶学生蛋糕裙秋</span><br><span class="line">  <span class="number">29</span><span class="number">1399.00</span> 商场同款DOUBLOVE贝爱<span class="number">2019</span>春夏新款蕾丝连衣裙星星刺绣通透雅致</span><br><span class="line">  <span class="number">30</span><span class="number">1098.00</span> 真丝连衣裙<span class="number">2019</span>新款夏季女桑蚕丝高端时尚奢华大牌蕾丝白色裙子</span><br><span class="line">  <span class="number">31</span><span class="number">1086.00</span> SNIDEL2019春夏新品 甜美蕾丝钩花镂空鱼尾包中长半裙SWFS191137</span><br><span class="line">  <span class="number">32</span><span class="number">169.00</span>  蕾丝连衣裙性感一字肩仙女超仙甜美沙滩裙子<span class="number">2019</span>流行夏天海边度假</span><br><span class="line">  <span class="number">33</span><span class="number">1128.00</span> 朗姿 裙子女<span class="number">2019</span>夏装新款A字裙高腰修身V领条纹短袖蕾丝连衣裙女</span><br><span class="line">  <span class="number">34</span><span class="number">428.00</span>  三彩<span class="number">2019</span>夏季新款蕾丝雪纺连衣裙短袖假两件仙女流行蛋糕长裙子女</span><br><span class="line">  <span class="number">35</span><span class="number">1518.00</span> DAZZLE地素 秋装新款性感花纹收绳斜襟蕾丝连衣裙女<span class="number">2</span>F3O4067T</span><br><span class="line">  <span class="number">36</span><span class="number">1428.00</span> YINER音儿女装<span class="number">2019</span>夏季新款薄款蕾丝花边拼接喇叭袖收腰连衣裙</span><br><span class="line">  <span class="number">37</span><span class="number">218.00</span>  阔太太连衣裙两件套<span class="number">2019</span>新款夏季蕾丝披肩中长款显瘦气质过膝裙子</span><br><span class="line">  <span class="number">38</span><span class="number">339.90</span>  阿卡雪纺连衣裙女<span class="number">2019</span>夏新款蕾丝流行裙子收腰显瘦超仙甜美仙女裙</span><br><span class="line">  <span class="number">39</span><span class="number">685.00</span>  【商场同款】太平鸟女装<span class="number">2019</span>夏装新黑色蕾丝收腰连衣裙 A5FA92350</span><br><span class="line">  <span class="number">40</span><span class="number">79.00</span>   白色蕾丝半身裙女夏一步裙新款高腰显瘦中长款包臀a字半身长裙子</span><br><span class="line">  <span class="number">41</span><span class="number">830.00</span>  SNIDEL2019春夏新品复古宫廷风荷叶边蕾丝全棉连衣裙SWFO191038</span><br><span class="line">  <span class="number">42</span><span class="number">499.00</span>  Five Plus2019新款女夏装蕾丝连衣裙短袖V领荷叶边长裙子高腰镂空</span><br><span class="line">  <span class="number">43</span><span class="number">764.00</span>  ochirly 欧时力<span class="number">2019</span>新款夏装带蕾丝连衣裙女<span class="number">1</span>ZH2084160</span><br><span class="line">  <span class="number">44</span><span class="number">1590.00</span> dzzit地素 <span class="number">2019</span>秋专柜新款淑女千层蕾丝绣花连衣裙女<span class="number">3</span>G3O506</span><br><span class="line">  <span class="number">45</span><span class="number">1345.00</span> Miss Sixty2019新款秋季设计感荷叶边修身蕾丝很仙的连衣裙女</span><br><span class="line">  <span class="number">46</span><span class="number">708.00</span>  YINER音儿女装<span class="number">2019</span>夏季新款纯色时尚蕾丝花边拼接包臀鱼尾半身裙</span><br><span class="line">  <span class="number">47</span><span class="number">199.00</span>  诗凡黎很仙的纱裙女蕾丝<span class="number">2019</span>新款中长款高腰雪纺a字裙女半身裙</span><br><span class="line">  <span class="number">48</span><span class="number">1396.00</span> 影儿诗篇女装<span class="number">2019</span>秋季新款撞色丝绒织带钉珠蕾丝网纱连衣裙</span><br><span class="line">  <span class="number">49</span><span class="number">389.00</span>  网纱蕾丝裙子<span class="number">2019</span>气质宽松小个子娃娃款刺绣超仙女白色连衣裙</span><br><span class="line">  <span class="number">50</span><span class="number">528.00</span>  <span class="number">2019</span>夏季新款女装大牌欧美时尚黑色蕾丝裙子长款真丝桑蚕丝连衣裙</span><br><span class="line">  <span class="number">51</span><span class="number">299.00</span>  ONLY2019秋季新款领口系带气质名媛蕾丝修身连衣裙女|<span class="number">119161530</span></span><br><span class="line">  <span class="number">52</span><span class="number">399.00</span>  IVENI/依维妮<span class="number">2019</span>新款洋气蕾丝网纱长款过膝堆堆蛋糕裙连衣裙女潮</span><br><span class="line">  <span class="number">53</span><span class="number">399.50</span>  ONLY2019秋季新款气质一字肩蕾丝百褶收腰连衣裙女|<span class="number">119161511</span></span><br><span class="line">  <span class="number">54</span><span class="number">1968.00</span> 影儿YINER音儿女装<span class="number">2019</span>秋季新款蕾丝拼接两件套连衣裙<span class="number">8</span>C69305636</span><br><span class="line">  <span class="number">55</span><span class="number">499.50</span>  Vero Moda2019夏季新款宴会礼服丝滑里衬收腰蕾丝连衣裙<span class="number">31927</span>B568</span><br><span class="line">  <span class="number">56</span><span class="number">299.50</span>  ONLY2019秋季新款桔梗领口气质蕾丝套装雪纺连衣裙女|<span class="number">119107609</span></span><br><span class="line">  <span class="number">57</span><span class="number">559.00</span>  Five Plus2019新款女夏装蕾丝连衣裙女高腰蝴蝶结短裙子荷叶花边</span><br><span class="line">  <span class="number">58</span><span class="number">1728.00</span> YINER音儿女装<span class="number">2019</span>秋新款优雅蕾丝花边拼接花朵装饰旗袍连衣裙</span><br><span class="line">  <span class="number">59</span><span class="number">499.00</span>  智熏裙法式桔梗裙<span class="number">2019</span>新款夏装新款很仙的蕾丝网纱法国小众连衣裙</span><br><span class="line">  <span class="number">60</span><span class="number">299.50</span>  ONLY2019秋季新款chic气质蕾丝修身收腰百褶连衣裙女|<span class="number">119107650</span></span><br><span class="line">  <span class="number">61</span><span class="number">1277.00</span> JUZUI/玖姿官方旗舰店<span class="number">2019</span>夏季新款蕾丝拼接收腰显瘦中长连衣裙女</span><br><span class="line">  <span class="number">62</span><span class="number">259.00</span>  ZARA 新款 女装 凸纹蕾丝短连衣裙 <span class="number">04387223800</span></span><br><span class="line">  <span class="number">63</span><span class="number">299.00</span>  ZARA新款 女装 凸纹蕾丝装饰小打褶连衣裙 <span class="number">05598226942</span></span><br><span class="line">  <span class="number">64</span><span class="number">299.90</span>  蕾丝拼接连衣裙女夏装<span class="number">2019</span>新款很仙的法国小众裙子女复古雪纺裙</span><br><span class="line">  <span class="number">65</span><span class="number">668.00</span>  DAZZLE 地素 夏装新款 蕾丝镂空刺绣花高腰吊带连衣裙薄 <span class="number">2</span>A2O331</span><br><span class="line">  <span class="number">66</span><span class="number">148.00</span>  纯棉连衣裙女流行夏装<span class="number">2019</span>新款妈妈纯棉蕾丝短袖休闲气质显瘦裙子</span><br><span class="line">  <span class="number">67</span><span class="number">179.90</span>  乐町浪漫中长款裙子<span class="number">2019</span>夏季新款蕾丝显瘦ins超火的半身a字纱裙女</span><br><span class="line">  <span class="number">68</span><span class="number">2153.00</span> sandro2019春夏新款女装 撞色蕾丝领连衣裙 R20499E</span><br><span class="line">  <span class="number">69</span><span class="number">558.00</span>  欧洲站明星同款女装<span class="number">2019</span>新款时尚气质小香风修身白色蕾丝连衣裙夏</span><br><span class="line">  <span class="number">70</span><span class="number">268.00</span>  潘南奎 隐秘型性感 设计感蕾丝不规则连衣裙女无袖收腰气质小黑裙</span><br><span class="line">  <span class="number">71</span><span class="number">649.00</span>  ONLY2019秋季新款仙女蕾丝网纱收腰连衣裙女|<span class="number">119307528</span></span><br><span class="line">  <span class="number">72</span><span class="number">1430.00</span> sandro2019春夏新款女装浪漫蕾丝连衣裙R20680E</span><br><span class="line">  <span class="number">73</span><span class="number">1368.00</span> YINER音儿女装<span class="number">2019</span>夏季新款圆点娃娃领镂空蕾丝收腰连衣裙</span><br><span class="line">  <span class="number">74</span><span class="number">188.00</span>  <span class="number">2019</span>流行裙子新款夏女韩版显瘦遮肚蕾丝连衣裙仙女超仙甜美小黑裙</span><br><span class="line">  <span class="number">75</span><span class="number">149.00</span>  欧洲站<span class="number">2019</span>夏装新款宽松显瘦时尚蕾丝拼接连衣裙女胖mm鱼尾裙子潮</span><br><span class="line">  <span class="number">76</span><span class="number">298.00</span>  初恋女长裙微胖显瘦<span class="number">2019</span>夏装喇叭袖蕾丝拼接印花雪纺大码mm连衣裙</span><br><span class="line">  <span class="number">77</span><span class="number">79.00</span>   白色蕾丝半身裙女夏一步裙新款高腰显瘦中长款包臀a字半身长裙子</span><br><span class="line">  <span class="number">78</span><span class="number">1488.00</span> YINER音儿女装<span class="number">2019</span>秋季新款衬衫领纽扣拼接钩花镂空蕾丝连衣裙</span><br><span class="line">  <span class="number">79</span><span class="number">649.00</span>  ONLY2019秋季新款仙女透视蕾丝松紧收腰网纱连衣裙女|<span class="number">119207578</span></span><br><span class="line">  <span class="number">80</span><span class="number">218.00</span>  两件套连衣裙女夏季<span class="number">2019</span>新款流行气质中长款蕾丝披肩雪纺套装裙子</span><br><span class="line">  <span class="number">81</span><span class="number">849.00</span>  Vero Moda2019春季新款蕾丝拼接面料圆领连衣裙|<span class="number">31917</span>B504</span><br><span class="line">  <span class="number">82</span><span class="number">1098.00</span> 珂莱蒂尔蕾丝连衣裙<span class="number">2019</span>秋季新款超仙甜美法式高腰显瘦短袖裙子女</span><br><span class="line">  <span class="number">83</span><span class="number">148.00</span>  于momo民国大小姐复古风连衣裙斜门襟超仙气质收腰旗袍蕾丝裙</span><br><span class="line">  <span class="number">84</span><span class="number">1893.00</span> sandro2019春夏新款女装蕾丝镂空凸花中长连衣裙R20656E</span><br><span class="line">  <span class="number">85</span><span class="number">1548.00</span> YINER音儿女装<span class="number">2019</span>夏季新款中国风钩花蕾丝拼接旗袍领收腰连衣裙</span><br><span class="line">  <span class="number">86</span><span class="number">1718.00</span> 珂莱蒂尔蕾丝旗袍连衣裙<span class="number">2019</span>秋季新款气质时尚刺绣花收腰显瘦裙子</span><br><span class="line">  <span class="number">87</span><span class="number">168.00</span>  蕾丝连衣裙<span class="number">2019</span>新款夏韩版显瘦小黑裙长裙气质收腰网纱流行裙子女</span><br><span class="line">  <span class="number">88</span><span class="number">615.12</span>  SELECTED思莱德秋季新品撞色蕾丝拼接女士修身连衣裙S|<span class="number">41932</span>J516</span><br><span class="line">  <span class="number">89</span><span class="number">349.00</span>  ONLY2019秋季新款桔梗喇叭袖蕾丝雪纺连衣裙中长款女|<span class="number">119107681</span></span><br><span class="line">  <span class="number">90</span><span class="number">259.90</span>  乐町蕾丝拼接连衣裙<span class="number">2019</span>夏装新款超仙甜美很仙的法国小众雪纺裙子</span><br><span class="line">  <span class="number">91</span><span class="number">688.00</span>  <span class="number">19</span>妻子的浪漫旅行明星章子怡baby杨颖同款蕾丝镂空度假长款连衣裙</span><br><span class="line">  <span class="number">92</span><span class="number">799.00</span>  宋慧乔明星同款<span class="number">2019</span>新款夏收腰显瘦气质裙子女流行白色蕾丝连衣裙</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h1&gt;&lt;p&gt;Scrapy爬虫案例-淘宝比价定向爬虫学习笔记&lt;br&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="python" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/"/>
    
      <category term="scrapy" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/scrapy/"/>
    
    
      <category term="scrapy" scheme="https://yangyang188.coding.me/tags/scrapy/"/>
    
      <category term="spider" scheme="https://yangyang188.coding.me/tags/spider/"/>
    
  </entry>
  
  <entry>
    <title>Requests库学习笔记</title>
    <link href="https://yangyang188.coding.me/archives/4d89c206/"/>
    <id>https://yangyang188.coding.me/archives/4d89c206/</id>
    <published>2019-08-10T16:21:23.000Z</published>
    <updated>2019-10-27T13:50:20.247Z</updated>
    
    <content type="html"><![CDATA[<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>Requests库学习笔记<br><a id="more"></a></p><blockquote><p>学习教程：Python网络爬虫与信息提取<br>授课老师：嵩天<br>官方网站：<a href="https://python123.io" target="_blank" rel="external nofollow noopener noreferrer">https://python123.io</a><br>教程链接：<a href="https://python123.io/index/courses/804" target="_blank" rel="external nofollow noopener noreferrer">https://python123.io/index/courses/804</a></p></blockquote><h2 id="Requests库"><a href="#Requests库" class="headerlink" title="Requests库"></a>Requests库</h2><p>中文文档：<a href="https://2.python-requests.org//zh_CN/latest/user/quickstart.html" target="_blank" rel="external nofollow noopener noreferrer">https://2.python-requests.org//zh_CN/latest/user/quickstart.html</a></p><ul><li>安装：<code>pip install requests</code></li><li>验证安装：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; import requests</span><br><span class="line">&gt;&gt;&gt; r =requests.get(&quot;http://www.baidu.com&quot;)</span><br><span class="line">&gt;&gt;&gt; print(r.status_code)</span><br><span class="line">200</span><br><span class="line">&gt;&gt;&gt; r.text</span><br><span class="line">&lt;!DOCTYPE html&gt;\r\n&lt;!--STATUS OK--&gt;&lt;html&gt; &lt;head&gt;&lt;meta http-equiv=content-type content=text/html;charset=utf-8&gt;...</span><br></pre></td></tr></table></figure></li><li>Requests库的7个主要方法</li></ul><div class="table-container"><table><thead><tr><th>方法</th><th>说明</th></tr></thead><tbody><tr><td>requests.request()</td><td>构造一个请求，支撑以下各方法的基础方法</td></tr><tr><td>requests.get()</td><td>获取HTML网页的主要方法，对应于HTTP的GET</td></tr><tr><td>requests.head()</td><td>获取HTML网页头信息的方法，对应于HTTP的HEAD</td></tr><tr><td>requests.post()</td><td>向HTML网页提交POST请求的方法，对应于HTTP的POST</td></tr><tr><td>requests.put()</td><td>向HTML网页提交PUT请求的方法，对应于HTTP的PUT</td></tr><tr><td>requests.patch()</td><td>向HTML网页提交局部修改请求，对应于HTTP的PATCH</td></tr><tr><td>requests.delete()</td><td>向HTML页面提交删除请求，对应于HTTP的DELETE</td></tr></tbody></table></div><h3 id="Requests库的request-方法"><a href="#Requests库的request-方法" class="headerlink" title="Requests库的request()方法"></a>Requests库的request()方法</h3><p><code>requests.request(method, url, **kwargs)</code></p><ul><li>method : 请求方式，对应get/put/post等7种</li><li>url : 拟获取页面的url链接</li><li>**kwargs: 控制访问的参数，共13个</li></ul><p>method : 请求方式</p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'GET'</span>, url, **kwargs)</span><br><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'HEAD'</span>, url, **kwargs)</span><br><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'POST'</span>, url, **kwargs)</span><br><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'PUT'</span>, url, **kwargs)</span><br><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'PATCH'</span>, url, **kwargs)</span><br><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'delete'</span>, url, **kwargs)</span><br><span class="line"><span class="attr">r</span> = requests.request(<span class="string">'OPTIONS'</span>, url, **kwargs)</span><br></pre></td></tr></table></figure><p>**kwargs: 控制访问的参数，均为可选项</p><div class="table-container"><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>params :</td><td>字典或字节序列，作为参数增加到url中</td></tr><tr><td>data    :</td><td>字典、字节序列或文件对象，作为Request的内容    </td></tr><tr><td>json :</td><td>JSON格式的数据，作为Request的内容</td></tr><tr><td>headers :</td><td>字典，HTTP定制头</td></tr><tr><td>cookies :</td><td>字典或CookieJar，Request中的cookie</td></tr><tr><td>auth :</td><td>元组，支持HTTP认证功能</td></tr><tr><td>files   :</td><td>字典类型，传输文件</td></tr><tr><td>timeout :</td><td>设定超时时间，秒为单位</td></tr><tr><td>proxies :</td><td>字典类型，设定访问代理服务器，可以增加登录认证</td></tr><tr><td>allow_redirects :</td><td>True/False，默认为True，重定向开关</td></tr><tr><td>stream  :</td><td>True/False，默认为True，获取内容立即下载开关</td></tr><tr><td>verify  :</td><td>True/False，默认为True，认证SSL证书开关</td></tr><tr><td>cert    :</td><td>本地SSL证书路径</td></tr></tbody></table></div><h3 id="Requests库的get-方法"><a href="#Requests库的get-方法" class="headerlink" title="Requests库的get()方法"></a>Requests库的get()方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 构造一个向服务器请求资源的Request对象。</span><br><span class="line"># 返回一个包含服务器资源的Response对象</span><br><span class="line">r = requests.get(url)</span><br></pre></td></tr></table></figure><p><code>requests.get(url,params=None, **kwargs)</code></p><ul><li>url : 拟获取页面的url链接</li><li>params : url中的额外参数，字典或字节流格式，可选</li><li>**kwargs: 12个控制访问的参数</li></ul><p>Response对象的属性</p><div class="table-container"><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>r.status_code</td><td>HTTP请求的返回状态，200表示连接成功，404表示失败</td></tr><tr><td>r.text</td><td>HTTP响应内容的字符串形式，即，url对应的页面内容</td></tr><tr><td>r.encoding</td><td>从HTTP header中猜测的响应内容编码方式</td></tr><tr><td>r.apparent_encoding</td><td>从内容中分析出的响应内容编码方式（备选编码方式）</td></tr><tr><td>r.content</td><td>HTTP响应内容的二进制形式</td></tr></tbody></table></div><h3 id="Requests库的异常"><a href="#Requests库的异常" class="headerlink" title="Requests库的异常"></a>Requests库的异常</h3><div class="table-container"><table><thead><tr><th>异常</th><th>说明</th></tr></thead><tbody><tr><td>requests.ConnectionError</td><td>网络连接错误异常，如DNS查询失败、拒绝连接等</td></tr><tr><td>requests.HTTPError HTTP</td><td>错误异常</td></tr><tr><td>requests.URLRequired URL</td><td>缺失异常</td></tr><tr><td>requests.TooManyRedirects</td><td>超过最大重定向次数，产生重定向异常</td></tr><tr><td>requests.ConnectTimeout</td><td>连接远程服务器超时异常</td></tr><tr><td>requests.Timeout</td><td>请求URL超时，产生超时异常</td></tr></tbody></table></div><p>Response的异常</p><div class="table-container"><table><thead><tr><th>异常</th><th>说明</th></tr></thead><tbody><tr><td>r.raise_for_status()</td><td>如果不是200，产生异常 requests.HTTPError</td></tr></tbody></table></div><h3 id="爬取网页的通用代码框架"><a href="#爬取网页的通用代码框架" class="headerlink" title="爬取网页的通用代码框架"></a>爬取网页的通用代码框架</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">from pprint import pprint</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def getHTMLText(url):</span><br><span class="line">    try:</span><br><span class="line">        r = requests.get(url, timeout=30)</span><br><span class="line">        r.raise_for_status()  # 如果状态码不是200，引发HTTPError异常</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        return r.text</span><br><span class="line">    except BaseException:</span><br><span class="line">        return &quot;产生异常&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    url = &apos;http://www.baidu.com&apos;</span><br><span class="line">    pprint(getHTMLText(url))</span><br></pre></td></tr></table></figure><p>实例1：京东商品页面的爬取<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url, timeout=<span class="number">30</span>)</span><br><span class="line">        r.raise_for_status()  <span class="comment"># 如果状态码不是200，引发HTTPError异常</span></span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        print(r.text[:<span class="number">1000</span>])</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">"产生异常"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'https://item.jd.com/2967929.html'</span></span><br><span class="line">    getHTMLText(url)</span><br></pre></td></tr></table></figure></p><p>实例2：亚马逊商品页面的爬取</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        kv = &#123;</span><br><span class="line">            <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36'</span>&#125;</span><br><span class="line">        r = requests.get(url, headers=kv, timeout=<span class="number">30</span>)</span><br><span class="line">        r.raise_for_status()  <span class="comment"># 如果状态码不是200，引发HTTPError异常</span></span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        print(r.text[<span class="number">1000</span>:<span class="number">2000</span>])</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">"产生异常"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'https://www.amazon.cn/gp/product/B01M8L5Z3Y'</span></span><br><span class="line">    getHTMLText(url)</span><br></pre></td></tr></table></figure><p>实例3：百度/360搜索关键字提交</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        kv = &#123;<span class="string">'wd'</span>: keyword&#125;</span><br><span class="line">        r = requests.get(url, params=kv)</span><br><span class="line">        print(r.request.url)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        print(len(r.text))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">'爬取失败'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    keyword = <span class="string">'Python'</span></span><br><span class="line">    url = <span class="string">'http://www.baidu.com/s'</span></span><br><span class="line">    getHTMLText(url)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        kv = &#123;<span class="string">'q'</span>: keyword&#125;</span><br><span class="line">        r = requests.get(url, params=kv)</span><br><span class="line">        print(r.request.url)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        print(len(r.text))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        print(<span class="string">'爬取失败'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    keyword = <span class="string">'Python'</span></span><br><span class="line">    url = <span class="string">'http://www.so.com/s'</span></span><br><span class="line">    getHTMLText(url)</span><br></pre></td></tr></table></figure><p>实例4：网络图片的爬取和存储</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import <span class="built_in">os</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def getDownloadImages(url):</span><br><span class="line">    try:</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">os</span>.<span class="built_in">path</span>.exists(root):</span><br><span class="line">            <span class="built_in">os</span>.mkdir(root)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">os</span>.<span class="built_in">path</span>.exists(<span class="built_in">path</span>):</span><br><span class="line">            r = requests.get(url)</span><br><span class="line">            with <span class="built_in">open</span>(<span class="built_in">path</span>, <span class="string">'wb'</span>) as f:</span><br><span class="line">                f.<span class="built_in">write</span>(r.content)</span><br><span class="line">                f.<span class="built_in">close</span>()</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">'文件保存成功'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'文件已经存在'</span>)</span><br><span class="line">    except:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'爬取失败'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'http://image.nationalgeographic.com.cn/2017/0211/20170211061910157.jpg'</span></span><br><span class="line">    root = <span class="string">".//images//"</span></span><br><span class="line">    <span class="built_in">path</span> = root + url.split(<span class="string">'/'</span>)[<span class="number">-1</span>]</span><br><span class="line">    getDownloadImages(url)</span><br></pre></td></tr></table></figure><p>实例5：IP地址归属地的自动查询</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">url = <span class="string">'http://m.ip138.com/ip.asp?ip='</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHTMLText</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        r = requests.get(url + <span class="string">'182.32.20.67'</span>)</span><br><span class="line">        r.raise_for_status()</span><br><span class="line">        r.encoding = r.apparent_encoding</span><br><span class="line">        print(r.text[<span class="number">-500</span>:])</span><br><span class="line">    <span class="keyword">except</span> BaseException:</span><br><span class="line">        print(<span class="string">"爬取失败"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    url = <span class="string">'http://m.ip138.com/ip.asp?ip='</span></span><br><span class="line">    getHTMLText(url)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h1&gt;&lt;p&gt;Requests库学习笔记&lt;br&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="python" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/"/>
    
    
      <category term="Requests" scheme="https://yangyang188.coding.me/tags/requests/"/>
    
  </entry>
  
  <entry>
    <title>Beautiful Soup库学习笔记</title>
    <link href="https://yangyang188.coding.me/archives/246bc7f2/"/>
    <id>https://yangyang188.coding.me/archives/246bc7f2/</id>
    <published>2019-08-05T14:50:23.000Z</published>
    <updated>2019-10-27T13:51:11.758Z</updated>
    
    <content type="html"><![CDATA[<h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>Beautiful Soup库学习笔记<br><a id="more"></a></p><h2 id="Beautiful-Soup库"><a href="#Beautiful-Soup库" class="headerlink" title="Beautiful Soup库"></a>Beautiful Soup库</h2><p>安装：<code>pip install biautifulsoup4</code></p><p>演示HTML页面地址：<a href="http://python123.io/ws/demo.html" target="_blank" rel="external nofollow noopener noreferrer">http://python123.io/ws/demo.html</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">AUthor: yangyang</span></span><br><span class="line"><span class="string">Blog: yangyang188.coding.me</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">date: 2019/8/4 21:14</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">r = requests.get(<span class="string">'https://python123.io/ws/demo.html'</span>)</span><br><span class="line"><span class="comment"># print(r.text)</span></span><br><span class="line">demo = r.text</span><br><span class="line"><span class="comment"># html 解析</span></span><br><span class="line">soup = BeautifulSoup(demo, <span class="string">'html.parser'</span>)</span><br><span class="line"><span class="comment"># 修饰html</span></span><br><span class="line">print(soup.prettify())</span><br></pre></td></tr></table></figure><p>基本元素</p><p>Attributes(/‘ætrə,bjʊt/)属性</p><h3 id="Beautiful-Soup库解析器"><a href="#Beautiful-Soup库解析器" class="headerlink" title="Beautiful Soup库解析器"></a>Beautiful Soup库解析器</h3><div class="table-container"><table><thead><tr><th>解释器</th><th>使用方法</th><th>条件</th></tr></thead><tbody><tr><td>bs4的HTML解析器</td><td>BeautifulSoup(mk,’html.parser’)</td><td>安装bs4库</td></tr><tr><td>lxml的HTML解析器</td><td>BeautifulSoup(mk,’lxml’)</td><td>pip install lxml</td></tr><tr><td>lxml的XML解析器</td><td>BeautifulSoup(mk,’xml’)</td><td>pip install lxml</td></tr><tr><td>html5lib的解析器</td><td>BeautifulSoup(mk,’html5lib’)</td><td>pip install html5lib</td></tr></tbody></table></div><p>BeautifulSoup类的基本元素</p><div class="table-container"><table><thead><tr><th>基本元素</th><th>说明</th></tr></thead><tbody><tr><td>Tag</td><td>标签，最基本的信息组织单元，分别用<>和</>标明开头和结尾</td></tr><tr><td>Name</td><td>标签的名字，\<p>…\</p>的名字是’p’，格式：<tag>.name</tag></td></tr><tr><td>Attributes</td><td>标签的属性，字典形式组织，格式：<tag>.attrs</tag></td></tr><tr><td>NavigableString</td><td>标签内非属性字符串，<>…</>中字符串，格式：<tag>.string</tag></td></tr><tr><td>Comment</td><td>标签内字符串的注释部分，一种特殊的Comment类型</td></tr></tbody></table></div><h3 id="基于bs4库的HTML库的内容遍历方法"><a href="#基于bs4库的HTML库的内容遍历方法" class="headerlink" title="基于bs4库的HTML库的内容遍历方法"></a>基于bs4库的HTML库的内容遍历方法</h3><p>标签树的下行遍历</p><p>BeautifulSoup类型是标签树的根节点</p><div class="table-container"><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>.contents</td><td>子节点的列表，将<tag>所有儿子节点存入列表</tag></td></tr><tr><td>.children</td><td>子节点的迭代类型，与.contents类似，用于循环遍历儿子节点</td></tr><tr><td>.descendants</td><td>子孙节点的迭代类型，包含所有子孙节点，用于循环遍历</td></tr></tbody></table></div><p>标签树的上行遍历</p><div class="table-container"><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>.parent</td><td>节点的父亲标签</td></tr><tr><td>.parents</td><td>节点先辈标签的迭代类型，用于循环遍历先辈节点</td></tr></tbody></table></div><p>标签树的平行遍历</p><div class="table-container"><table><thead><tr><th>属性</th><th>说明</th></tr></thead><tbody><tr><td>.next_sibling</td><td>返回按照HTML文本顺序的下一个平行节点标签</td></tr><tr><td>.previous_sibling</td><td>返回按照HTML文本顺序的上一个平行节点标签</td></tr><tr><td>.next_siblings</td><td>迭代类型，返回按照HTML文本顺序的后续所有平行节点标签</td></tr><tr><td>.previous_siblings</td><td>迭代类型，返回按照HTML文本顺序的前续所有平行节点标签</td></tr></tbody></table></div><p>平行遍历发生在同一个父节点下的各节点间</p><p><img src="https://wx1.sinaimg.cn/large/d818c3ccly1g5p5xhb0bej21960lf0wt.jpg" alt="遍历"></p><h3 id="基于bs4库的HTML-格式输出"><a href="#基于bs4库的HTML-格式输出" class="headerlink" title="基于bs4库的HTML 格式输出"></a>基于bs4库的HTML 格式输出</h3><p>bs4库的prettify()方法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf-8</span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">AUthor: yangyang</span><br><span class="line">Blog: yangyang188.coding.me</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">date: 2019/8/4 21:14</span><br><span class="line"></span><br><span class="line">&quot;&quot;&quot;</span><br><span class="line">import requests</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">r = requests.get(&apos;https://python123.io/ws/demo.html&apos;)</span><br><span class="line"># print(r.text)</span><br><span class="line">demo = r.text</span><br><span class="line"># html 解析</span><br><span class="line">soup = BeautifulSoup(demo, &apos;html.parser&apos;)</span><br><span class="line"># 修饰html</span><br><span class="line">print(soup.prettify())</span><br></pre></td></tr></table></figure></p><h3 id="bs4库的编码"><a href="#bs4库的编码" class="headerlink" title="bs4库的编码"></a>bs4库的编码</h3><p>bs4库将任何HTML输入都变成utf‐8编码<br>Python 3.x默认支持编码是utf‐8,解析无障碍</p><h3 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h3><p>Beautiful Soup库入门</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">from bs4 import BeautifulSoup</span><br><span class="line">soup = <span class="constructor">BeautifulSoup('&lt;<span class="params">p</span>&gt;<span class="params">data</span>&lt;<span class="operator">/</span><span class="params">p</span>&gt;', '<span class="params">html</span>.<span class="params">parser</span>')</span></span><br></pre></td></tr></table></figure><p>bs4库的基本元素</p><p>Tag\<br>Name\<br>Attributes\<br>NavigableString\<br>Comment </p><p>bs4库的遍历功能</p><p>.contents \<br>.children \<br>.descendants\</p><p>.parent\<br>.parents\</p><p>.next_sibling \<br>.previous_sibling\<br>.next_siblings\<br>.previous_siblings\</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;说明&quot;&gt;&lt;a href=&quot;#说明&quot; class=&quot;headerlink&quot; title=&quot;说明&quot;&gt;&lt;/a&gt;说明&lt;/h1&gt;&lt;p&gt;Beautiful Soup库学习笔记&lt;br&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="python" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/"/>
    
    
      <category term="Beautiful Soup" scheme="https://yangyang188.coding.me/tags/beautiful-soup/"/>
    
  </entry>
  
  <entry>
    <title>linux文件和目录常用命令</title>
    <link href="https://yangyang188.coding.me/archives/2558cd37/"/>
    <id>https://yangyang188.coding.me/archives/2558cd37/</id>
    <published>2019-08-03T04:07:23.000Z</published>
    <updated>2019-10-27T13:50:32.983Z</updated>
    
    <content type="html"><![CDATA[<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>linux学习笔记—&gt;linux文件和目录常用命令。<br><a id="more"></a></p><h2 id="linux文件和目录常用命令"><a href="#linux文件和目录常用命令" class="headerlink" title="linux文件和目录常用命令"></a>linux文件和目录常用命令</h2><div class="table-container"><table><thead><tr><th>序号</th><th>命令</th><th>对应英文</th><th>作用</th></tr></thead><tbody><tr><td>01</td><td>ls</td><td>list</td><td>查看当前文件夹下的内容</td></tr><tr><td>02</td><td>pwd</td><td>print wrok directory</td><td>查看当前所在文件夹</td></tr><tr><td>03</td><td>cd [目录名]</td><td>change directory</td><td>切换文件夹</td></tr><tr><td>04</td><td>touch [文件名]</td><td>touch</td><td>如果文件不存在，新建文件</td></tr><tr><td>05</td><td>mkdir [目录名]</td><td>make directory</td><td>创建目录</td></tr><tr><td>06</td><td>rm [文件名]</td><td>remove</td><td>删除指定的文件名</td></tr><tr><td>07</td><td>clear</td><td>clear</td><td>清屏</td></tr></tbody></table></div><blockquote><p>小技巧:\<br>ctrl + shift + = 放大终端窗口的字体显示\<br>ctrl + - 缩小终端窗口的字体显示</p></blockquote><h3 id="终端命令格式"><a href="#终端命令格式" class="headerlink" title="终端命令格式"></a>终端命令格式</h3><p><code>command [-options] [parameter]</code></p><blockquote><p>说明：</p><p>command：命令名，相应功能的英文单词或单词的缩写\<br>[-options]：选项，可用来对命令进行控制，也可以省略\<br>parameter：传给命令的参数，可以是 零个、一个 或者 多个\<br>[] 代表可选</p></blockquote><h3 id="查阅命令帮助信息"><a href="#查阅命令帮助信息" class="headerlink" title="查阅命令帮助信息"></a>查阅命令帮助信息</h3><h4 id="—help"><a href="#—help" class="headerlink" title="—help"></a>—help</h4><p><code>command --help</code></p><h4 id="man"><a href="#man" class="headerlink" title="man"></a>man</h4><p><code>man command</code></p><blockquote><p>说明：</p><p>查阅 command 命令的使用手册\<br>man 是 manual 的缩写，是 Linux 提供的一个\ 手册，包含了绝大部分的命令、函数的详细使用说明\</p></blockquote><p>使用 man 时的操作键：</p><div class="table-container"><table><thead><tr><th>操作键</th><th>功能</th></tr></thead><tbody><tr><td>空格键</td><td>显示手册页的下一屏</td></tr><tr><td>Enter 键</td><td>一次滚动手册页的一行</td></tr><tr><td>b</td><td>回滚一屏</td></tr><tr><td>f</td><td>前滚一屏</td></tr><tr><td>q</td><td>退出</td></tr><tr><td>/word</td><td>搜索 word 字符串</td></tr></tbody></table></div><hr><h3 id="查看-创建-删除目录"><a href="#查看-创建-删除目录" class="headerlink" title="查看|创建|删除目录"></a>查看|创建|删除目录</h3><h4 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h4><p><strong>ls 常用选项</strong></p><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>-a</td><td>显示指定目录下所有子目录与文件，包括隐藏文件</td></tr><tr><td>-l</td><td>以列表方式显示文件的详细信息</td></tr><tr><td>-h</td><td>配合 -l 以人性化的方式显示文件大小</td></tr></tbody></table></div><p><strong>ls 通配符的使用</strong></p><div class="table-container"><table><thead><tr><th>通配符</th><th>含义</th></tr></thead><tbody><tr><td>*</td><td>代表任意个数个字符</td></tr><tr><td>?</td><td>代表任意一个字符，至少 1 个</td></tr><tr><td>[]</td><td>表示可以匹配字符组中的任一一个</td></tr><tr><td>[abc]</td><td>匹配 a、b、c 中的任意一个</td></tr><tr><td>[a-f]</td><td>匹配从 a 到 f 范围内的的任意一个字符</td></tr></tbody></table></div><h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><p>创建文件或修改文件时间<br>    如果文件 不存在，可以创建一个空白文件<br>    如果文件 已经存在，可以修改文件的末次修改日期</p><h4 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h4><p>创建一个新的目录</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-p</td><td>可以递归创建目录</td></tr><tr><td>通配符</td><td>含义</td></tr><tr><td>*</td><td>代表任意个数个字符</td></tr><tr><td>?</td><td>代表任意一个字符，至少 1 个</td></tr><tr><td>[]</td><td>表示可以匹配字符组中的任一一个</td></tr><tr><td>[abc]</td><td>匹配 a、b、c 中的任意一个</td></tr><tr><td>[a-f]</td><td>匹配从 a 到 f 范围内的的任意一个字符</td></tr></tbody></table></div><h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><p>删除文件或目录</p><blockquote><p>使用 rm 命令要小心，因为文件删除后不能恢复</p></blockquote><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-f</td><td>强制删除，忽略不存在的文件，无需提示</td></tr><tr><td>-r</td><td>递归地删除目录下的内容，删除文件夹 时必须加此参数</td></tr></tbody></table></div><h3 id="拷贝和移动文件"><a href="#拷贝和移动文件" class="headerlink" title="拷贝和移动文件"></a>拷贝和移动文件</h3><div class="table-container"><table><thead><tr><th>序号</th><th>命令</th><th>对应英文</th><th>作用</th></tr></thead><tbody><tr><td>01</td><td>tree [目录名]</td><td>tree</td><td>以树状图列出文件目录结构</td></tr><tr><td>02</td><td>cp 源文件 目标文件</td><td>copy</td><td>复制文件或者目录</td></tr><tr><td>03</td><td>mv 源文件 目标文件</td><td>move</td><td>移动文件或者目录／文件或者目录重命名</td></tr><tr><td>选项</td><td>含义</td></tr><tr><td>-f</td><td>强制删除，忽略不存在的文件，无需提示</td></tr><tr><td>-r</td><td>递归地删除目录下的内容，删除文件夹 时必须加此参数</td></tr></tbody></table></div><h4 id="tree"><a href="#tree" class="headerlink" title="tree"></a><code>tree</code></h4><p>tree 命令可以以树状图列出文件目录结构</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-d</td><td>只显示目录</td></tr></tbody></table></div><h4 id="cp"><a href="#cp" class="headerlink" title="cp"></a><code>cp</code></h4><p>cp 命令的功能是将给出的 文件 或 目录 复制到另一个 文件 或 目录 中，相当于 DOS 下的 copy 命令</p><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-i</td><td>覆盖文件前提示</td></tr><tr><td>-r</td><td>若给出的源文件是目录文件，则 cp 将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名</td></tr></tbody></table></div><h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a><code>mv</code></h4><ul><li><code>mv</code> 命令可以用来 <strong>移动</strong> <strong>文件</strong> 或 <strong>目录</strong>，也可以给 <strong>文件或目录重命名</strong></li></ul><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-i</td><td>覆盖文件前提示</td></tr></tbody></table></div><h3 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h3><div class="table-container"><table><thead><tr><th>序号</th><th>命令</th><th>对应英文</th><th>作用</th></tr></thead><tbody><tr><td>01</td><td>cat 文件名</td><td>concatenate</td><td>查看文件内容、创建文件、文件合并、追加文件内容等功能</td></tr><tr><td>02</td><td>more 文件名</td><td>more</td><td>分屏显示文件内容</td></tr><tr><td>03</td><td>grep 搜索文本 文件名</td><td>grep</td><td>搜索文本文件内容</td></tr></tbody></table></div><h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a><code>cat</code></h4><ul><li><code>cat</code> 命令可以用来 <strong>查看文件内容</strong>、<strong>创建文件</strong>、<strong>文件合并</strong>、<strong>追加文件内容</strong> 等功能</li><li><code>cat</code> 会一次显示所有的内容，适合 <strong>查看内容较少</strong> 的文本文件</li></ul><div class="table-container"><table><thead><tr><th>选项</th><th>含义</th></tr></thead><tbody><tr><td>-b</td><td>对非空输出行编号</td></tr><tr><td>-n</td><td>对输出的所有行编号</td></tr></tbody></table></div><blockquote><p>Linux 中还有一个 <code>nl</code> 的命令和 <code>cat -b</code> 的效果等价</p></blockquote><h4 id="more"><a href="#more" class="headerlink" title="more"></a><code>more</code></h4><ul><li><code>more</code> 命令可以用于分屏显示文件内容，每次只显示一页内容</li><li>适合于 <strong>查看内容较多</strong>的文本文件</li></ul><p>使用 <code>more</code> 的操作键：</p><div class="table-container"><table><thead><tr><th>操作键</th><th>功能</th></tr></thead><tbody><tr><td>空格键</td><td>显示手册页的下一屏</td></tr><tr><td>Enter 键</td><td>一次滚动手册页的一行</td></tr><tr><td>b</td><td>回滚一屏</td></tr><tr><td>f</td><td>前滚一屏</td></tr><tr><td>q</td><td>退出</td></tr><tr><td>/word</td><td>搜索 **word** 字符串</td></tr></tbody></table></div><h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a><code>grep</code></h4><ul><li>Linux 系统中 <code>grep</code> 命令是一种强大的文本搜索工具</li><li><code>grep</code>允许对文本文件进行 <strong>模式</strong>查找，所谓模式查找，又被称为正则表达式，在就业班会详细讲解</li></ul><p>| 选项  | 含义                     |</p><p>| -n | 显示匹配行及行号               |<br>| -v | 显示不包含匹配文本的所有行（相当于求反）   |<br>| -i | 忽略大小写                  |</p><ul><li>常用的两种模式查找</li></ul><div class="table-container"><table><thead><tr><th>参数</th><th>含义</th></tr></thead><tbody><tr><td>^a</td><td>行首，搜寻以 **a** 开头的行</td></tr><tr><td>ke$</td><td>行尾，搜寻以 **ke** 结束的行</td></tr></tbody></table></div><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><h4 id="echo-文字内容"><a href="#echo-文字内容" class="headerlink" title="echo 文字内容"></a><code>echo 文字内容</code></h4><ul><li><code>echo</code> 会在终端中显示参数指定的文字，通常会和 <strong>重定向</strong> 联合使用</li></ul><h4 id="重定向-amp-gt-和-amp-gt-amp-gt"><a href="#重定向-amp-gt-和-amp-gt-amp-gt" class="headerlink" title="重定向 &amp;gt; 和 &amp;gt;&amp;gt;"></a>重定向 <code>&amp;gt;</code> 和 <code>&amp;gt;&amp;gt;</code></h4><ul><li>Linux 允许将命令执行结果 <strong>重定向</strong>到一个 <strong>文件</strong></li><li>将本应显示在<strong>终端上的内容</strong> <strong>输出／追加</strong> 到<strong>指定文件中</strong></li></ul><p>其中</p><ul><li><code>&amp;gt;</code> 表示输出，会覆盖文件原有的内容</li><li><code>&amp;gt;&amp;gt;</code> 表示追加，会将内容追加到已有文件的末尾</li></ul><h4 id="管道"><a href="#管道" class="headerlink" title="管道 |"></a>管道 <code>|</code></h4><ul><li>Linux 允许将 <strong>一个命令的输出</strong> 可以<strong>通过管道</strong> 做为 <strong>另一个命令的输入</strong></li><li>可以理解现实生活中的管子，管子的一头塞东西进去，另一头取出来，这里 <code>|</code> 的左右分为两端，左端塞东西（写），右端取东西（读）</li></ul><p>常用的管道命令有：</p><ul><li><code>more</code>：分屏显示内容</li><li><code>grep</code>：在命令执行结果的基础上查询指定的文本</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h1&gt;&lt;p&gt;linux学习笔记—&amp;gt;linux文件和目录常用命令。&lt;br&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="linux" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/linux/"/>
    
    
      <category term="linux" scheme="https://yangyang188.coding.me/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Linux 主要目录速查表。</title>
    <link href="https://yangyang188.coding.me/archives/94029574/"/>
    <id>https://yangyang188.coding.me/archives/94029574/</id>
    <published>2019-08-03T01:51:23.000Z</published>
    <updated>2019-10-27T13:50:45.607Z</updated>
    
    <content type="html"><![CDATA[<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>linux学习笔记—&gt;Linux 主要目录速查表。<br><a id="more"></a></p><h2 id="Linux-主要目录速查表"><a href="#Linux-主要目录速查表" class="headerlink" title="Linux 主要目录速查表"></a>Linux 主要目录速查表</h2><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A(<span class="name">/</span>) --&gt;B(<span class="name">/bin</span>)</span><br><span class="line">A(<span class="name">/</span>) --&gt;C(<span class="name">/etc</span>)</span><br><span class="line">A(<span class="name">/</span>) --&gt;D(<span class="name">/home</span>)</span><br><span class="line">A(<span class="name">/</span>) --&gt;E(<span class="name">/lib</span>)</span><br><span class="line">A(<span class="name">/</span>) --&gt;f(<span class="name">/usr</span>)</span><br><span class="line">D --&gt;G(<span class="name">/itheima</span>)</span><br><span class="line">D --&gt;a(<span class="name">/python</span>)</span><br><span class="line">D --&gt;b(<span class="name">/laowang</span>)</span><br><span class="line">a --&gt;d(<span class="name">/Desktop</span>)</span><br><span class="line">a --&gt;d1(<span class="name">/Documents</span>)</span><br><span class="line">a --&gt;d2(<span class="name">/Downloads</span>)</span><br></pre></td></tr></table></figure><p><img src="https://ws2.sinaimg.cn/large/d818c3ccly1g5mdk67qbdj20j60a9t93.jpg" alt="目录"></p><ul><li><p><code>/</code>：根目录，一般根目录下只存放目录，在 linux 下有且只有一个根目录，所有的东西都是从这里开始</p></li><li><p>当在终端里输入 <code>/home</code>，其实是在告诉电脑，先从 <code>/</code>（根目录）开始，再进入到 home 目录</p></li><li><p><code>/bin</code>、<code>/usr/bin</code>：可执行二进制文件的目录，如常用的命令 <code>ls</code>、<code>tar</code>、<code>mv</code>、<code>cat</code> 等</p></li><li><p><code>/boot</code>：放置 linux 系统启动时用到的一些文件，如 linux<br>的内核文件：<code>/boot/vmlinuz</code>，系统引导管理器：<code>/boot/grub</code></p></li><li><p><code>/dev</code>：存放linux系统下的设备文件，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱<code>mount /dev/cdrom /mnt</code></p></li><li><p>/etc：系统配置文件存放的目录，不建议在此目录下存放可执行文件，重要的配置文件有</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">/etc/i</span>nittab</span><br><span class="line"><span class="regexp">/etc/</span>fstab</span><br><span class="line"><span class="regexp">/etc/i</span>nit.d</span><br><span class="line"><span class="regexp">/etc/</span>X11</span><br><span class="line"><span class="regexp">/etc/</span>sysconfig</span><br><span class="line"><span class="regexp">/etc/</span>xinetd.d</span><br></pre></td></tr></table></figure></li><li><code>/home</code>：系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下<ul><li><code>~</code>表示当前用户的家目录</li><li><code>~edu</code> 表示用户 <code>edu</code> 的家目录</li></ul></li><li><p><code>/lib</code>、<code>/usr/lib</code>、<code>/usr/local/lib</code>：系统使用的函数库的目录，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助</p></li><li><p><code>/lost+fount</code>：系统异常产生错误时，会将一些遗失的片段放置于此目录下</p></li><li><code>/mnt: /media</code>：光盘默认挂载点，通常光盘挂载于 <code>/mnt/cdrom</code> 下，也不一定，可以选择任意位置进行挂载</li><li><code>/opt</code>：给主机额外安装软件所摆放的目录</li><li><code>/proc</code>：此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的文件有：<code>/proc/cpuinfo</code>、<code>/proc/interrupts</code>、<code>/proc/dma</code>、<code>/proc/ioports</code>、<code>/proc/net/*</code> 等</li><li><code>/root</code>：系统管理员root的家目录</li><li><code>/sbin</code>、<code>/usr/sbin</code>、<code>/usr/local/sbin</code>：放置系统管理员使用的可执行命令，如 fdisk、shutdown、mount 等。与 /bin 不同的是，这几个目录是给系统管理员 root 使用的命令，一般用户只能”查看”而不能设置和使用</li><li><code>/tmp</code>：一般用户或正在执行的程序临时存放文件的目录，任何人都可以访问，重要数据不可放置在此目录下</li><li><code>/srv</code>：服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 /srv/www 内</li><li><code>/usr</code>：应用程序存放目录</li><li><code>/usr/bin</code>：存放应用程序</li><li><code>/usr/share</code>：存放共享数据</li><li><code>/usr/lib</code>：存放不能直接运行的，却是许多程序运行所必需的一些函数库文件</li><li><code>/usr/local</code>：存放软件升级包</li><li><code>/usr/share/doc</code>：系统说明文件存放目录</li><li><code>/usr/share/man</code>：程序说明文件存放目录</li><li><code>/var</code>：放置系统执行过程中经常变化的文件</li><li><code>/var/log</code>：随时更改的日志文件</li><li><code>/var/spool/mail</code>：邮件存放的目录</li><li><code>/var/run</code>：程序或服务启动后，其 PID 存放在该目录下</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h1&gt;&lt;p&gt;linux学习笔记—&amp;gt;Linux 主要目录速查表。&lt;br&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="linux" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/linux/"/>
    
    
      <category term="linux" scheme="https://yangyang188.coding.me/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>虚拟环境Ubuntu和Windows</title>
    <link href="https://yangyang188.coding.me/archives/104615db/"/>
    <id>https://yangyang188.coding.me/archives/104615db/</id>
    <published>2019-08-02T06:46:32.000Z</published>
    <updated>2019-10-27T13:50:12.957Z</updated>
    
    <content type="html"><![CDATA[<h1 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h1><p>关于自己学习python的笔记，仅供参考。</p><a id="more"></a><h2 id="Linux下安装虚拟环境"><a href="#Linux下安装虚拟环境" class="headerlink" title="Linux下安装虚拟环境"></a>Linux下安装虚拟环境</h2><h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><pre><code>sudo apt-get install python-virtualenv</code></pre><h4 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h4><pre><code>virtualenv [虚拟环境名称] </code></pre><blockquote><p>如，创建<strong>ENV</strong>的虚拟环境</p></blockquote><pre><code>virtualenv ENV# which python* # 查看python安装位置mkvirtualenv  -p /usr/bin/python3 python3deactivatemkvirtualenv  -p /usr/bin/python2 python2deactivate</code></pre><blockquote><p>默认情况下，虚拟环境会依赖系统环境中的site packages，就是说系统中已经安装好的第三方package也会安装在虚拟环境中，如果不想依赖这些package，那么可以加上参数 —no-site-packages建立虚拟环境</p></blockquote><pre><code>`virtualenv --no-site-packages [虚拟环境名称]`</code></pre><blockquote><p>启动虚拟环境<br>    <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ENV</span><br><span class="line"><span class="built_in">source</span> ./bin/activate</span><br></pre></td></tr></table></figure><br>注意此时命令行会多一个(ENV)，ENV为虚拟环境名称，接下来所有模块都只会安装到该目录中去。</p><p>退出虚拟环境</p></blockquote><pre><code>`deactivate`</code></pre><h3 id="Virtualenvwrapper"><a href="#Virtualenvwrapper" class="headerlink" title="Virtualenvwrapper"></a>Virtualenvwrapper</h3><p>Virtaulenvwrapper是virtualenv的扩展包，用于更方便管理虚拟环境，它可以做：</p><ol><li>将所有虚拟环境整合在一个目录下</li><li>管理（新增，删除，复制）虚拟环境</li><li>切换虚拟环境</li></ol><h4 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h4><pre><code>`sudo apt-get install virtualenvwrapper`</code></pre><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找安装位置</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">whereis</span> virtualenvwrapper.sh</span><br></pre></td></tr></table></figure><blockquote><p>创建目录用来存放虚拟环境</p></blockquote><pre><code>`mkdir $HOME/.virtualenvs`</code></pre><blockquote><p>在~/.bashrc中添加行：</p></blockquote><pre><code>`export WORKON_HOME=$HOME/.virtualenvs`</code></pre><blockquote><p>在~/.bashrc中添加行：<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># whereis virtualenvwrapper.sh</span></span><br><span class="line">source <span class="regexp">/usr/</span>share<span class="regexp">/virtualenvwrapper/</span>virtualenvwrapper.sh</span><br></pre></td></tr></table></figure></p><p>运行：</p></blockquote><pre><code>`source ~/.bashrc`</code></pre><h3 id="在虚拟环境安装Python套件"><a href="#在虚拟环境安装Python套件" class="headerlink" title="在虚拟环境安装Python套件"></a>在虚拟环境安装Python套件</h3><p>Virtualenv 附带有pip安装工具，因此需要安装的套件可以直接运行：</p><pre><code>`pip install [套件名称]`</code></pre><p>如果没有启动虚拟环境，系统也安装了pip工具，那么套件将被安装在系统环境中，为了避免发生此事，可以在~/.bashrc文件中加上：</p><pre><code>`export PIP_REQUIRE_VIRTUALENV=true`</code></pre><p>或者让在执行pip的时候让系统自动开启虚拟环境：</p><pre><code>`export PIP_RESPECT_VIRTUALENV=true`</code></pre><h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>建立两个纯净的虚拟环境</p><pre><code>    mkvirtualenv -p python3 py37    mkvirtualenv -p python2 py27</code></pre><ul><li>workon Env  进入虚拟环境 </li><li>pip list    查看已安装包列表 </li><li>deactivate  退出虚拟环境</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;引言&quot;&gt;&lt;a href=&quot;#引言&quot; class=&quot;headerlink&quot; title=&quot;引言&quot;&gt;&lt;/a&gt;引言&lt;/h1&gt;&lt;p&gt;关于自己学习python的笔记，仅供参考。&lt;/p&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="python" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/python/"/>
    
    
      <category term="python" scheme="https://yangyang188.coding.me/tags/python/"/>
    
      <category term="ubuntu" scheme="https://yangyang188.coding.me/tags/ubuntu/"/>
    
      <category term="windows" scheme="https://yangyang188.coding.me/tags/windows/"/>
    
  </entry>
  
  <entry>
    <title>Hexo-yilia测试</title>
    <link href="https://yangyang188.coding.me/archives/6a82640f/"/>
    <id>https://yangyang188.coding.me/archives/6a82640f/</id>
    <published>2019-07-31T04:03:00.000Z</published>
    <updated>2019-10-27T13:51:02.468Z</updated>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>主要测试音频视频插入<br>需要安装插件<code>npm inatall hexo-tag-owl --save</code> <code>npm inatall hexo-tag-video --save</code><br>不知道什么原因抖音视频本地测试成功，上线就失败了。</p><h2 id="插入音频视频"><a href="#插入音频视频" class="headerlink" title="插入音频视频"></a>插入音频视频</h2><a id="more"></a><h3 id="音乐"><a href="#音乐" class="headerlink" title="音乐"></a>音乐</h3><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="attribute">width</span>=<span class="string">"100%"</span> <span class="attribute">height</span>=<span class="string">"100%"</span> <span class="attribute">frameborder</span>=<span class="string">"no"</span> <span class="attribute">border</span>=<span class="string">"0"</span> <span class="attribute">marginwidth</span>=<span class="string">"0"</span> <span class="attribute">marginheight</span>=<span class="string">"0"</span> <span class="attribute">width</span>=330 <span class="attribute">height</span>=86 <span class="attribute">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=29793430&amp;auto=0&amp;height=32"</span>&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><iframe width="100%" height="100%" frameborder="no" border="0" marginwidth="0" marginheight="0" src="//music.163.com/outchain/player?type=2&id=29793430&auto=0&height=32"></iframe><h3 id="抖音视频"><a href="#抖音视频" class="headerlink" title="抖音视频"></a>抖音视频</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="built_in">width</span>=<span class="string">"350"</span> <span class="built_in">height</span>=<span class="string">"620"</span> frameborder=<span class="string">"1"</span> <span class="built_in">border</span>=<span class="string">"1"</span> marginwidth=<span class="string">"1"</span> src=<span class="string">"https://aweme.snssdk.com/aweme/v1/playwm/?s_vid=93f1b41336a8b7a442dbf1c29c6bbc5646bd13461529bc94f6724c2ca8dcc40839f088dba6360cf46bb6656bb3299240a79e4c9199871cad8e2f2aac26d7f12d&amp;line=0"</span> &gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><iframe width="350" height="620" frameborder="1" border="1" marginwidth="1" src="https://aweme.snssdk.com/aweme/v1/playwm/?s_vid=93f1b41336a8b7a442dbf1c29c6bbc5646bd13461529bc94f6724c2ca8dcc40839f088dba6360cf46bb6656bb3299240a79e4c9199871cad8e2f2aac26d7f12d&line=0"></iframe><h3 id="bilibili视频"><a href="#bilibili视频" class="headerlink" title="bilibili视频"></a>bilibili视频</h3><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iframe <span class="built_in">width</span>=<span class="string">"350"</span> <span class="built_in">height</span>=<span class="string">"620"</span> frameborder=<span class="string">"1"</span> <span class="built_in">border</span>=<span class="string">"1"</span> marginwidth=<span class="string">"1"</span> src=<span class="string">"https://aweme.snssdk.com/aweme/v1/playwm/?s_vid=93f1b41336a8b7a442dbf1c29c6bbc5646bd13461529bc94f6724c2ca8dcc40839f088dba6360cf46bb6656bb3299240a79e4c9199871cad8e2f2aac26d7f12d&amp;line=0"</span> &gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><iframe width="1080" height="680" src="//player.bilibili.com/player.html?aid=60571656&cid=105437527&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;主要测试音频视频插入&lt;br&gt;需要安装插件&lt;code&gt;npm inatall hexo-tag-owl --save&lt;/code&gt; &lt;code&gt;npm inatall hexo-tag-video --save&lt;/code&gt;&lt;br&gt;不知道什么原因抖音视频本地测试成功，上线就失败了。&lt;/p&gt;
&lt;h2 id=&quot;插入音频视频&quot;&gt;&lt;a href=&quot;#插入音频视频&quot; class=&quot;headerlink&quot; title=&quot;插入音频视频&quot;&gt;&lt;/a&gt;插入音频视频&lt;/h2&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="yilia" scheme="https://yangyang188.coding.me/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>Hexo yilia配置</title>
    <link href="https://yangyang188.coding.me/archives/4392eea4/"/>
    <id>https://yangyang188.coding.me/archives/4392eea4/</id>
    <published>2019-07-29T00:59:41.000Z</published>
    <updated>2019-10-27T13:50:57.077Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>刚接触搭Hexo是在Crossin的编程教室的<a href="https://lab.crossincode.com/deploy/" target="_blank" rel="external nofollow noopener noreferrer">建免费博客</a><br>接触的hexo 主题也是yilia。并且很喜欢这个主题。经过多方收集整理的hexo yilia配置，<br>其中有：修复缺失模块，配置头像，文章摘要，菜单优化，静态图床，统计，置顶404</p><p>仅供参考</p><a id="more"></a><h2 id="查看所有文件，提示缺失模块"><a href="#查看所有文件，提示缺失模块" class="headerlink" title="查看所有文件，提示缺失模块"></a>查看所有文件，提示缺失模块</h2><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 缺少模块。</span></span><br><span class="line"><span class="comment"># 1、请确保node版本大于6.2</span></span><br><span class="line"><span class="comment"># 2、在博客根目录（注意不是yilia根目录）执行以下命令:</span></span><br><span class="line"></span><br><span class="line"><span class="string">npm</span> <span class="string">i</span> <span class="string">hexo-generator-json-content</span> <span class="bullet">--save</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3、在根目录_config.yml里添加配置：</span></span><br><span class="line"><span class="comment"># 在全局配置文件_config.yml进行配置</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jsonContent:</span></span><br><span class="line"><span class="attr">    meta:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">    pages:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">    posts:</span></span><br><span class="line"><span class="attr">      title:</span><span class="literal">true</span></span><br><span class="line"><span class="attr">      date:</span><span class="literal">true</span></span><br><span class="line"><span class="attr">      path:</span><span class="literal">true</span></span><br><span class="line"><span class="attr">      text:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      raw:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      content:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      slug:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      updated:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      comments:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      link:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      permalink:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      excerpt:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      categories:</span><span class="literal">false</span></span><br><span class="line"><span class="attr">      tags:</span><span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="配置图片资源"><a href="#配置图片资源" class="headerlink" title="配置图片资源"></a>配置图片资源</h2><p>添加图片资源文件夹。 路径为 <code>themes/yilia/source/</code>下，可添加一个 <code>/assets/images/</code> 文件夹，里面存放图片资源即可</p><p>配置文件中直接引用即可。路径为 themes/yilia/_config.yml，找到如下即可</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 头像图片</span></span><br><span class="line"><span class="symbol">avatar:</span>  <span class="meta-keyword">/assets/</span>images/head.jpg</span><br><span class="line"><span class="meta"># 网页图标</span></span><br><span class="line"><span class="symbol">favicon:</span>  <span class="meta-keyword">/assets/</span>images/head.jpg</span><br></pre></td></tr></table></figure><h2 id="文章如何显示摘要"><a href="#文章如何显示摘要" class="headerlink" title="文章如何显示摘要"></a>文章如何显示摘要</h2><p>在你 MD 格式文章正文插入 <code>&lt;!-- more --&gt;</code></p><h2 id="增加菜单"><a href="#增加菜单" class="headerlink" title="增加菜单"></a>增加菜单</h2><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo new<span class="built_in"> page </span><span class="string">"archives"</span></span><br><span class="line">hexo new<span class="built_in"> page </span><span class="string">"about"</span></span><br><span class="line">hexo new<span class="built_in"> page </span><span class="string">"categories"</span></span><br></pre></td></tr></table></figure><p>修改 themes/yilia/_config.yml</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  主页: /</span><br><span class="line">  分类: <span class="string">/categories</span></span><br><span class="line">  归档: <span class="string">/archives</span></span><br><span class="line">  关于: <span class="string">/about</span></span><br></pre></td></tr></table></figure><p><code>编辑hexo/source/about/index.md</code></p><h3 id="categories配置"><a href="#categories配置" class="headerlink" title="categories配置"></a>categories配置</h3><p><strong>本节就实现多层分类的显示效果，具体操作如下：</strong></p><p><code>编辑hexo/source/categories/index.md</code></p><p>1、修改categories/index.md为：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">文章分类</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-07</span><span class="bullet">-29</span> <span class="number">10</span><span class="string">:13:21</span></span><br><span class="line"><span class="attr">type:</span> <span class="string">"categories"</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">"categories"</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><br>指定layout为categories，渲染时就会使用categories.ejs进行渲染。</p><p>2、新建yilia/layout/categories.ejs，内容如下：</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">article</span> <span class="attr">class</span>=<span class="string">"article article-type-post show"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"article-header"</span> <span class="attr">style</span>=<span class="string">"border-bottom: 1px solid #ccc"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"article-title"</span> <span class="attr">itemprop</span>=<span class="string">"name"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> page.title </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (site.categories.length)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"category-all-page"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>共计&amp;nbsp;<span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> site.categories.length </span><span class="xml"><span class="tag">%&gt;</span>&amp;nbsp;个分类<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> list_categories(site.categories, &#123;</span></span><br><span class="line"><span class="ruby">      <span class="symbol">show_count:</span> <span class="literal">true</span>,</span></span><br><span class="line"><span class="ruby">      <span class="class"><span class="keyword">class</span>: '<span class="title">category</span>-<span class="title">list</span>-<span class="title">item</span>',</span></span></span><br><span class="line"><span class="ruby">      <span class="symbol">style:</span> <span class="string">'list'</span>,</span></span><br><span class="line"><span class="ruby">      <span class="symbol">depth:</span> <span class="number">3</span>,</span></span><br><span class="line"><span class="ruby">      <span class="symbol">separator:</span> <span class="string">''</span></span></span><br><span class="line"><span class="ruby">    &#125;) </span><span class="xml">%&gt;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">article</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>3、修改yilia\source\main.0cf68a.css，将下面的内容添加进去：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">category-all-page</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">30px</span> <span class="number">40px</span> <span class="number">30px</span> <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">min-height</span>: <span class="number">70vh</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-tag">h2</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">20px</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-all-title</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-all</span> &#123;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-item-list-item</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">15px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-item-list-count</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: $grey;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-item-list-count</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">" ("</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-item-list-count</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">") "</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-item</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-count</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: $grey;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-count</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">" ("</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-count</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">") "</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.category-all-page</span> <span class="selector-class">.category-list-child</span> &#123;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure><p>4、修改自己的文章</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hexo</span> <span class="string">yilia基础配置</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-07</span><span class="bullet">-29</span> <span class="number">08</span><span class="string">:59:41</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">top:</span> <span class="number">4</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">[hexo,</span> <span class="string">yilia]</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">[专业,</span> <span class="string">前端,</span> <span class="string">hexo]</span></span><br><span class="line"><span class="attr">keywords:</span> </span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>5、生成html<br><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hexo</span> <span class="string">clean </span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">s</span></span><br></pre></td></tr></table></figure><br>访问categories，达到了预期效果，如下图：</p><p><img src="http://wx2.sinaimg.cn/mw690/d818c3ccly1g5ghpnz6qaj208109wjrb.jpg" alt="分类"></p><h2 id="静态图床"><a href="#静态图床" class="headerlink" title="静态图床"></a>静态图床</h2><p>可以去chrome网上应用商店下载一个叫<a href="https://chrome.google.com/webstore/detail/%E5%BE%AE%E5%8D%9A%E5%9B%BE%E5%BA%8A/pinjkilghdfhnkibhcangnpmcpdpmehk?hl=zh-CN" target="_blank" rel="external nofollow noopener noreferrer">微博图床</a>的chrome插件，下图是插件的界面，操作简单方便，具体使用看说明就可以啦，比较简单，这样图床的问题就解决了。</p><hr><h2 id="统计篇"><a href="#统计篇" class="headerlink" title="统计篇"></a>统计篇</h2><h3 id="1、添加站点访问量"><a href="#1、添加站点访问量" class="headerlink" title="1、添加站点访问量"></a>1、添加站点访问量</h3><blockquote><p>增加不蒜子统计</p></blockquote><p>下面是个人改变完成后的\themes\yilia\layout\_partial\footer.ejs文件：</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">footer</span> <span class="attr">id</span>=<span class="string">"footer"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"outer"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"footer-info"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-left"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    &amp;copy; <span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> date(new Date(), <span class="string">'YYYY'</span>) </span><span class="xml"><span class="tag">%&gt;</span> <span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> config.author <span class="params">||</span> config.title </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer-right"</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://hexo.io/"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Hexo<span class="tag">&lt;/<span class="name">a</span>&gt;</span>  Theme <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://github.com/litten/hexo-theme-yilia"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span>Yilia<span class="tag">&lt;/<span class="name">a</span>&gt;</span> by Litten</span></span><br><span class="line"><span class="xml">      <span class="comment">&lt;!--# PV方式，单个用户连续点击 n 篇，记录 n 次记录值--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                本站总访问量：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次</span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="comment">&lt;!--# UV方式，单个用户连续点击 n 篇，记录 1 次记录值--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_site_uv"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                本站访客数：<span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_site_uv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>人</span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--增加不蒜子统计--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">script</span>  <span class="attr">async</span>  <span class="attr">src</span>=<span class="string">"https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><code>&lt;a href=&quot;http://hexo.io/&quot; target=&quot;_blank&quot;&gt;Hexo&lt;/a&gt;  Theme &lt;a href=&quot;https://github.com/litten/hexo-theme-yilia&quot; target=&quot;_blank&quot;&gt;Yilia&lt;/a&gt; by Litten</code>（原来是主题的说明，不要可以删除）。</p><h3 id="2、单篇文章点击量"><a href="#2、单篇文章点击量" class="headerlink" title="2、单篇文章点击量"></a>2、单篇文章点击量</h3><p>在<code>themes/yilia/layout/_partial/article.ejs</code>中 在</p><p><code>&lt;%- partial(&#39;post/title&#39;, {class_name: &#39;article-title&#39;}) %&gt;</code></p><p>后面插入如下代码</p><figure class="highlight mojolicious"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="comment">&lt;!--显示阅读次数--&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="perl"> <span class="keyword">if</span> (!<span class="keyword">index</span> &amp;&amp; post.comments)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">br</span>/&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">"cloud-tie-join-count"</span> <span class="attr">href</span>=<span class="string">"javascript:void(0);"</span> <span class="attr">style</span>=<span class="string">"color:gray;font-size:14px;"</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"icon-sort"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_container_page_pv"</span> <span class="attr">style</span>=<span class="string">"color:#ef7522;font-size:14px;"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            阅读数: <span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"busuanzi_value_page_pv"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>次 &amp;nbsp;&amp;nbsp;</span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="perl"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml"><span class="comment">&lt;!--显示阅读次数完毕--&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="3、字数、阅读时长添加"><a href="#3、字数、阅读时长添加" class="headerlink" title="3、字数、阅读时长添加"></a>3、字数、阅读时长添加</h3><h4 id="安装-hexo-wordcount"><a href="#安装-hexo-wordcount" class="headerlink" title="安装 hexo-wordcount"></a>安装 hexo-wordcount</h4><p>在博客目录下打开Git Bash Here 输入命令:</p><p><code>npm install hexo-wordcount -–save</code></p><h4 id="文件配置"><a href="#文件配置" class="headerlink" title="文件配置"></a>文件配置</h4><p>在<code>theme\yilia\layout\_partial\post</code>下创建<code>word.ejs</code>文件：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"margin-top:10px;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-time"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-keyboard-o"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>  字数统计: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">wordcount</span>(<span class="attr">post.content</span>) %&gt;</span>字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-time"</span>&gt;</span></span><br><span class="line">      &amp;nbsp; | &amp;nbsp;</span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-icon"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-hourglass-half"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-item-text"</span>&gt;</span>  阅读时长: <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-count"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">min2read</span>(<span class="attr">post.content</span>) %&gt;</span>分<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后在 <code>themes/yilia/layout/_partial/article.ejs</code>中添加:</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"article-inner"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (post.link <span class="params">||</span> post.title)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">"article-header"</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> partial(<span class="string">'post/title'</span>, &#123;<span class="symbol">class_name:</span> <span class="string">'article-title'</span>&#125;) </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (!post.noDate)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> partial(<span class="string">'post/date'</span>, &#123;<span class="symbol">class_name:</span> <span class="string">'archive-article-date'</span>, <span class="symbol">date_format:</span> null&#125;) </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 需要添加的位置 --&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 开始添加字数统计--&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span>(theme.word_count &amp;&amp; !post.no_word_count)&#123;</span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">%-</span></span></span><span class="ruby"> partial(<span class="string">'post/word'</span>) </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="comment">&lt;!-- 添加完成 --&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="开启功能"><a href="#开启功能" class="headerlink" title="开启功能"></a>开启功能</h4><p>在站点的_config.yml中添加下面代码<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是否开启字数统计</span></span><br><span class="line"><span class="comment">#不需要使用，直接设置值为false，或注释掉</span></span><br><span class="line"><span class="attr">word_count:</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><br>效果预览：<a href="https://yangyang188.github.io" target="_blank" rel="external nofollow noopener noreferrer">https://yangyang188.github.io</a></p><h3 id="4、Hexo-Yilia网站运行时间"><a href="#4、Hexo-Yilia网站运行时间" class="headerlink" title="4、Hexo-Yilia网站运行时间"></a>4、Hexo-Yilia网站运行时间</h3><p>在<code>hexo/themes/yelee/layout/_partial/footer.ejs</code>文件中<code>&lt;div class=&quot;footer-left&quot;&gt;</code>内（具体位置可自选）加入如下代码：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"timeDate"</span>&gt;</span>载入天数...<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">"times"</span>&gt;</span>载入时分秒...<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> now = <span class="keyword">new</span> <span class="built_in">Date</span>(); </span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">createtime</span><span class="params">()</span> </span>&#123; </span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> grt= <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">"11/23/2018 20:00:00"</span>);<span class="comment">//此处修改你的建站时间或者网站上线时间 </span></span></span><br><span class="line"><span class="vbscript"><span class="built_in">now</span>.setTime(<span class="built_in">now</span>.getTime()+<span class="number">250</span>); </span></span><br><span class="line"><span class="javascript">days = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> / <span class="number">24</span>; dnum = <span class="built_in">Math</span>.floor(days); </span></span><br><span class="line"><span class="javascript">hours = (now - grt ) / <span class="number">1000</span> / <span class="number">60</span> / <span class="number">60</span> - (<span class="number">24</span> * dnum); hnum = <span class="built_in">Math</span>.floor(hours); </span></span><br><span class="line"><span class="vbscript"><span class="keyword">if</span>(<span class="built_in">String</span>(hnum).length ==<span class="number">1</span> )&#123;hnum = <span class="string">"0"</span> + hnum;&#125; minutes = (<span class="built_in">now</span> - grt ) / <span class="number">1000</span> /<span class="number">60</span> - (<span class="number">24</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * hnum); </span></span><br><span class="line"><span class="javascript">mnum = <span class="built_in">Math</span>.floor(minutes); <span class="keyword">if</span>(<span class="built_in">String</span>(mnum).length ==<span class="number">1</span> )&#123;mnum = <span class="string">"0"</span> + mnum;&#125; </span></span><br><span class="line"><span class="vbscript">seconds = (<span class="built_in">now</span> - grt ) / <span class="number">1000</span> - (<span class="number">24</span> * <span class="number">60</span> * <span class="number">60</span> * dnum) - (<span class="number">60</span> * <span class="number">60</span> * hnum) - (<span class="number">60</span> * mnum); </span></span><br><span class="line"><span class="javascript">snum = <span class="built_in">Math</span>.round(seconds); <span class="keyword">if</span>(<span class="built_in">String</span>(snum).length ==<span class="number">1</span> )&#123;snum = <span class="string">"0"</span> + snum;&#125; </span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">"timeDate"</span>).innerHTML = <span class="string">"本站已安全运行 "</span>+dnum+<span class="string">" 天 "</span>; </span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">"times"</span>).innerHTML = hnum + <span class="string">" 小时 "</span> + mnum + <span class="string">" 分 "</span> + snum + <span class="string">" 秒"</span>; </span></span><br><span class="line">&#125; </span><br><span class="line"><span class="actionscript">setInterval(<span class="string">"createtime()"</span>,<span class="number">250</span>);</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>注意：日期格式<code>11/29/2019 18:00:00</code></p><h3 id="5、在左侧显示总文章数"><a href="#5、在左侧显示总文章数" class="headerlink" title="5、在左侧显示总文章数"></a>5、在左侧显示总文章数</h3><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">nav</span> <span class="attr">class</span>=<span class="string">"header-menu"</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">for</span> (var i <span class="keyword">in</span> theme.menu)&#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%-</span></span></span><span class="ruby"> url_for(theme.menu[i]) </span><span class="xml"><span class="tag"><span class="string">%&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span></span></span><span class="ruby"> i </span><span class="xml"><span class="tag">%&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby">&#125;</span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>后面加上</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">nav</span>&gt;</span></span><br><span class="line">    总文章数 <span class="tag">&lt;<span class="name">%=site.posts.length%</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="怎么置顶文章"><a href="#怎么置顶文章" class="headerlink" title="怎么置顶文章"></a>怎么置顶文章</h2><h3 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">uninstall</span> hexo-generator-<span class="keyword">index</span> <span class="comment">--save</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">index</span>-pin-top <span class="comment">--save</span></span><br></pre></td></tr></table></figure><h3 id="配置置顶标准"><a href="#配置置顶标准" class="headerlink" title="配置置顶标准"></a>配置置顶标准</h3><p>打开：<code>/themes/*/layout（/_macro）/post.ejs</code><br>直接在最前面加入以下代码即可</p><figure class="highlight erb"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> <span class="keyword">if</span> (page.top) &#123; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-thumb-tack"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">7D26CD</span>&gt;</span>置顶<span class="tag">&lt;/<span class="name">font</span>&gt;</span></span></span><br><span class="line"><span class="xml">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-meta-divider"</span>&gt;</span>|<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">%</span></span></span><span class="ruby"> &#125; </span><span class="xml"><span class="tag">%&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="配置文章"><a href="#配置文章" class="headerlink" title="配置文章"></a>配置文章</h3><p>然后在需要置顶的文章的Front-matter中加上top选项即可<br>top后面的数字越大，优先级越高</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="number">2019</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-07</span><span class="bullet">-29</span> <span class="number">16</span><span class="string">:10:03</span></span><br><span class="line"><span class="attr">top:</span> <span class="number">5</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="优先级配置"><a href="#优先级配置" class="headerlink" title="优先级配置"></a>优先级配置</h3><p>修改根目录配置文件<code>/_config.yml</code>,<code>top</code>值<code>-1</code>标示根据<code>top</code>值倒序（正序设置为1即可），同样date也是根据创建日期倒序。</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">index_generator</span>:</span><br><span class="line">  <span class="attribute">path</span>: <span class="string">''</span></span><br><span class="line">  <span class="attribute">per_page</span>: <span class="number">10</span></span><br><span class="line">  <span class="attribute">order_by</span>:</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">1</span></span><br><span class="line">    <span class="attribute">date</span>: -<span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="hexo添加404公益界面"><a href="#hexo添加404公益界面" class="headerlink" title="hexo添加404公益界面"></a>hexo添加404公益界面</h2><ol><li>在博客根目录下终端输入命令:<code>hexo new page 404</code></li><li>打开刚新建的页面文件，默认在 Hexo 文件夹根目录下 <code>/source/404/index.md</code>；添加以下代码：</li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="number">404</span> <span class="string">Not</span> <span class="string">Found：该页无法显示</span></span><br><span class="line"><span class="attr">toc:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">/404</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="string">&lt;!DOCTYPE</span> <span class="string">html&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line">    <span class="string">&lt;head&gt;</span></span><br><span class="line">         <span class="string">&lt;meta</span> <span class="string">charset="UTF-8"</span> <span class="string">/&gt;</span></span><br><span class="line">         <span class="string">&lt;title&gt;404&lt;/title&gt;</span>                                                                                                                                        </span><br><span class="line">    <span class="string">&lt;/head&gt;</span></span><br><span class="line">    <span class="string">&lt;body&gt;</span></span><br><span class="line">         <span class="string">&lt;script</span> <span class="string">type="text/javascript"</span> <span class="string">src="//qzonestyle.gtimg.cn/qzone/hybrid/app/404/search_children.js"</span> <span class="string">homePageName="返回首页"</span> <span class="string">homePageUrl="https://yangyang188.coding.me"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>改<code>homePageUrl</code>:地址为你的主页</p><p><code>index.md</code>改为<code>404.html</code></p></blockquote><ol><li>部署:<code>hexo d -g</code></li></ol><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/dta0502/article/details/89607895" target="_blank" rel="external nofollow noopener noreferrer">Hexo-Yilia进阶笔记</a></p><p><a href="http://dongshuyan.com/2019/05/24/hexo%E5%8D%9A%E5%AE%A2%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9/#1%E3%80%81%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%AB%E5%BC%82%E5%B8%B8" target="_blank" rel="external nofollow noopener noreferrer">Hexo Yilia 高级配置</a></p><p><a href="https://www.liuyun.fun/2018/04/07/Hexo_yilia_%E4%B8%BB%E9%A2%98%E4%B8%80%E6%8F%BD%E5%AD%90%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88/#%E6%96%87%E7%AB%A0%E6%98%BE%E7%A4%BA%E7%9B%AE%E5%BD%95" target="_blank" rel="external nofollow noopener noreferrer">Hexo yilia 主题一揽子使用方案</a></p><p><a href="https://segmentfault.com/a/1190000017986794#articleHeader0" target="_blank" rel="external nofollow noopener noreferrer">超详细Hexo+Github Page搭建技术博客教程【持续更新】</a></p><p><a href="https://blog.csdn.net/stormdony/article/details/82559179" target="_blank" rel="external nofollow noopener noreferrer">hexo下yilia主题添加字数统计和阅读时长功能</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;刚接触搭Hexo是在Crossin的编程教室的&lt;a href=&quot;https://lab.crossincode.com/deploy/&quot; target=&quot;_blank&quot; rel=&quot;external nofollow noopener noreferrer&quot;&gt;建免费博客&lt;/a&gt;&lt;br&gt;接触的hexo 主题也是yilia。并且很喜欢这个主题。经过多方收集整理的hexo yilia配置，&lt;br&gt;其中有：修复缺失模块，配置头像，文章摘要，菜单优化，静态图床，统计，置顶404&lt;/p&gt;
&lt;p&gt;仅供参考&lt;/p&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="yilia" scheme="https://yangyang188.coding.me/tags/yilia/"/>
    
  </entry>
  
  <entry>
    <title>Hexo环境搭建</title>
    <link href="https://yangyang188.coding.me/archives/7d922bf5/"/>
    <id>https://yangyang188.coding.me/archives/7d922bf5/</id>
    <published>2019-07-28T01:21:12.000Z</published>
    <updated>2019-10-27T13:50:51.138Z</updated>
    
    <content type="html"><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>这篇文章介绍用GitHubPages和Hexo来搭建个人博客的环境搭建安装记录。</p><a id="more"></a><h2 id="准备环境"><a href="#准备环境" class="headerlink" title="准备环境"></a>准备环境</h2><p>准备 node 和 git 环境。因为 Hexo 是基于 Node.js 驱动的一款博客框架</p><p><strong>下载安装Node.js</strong></p><p>Node.js官方下载地址：<a href="https://nodejs.org/" target="_blank" rel="external nofollow noopener noreferrer">https://nodejs.org/</a></p><p>下载好之后，双击安装，一路next即可。</p><p><strong>下载安装git</strong></p><p>git官方下载地址：<a href="http://git-scm.com/download/" target="_blank" rel="external nofollow noopener noreferrer">http://git-scm.com/download/</a></p><blockquote><p>安装参考<br>掘金作者：<a href="https://juejin.im/user/5b6ba25a6fb9a04fca3ca37c" target="_blank" rel="external nofollow noopener noreferrer">小杰哥001</a>文章 —&gt;<br><a href="https://juejin.im/post/5c922e226fb9a070ca10351b" target="_blank" rel="external nofollow noopener noreferrer">git Windows版本安装教程</a></p></blockquote><p><strong>下载安装cmder(推荐)</strong></p><blockquote><p>参考：知乎作者：林玮<br><a href="https://zhuanlan.zhihu.com/p/28400466" target="_blank" rel="external nofollow noopener noreferrer">Windows上的程序员神器——Cmder</a></p></blockquote><p>补充:</p><p>加入环境变量</p><p><code>cd cmder.exe</code>所在的文件目录 添加右键命令:(<code>Cmder.exe /REGISTER ALL</code>)</p><p>在命令行中输入相应命令验证是否成功，如果成功会有相应的版本号</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">version</span></span><br><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p>右击任意位置，选择<code>Git Bash Here</code>, 或者选择<code>cmder here</code>。执行命令：</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure><p>如果失败换国内镜像源试试。</p><p><code>npm config set registry=&quot;http://registry.cnpmjs.org&quot;</code> ，</p><p>然后再次执行<code>npm install -g hexo-cli</code></p><h3 id="创建hexo文件夹"><a href="#创建hexo文件夹" class="headerlink" title="创建hexo文件夹"></a>创建hexo文件夹</h3><p>在任意文件夹下（如E:\hexo），打开Git Bash，执行命令：</p><p><code>hexo init</code></p><p>Hexo 即会在目标文件夹建立网站所需要的所有文件。</p><p>安装依赖包</p><p><code>npm install</code></p><p>命令缩写<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo generate = hexo g</span><br><span class="line">hexo<span class="built_in"> server </span>= hexo s</span><br><span class="line">hexo deploy = hexo d</span><br><span class="line">hexo new = hexo n</span><br></pre></td></tr></table></figure><br>新建完成后，指定文件夹的目录如下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml <span class="comment"># 网站的配置信息，您可以在此配置大部分的参数。 </span></span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds <span class="comment"># 模版文件夹</span></span><br><span class="line">├── <span class="built_in">source</span>  <span class="comment"># 资源文件夹，除 _posts 文件，其他以下划线_开头的文件或者文件夹不会被编译打包到public文件夹</span></span><br><span class="line">|   ├── _drafts <span class="comment"># 草稿文件</span></span><br><span class="line">|   └── _posts <span class="comment"># 文章Markdowm文件 </span></span><br><span class="line">└── themes  <span class="comment"># 主题文件夹</span></span><br></pre></td></tr></table></figure><p>本地查看</p><p>执行以下命令：<br><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">hexo</span> <span class="string">g</span></span><br><span class="line"><span class="attr">hexo</span> <span class="string">s</span></span><br></pre></td></tr></table></figure></p><p>然后到浏览器输入<a href="http://localhost:4000查看效果。" target="_blank" rel="external nofollow noopener noreferrer">http://localhost:4000查看效果。</a></p><p>至此，本地博客已经搭建起来了，别人看不到的。</p><h2 id="部署到GitHub"><a href="#部署到GitHub" class="headerlink" title="部署到GitHub"></a>部署到GitHub</h2><h3 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h3><p>GitHub官网：<a href="http://www.github.com" target="_blank" rel="external nofollow noopener noreferrer">http://www.github.com</a></p><p>创建repository</p><p>creat new repository，Repository</p><p>name和自己的用户名相同。比如我的用户名为yangyang188，那么`Repository</p><p>name`就填<br>yangyang188.github.io。</p><blockquote><p>注册：参考<br>作者：鱼先生，来源：segmentfault，原文：<a href="https://segmentfault.com/a/1190000017986794" target="_blank" rel="external nofollow noopener noreferrer">https://segmentfault.com/a/1190000017986794</a></p></blockquote><h3 id="GitHub之SSH-key"><a href="#GitHub之SSH-key" class="headerlink" title="GitHub之SSH key"></a>GitHub之SSH key</h3><h4 id="1、设置Git的user-name和user-email"><a href="#1、设置Git的user-name和user-email" class="headerlink" title="1、设置Git的user.name和user.email"></a>1、设置Git的user.name和user.email</h4><p>在第一次使用Git时，你需要告诉你的协同开发者，你是谁以及你的邮箱，在你提交的时候，Git需要这两个信息。具体通过以下命令设置：<br><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"yangyang188"</span></span><br><span class="line"></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"yangyang188@qq.com"</span></span><br></pre></td></tr></table></figure><br>需要注意的是，这里的name随意，邮箱是你的联系邮箱，与github完全无关。<br>查看配置命令：</p><p><code>git config --list</code></p><h4 id="2、生成SSH密钥"><a href="#2、生成SSH密钥" class="headerlink" title="2、生成SSH密钥"></a>2、生成SSH密钥</h4><p><code>ssh-keygen -t rsa -C &quot;voidking@qq.com&quot;</code>，按3个回车，密码为空。</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa key pair.</span><br><span class="line">Enter file <span class="keyword">in</span> which to save the key (<span class="regexp">/c/</span>Users<span class="regexp">/Administrator/</span>.ssh/id_rsa):</span><br><span class="line">Created directory <span class="string">'/c/Users/Administrator/.ssh'</span>.</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase <span class="string">again:</span></span><br><span class="line">Your identification has been saved <span class="keyword">in</span> <span class="regexp">/c/</span>Users<span class="regexp">/Administrator/</span>.ssh/id_rsa.</span><br><span class="line">Your <span class="keyword">public</span> key has been saved <span class="keyword">in</span> <span class="regexp">/c/</span>Users<span class="regexp">/Administrator/</span>.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint <span class="string">is:</span></span><br><span class="line"><span class="string">e6:</span><span class="number">9</span><span class="string">e:</span><span class="string">e7:</span><span class="string">ae:</span><span class="string">ad:</span><span class="string">ee:</span><span class="number">9</span><span class="string">f:</span><span class="string">f0:</span><span class="string">e5:</span><span class="number">6</span><span class="string">b:</span><span class="number">60</span>:<span class="number">63</span>:<span class="number">85</span>:<span class="string">e8:</span><span class="string">cd:</span>ae yangyang<span class="meta">@qq</span>.com</span><br></pre></td></tr></table></figure><p>在<code>C:\Users\Administrator\.ssh</code>下，得到两个文件<code>id_rsa</code>和<code>id_rsa.pub</code>。</p><p>需要注意的是，命令中的-C参数，后面跟的内容是注释。也就是说，内容随意，与github完全无关。</p><h4 id="3、在GitHub上添加SSH密钥"><a href="#3、在GitHub上添加SSH密钥" class="headerlink" title="3、在GitHub上添加SSH密钥"></a>3、在GitHub上添加SSH密钥</h4><p>打开<code>id_rsa.pub</code>，复制全文。<a href="https://github.com/settings/ssh" target="_blank" rel="external nofollow noopener noreferrer">https://github.com/settings/ssh</a> ，<code>Add SSH key</code>，粘贴进去。</p><h4 id="4、测试"><a href="#4、测试" class="headerlink" title="4、测试"></a>4、测试</h4><p><code>ssh git@github.com</code>，提示：<br><figure class="highlight vhdl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">The authenticity <span class="keyword">of</span> host <span class="symbol">'github</span>.com (<span class="number">192.30</span>.<span class="number">252.128</span>)' can<span class="symbol">'t</span> be established.</span><br><span class="line">RSA key fingerprint <span class="keyword">is</span> <span class="number">16</span>:<span class="number">27</span>:ac:a5:<span class="number">76</span>:<span class="number">28</span>:<span class="number">2</span>d:<span class="number">36</span>:<span class="number">63</span>:<span class="number">1</span>b:<span class="number">56</span>:<span class="number">4</span>d:eb:df:a6:<span class="number">48</span>.</span><br><span class="line">Are you sure you want <span class="keyword">to</span> continue connecting (yes/no)? yes</span><br><span class="line"><span class="literal">Warning</span>: Permanently added <span class="symbol">'github</span>.com,<span class="number">192.30</span>.<span class="number">252.128</span>' (RSA) <span class="keyword">to</span> the list <span class="keyword">of</span> known hosts.</span><br><span class="line">Hi voidking! You<span class="symbol">'ve</span> successfully authenticated, but GitHub does <span class="keyword">not</span> provide shell <span class="keyword">access</span>.</span><br><span class="line">Connection <span class="keyword">to</span> github.com closed.</span><br></pre></td></tr></table></figure></p><blockquote><p>参考：生成SSH密钥，作者：VoidKing<br>原文：<a href="https://www.voidking.com/dev-hexo-build-environment/" target="_blank" rel="external nofollow noopener noreferrer">https://www.voidking.com/dev-hexo-build-environment/</a></p></blockquote><p>_config.yml</p><p>编辑E:\hexo下的_config.yml，修改Deployment部分：</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># deploy:</span></span><br><span class="line"><span class="meta">#   type: git</span></span><br><span class="line"><span class="meta">#   message: [message]</span></span><br><span class="line"><span class="meta">#   repo:</span></span><br><span class="line"><span class="meta">#     github: &lt;repository url&gt;,[branch]</span></span><br></pre></td></tr></table></figure><p>我的配置：</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Deployment</span></span><br><span class="line"><span class="meta">## Docs: http:<span class="comment">//hexo.io/docs/deployment.html</span></span></span><br><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  repository:</span> https:<span class="comment">//github.com/yangyang1188/yangyang188.github.io.git</span></span><br><span class="line"><span class="symbol">  branch:</span> master</span><br></pre></td></tr></table></figure><h3 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h3><p><code>hexo d</code>，执行该命令，报错：</p><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ERROR </span>Deployer not found: git</span><br></pre></td></tr></table></figure><p>执行命令：</p><p><code>npm install hexo-deployer-git --save</code>，再次执行<code>hexo d</code></p><h3 id="访问测试"><a href="#访问测试" class="headerlink" title="访问测试"></a>访问测试</h3><p>访问：<a href="http://yangyang.github.io/" target="_blank" rel="external nofollow noopener noreferrer">http://yangyang.github.io/</a> ，可以看到，Hexo已经搭建成功！</p><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><a href="http://hexo.io/docs/" target="_blank" rel="external nofollow noopener noreferrer">官方文档</a></p><p><a href="https://www.voidking.com/dev-hexo-build-environment/" target="_blank" rel="external nofollow noopener noreferrer">Hexo环境搭建</a></p><p><a href="https://juejin.im/post/5c922e226fb9a070ca10351b" target="_blank" rel="external nofollow noopener noreferrer">git Windows版本安装教程</a></p><p><a href="https://zhuanlan.zhihu.com/p/28400466" target="_blank" rel="external nofollow noopener noreferrer">Windows上的程序员神器——Cmder</a></p><p><a href="https://segmentfault.com/a/1190000017986794" target="_blank" rel="external nofollow noopener noreferrer">超详细Hexo+Github Page搭建技术博客教程【持续更新】</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;这篇文章介绍用GitHubPages和Hexo来搭建个人博客的环境搭建安装记录。&lt;/p&gt;
    
    </summary>
    
    
      <category term="专业" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/"/>
    
      <category term="前端" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/"/>
    
      <category term="hexo" scheme="https://yangyang188.coding.me/categories/%E4%B8%93%E4%B8%9A/%E5%89%8D%E7%AB%AF/hexo/"/>
    
    
      <category term="hexo" scheme="https://yangyang188.coding.me/tags/hexo/"/>
    
      <category term="git" scheme="https://yangyang188.coding.me/tags/git/"/>
    
      <category term="ssh" scheme="https://yangyang188.coding.me/tags/ssh/"/>
    
  </entry>
  
</feed>
